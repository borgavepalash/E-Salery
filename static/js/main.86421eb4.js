/*! For license information please see main.86421eb4.js.LICENSE.txt */
(()=>{"use strict";var t={579:(t,e,n)=>{t.exports=n(1153)},1153:(t,e,n)=>{var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:s,_owner:o.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},2284:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{A:()=>r})},2730:(t,e,n)=>{var r=n(5043),i=n(8853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(o[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,r,i,s,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){g[t]=new m(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){g[t]=new m(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){g[t]=new m(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){g[t]=new m(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){g[t]=new m(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var M,j=Object.assign;function F(t){if(void 0===M)try{throw Error()}catch(gi){var e=gi.stack.trim().match(/\n( *(at )?)/);M=e&&e[1]||""}return"\n"+M+t}var U=!1;function B(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(di){var r=di}Reflect.construct(t,[],e)}else{try{e.call()}catch(di){r=di}t.call(e.prototype)}else{try{throw Error()}catch(di){r=di}t()}}catch(di){if(di&&r&&"string"===typeof di.stack){for(var i=di.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function V(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function z(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case N:return"Fragment";case S:return"Portal";case k:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case L:return null!==(e=t.displayName||null)?e:z(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return z(t(e))}catch(gi){}}return null}function q(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(e);case 8:return e===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function X(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function $(t,e){J(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function st(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ht(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function pt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach(function(t){ft.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]})});var gt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,St=null,Nt=null;function _t(t){if(t=Ai(t)){if("function"!==typeof xt)throw Error(s(280));var e=t.stateNode;e&&(e=Ti(e),xt(t.stateNode,t.type,e))}}function kt(t){St?Nt?Nt.push(t):Nt=[t]:St=t}function At(){if(St){var t=St,e=Nt;if(Nt=St=null,_t(t),e)for(t=0;t<e.length;t++)_t(e[t])}}function Et(t,e){return t(e)}function Tt(){}var Ct=!1;function It(t,e,n){if(Ct)return t(e,n);Ct=!0;try{return Et(t,e,n)}finally{Ct=!1,(null!==St||null!==Nt)&&(Tt(),At())}}function Lt(t,e){var n=t.stateNode;if(null===n)return null;var r=Ti(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var Pt=!1;if(u)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch(fi){Pt=!1}function Ot(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Rt=!1,Mt=null,jt=!1,Ft=null,Ut={onError:function(t){Rt=!0,Mt=t}};function Bt(t,e,n,r,i,s,a,o,l){Rt=!1,Mt=null,Ot.apply(Ut,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function zt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Vt(t)!==t)throw Error(s(188))}function Ht(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qt(i),t;if(a===r)return qt(i),e;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t),null!==t?Wt(t):null}function Wt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Wt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Kt=i.unstable_cancelCallback,Yt=i.unstable_shouldYield,Xt=i.unstable_requestPaint,Qt=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,$t=i.unstable_ImmediatePriority,Zt=i.unstable_UserBlockingPriority,te=i.unstable_NormalPriority,ee=i.unstable_LowPriority,ne=i.unstable_IdlePriority,re=null,ie=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/oe|0)|0},ae=Math.log,oe=Math.LN2;var le=64,ce=4194304;function ue(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function he(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ue(o):0!==(s&=a)&&(r=ue(s))}else 0!==(a=n&~i)?r=ue(a):0!==s&&(r=ue(s));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(s=e&-e)||16===i&&0!==(4194240&s)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-se(e)),r|=t[n],e&=~i;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function pe(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ge(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-se(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,xe,Se,Ne,_e,ke=!1,Ae=[],Ee=null,Te=null,Ce=null,Ie=new Map,Le=new Map,Pe=[],De="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oe(t,e){switch(t){case"focusin":case"focusout":Ee=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Ce=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Le.delete(e.pointerId)}}function Re(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=Ai(e))&&xe(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Me(t){var e=ki(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=zt(n)))return t.blockedOn=e,void _e(t.priority,function(){Se(n)})}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Ai(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function Fe(t,e,n){je(t)&&n.delete(e)}function Ue(){ke=!1,null!==Ee&&je(Ee)&&(Ee=null),null!==Te&&je(Te)&&(Te=null),null!==Ce&&je(Ce)&&(Ce=null),Ie.forEach(Fe),Le.forEach(Fe)}function Be(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function Ve(t){function e(e){return Be(e,t)}if(0<Ae.length){Be(Ae[0],t);for(var n=1;n<Ae.length;n++){var r=Ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ee&&Be(Ee,t),null!==Te&&Be(Te,t),null!==Ce&&Be(Ce,t),Ie.forEach(e),Le.forEach(e),n=0;n<Pe.length;n++)(r=Pe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Pe.length&&null===(n=Pe[0]).blockedOn;)Me(n),null===n.blockedOn&&Pe.shift()}var ze=w.ReactCurrentBatchConfig,qe=!0;function He(t,e,n,r){var i=ye,s=ze.transition;ze.transition=null;try{ye=1,Ge(t,e,n,r)}finally{ye=i,ze.transition=s}}function We(t,e,n,r){var i=ye,s=ze.transition;ze.transition=null;try{ye=4,Ge(t,e,n,r)}finally{ye=i,ze.transition=s}}function Ge(t,e,n,r){if(qe){var i=Ye(t,e,n,r);if(null===i)qr(t,e,r,Ke,n),Oe(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ee=Re(Ee,t,e,n,r,i),!0;case"dragenter":return Te=Re(Te,t,e,n,r,i),!0;case"mouseover":return Ce=Re(Ce,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ie.set(s,Re(Ie.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Le.set(s,Re(Le.get(s)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Oe(t,r),4&e&&-1<De.indexOf(t)){for(;null!==i;){var s=Ai(i);if(null!==s&&we(s),null===(s=Ye(t,e,n,r))&&qr(t,e,r,Ke,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(t,e,r,null,n)}}var Ke=null;function Ye(t,e,n,r){if(Ke=null,null!==(t=ki(t=wt(r))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=zt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Xe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case $t:return 1;case Zt:return 4;case te:case ee:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Qe=null,Je=null,$e=null;function Ze(){if($e)return $e;var t,e,n=Je,r=n.length,i="value"in Qe?Qe.value:Qe.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[s-e];e++);return $e=i.slice(t,1<e?1-e:void 0)}function tn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function en(){return!0}function nn(){return!1}function rn(t){function e(e,n,r,i,s){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:nn,this.isPropagationStopped=nn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),e}var sn,an,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=j({},ln,{view:0,detail:0}),hn=rn(un),dn=j({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==on&&(on&&"mousemove"===t.type?(sn=t.screenX-on.screenX,an=t.screenY-on.screenY):an=sn=0,on=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),fn=rn(dn),pn=rn(j({},dn,{dataTransfer:0})),mn=rn(j({},un,{relatedTarget:0})),gn=rn(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(j({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function _n(){return Nn}var kn=j({},un,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=tn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(t){return"keypress"===t.type?tn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?tn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=rn(kn),En=rn(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(j({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=rn(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=j({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=rn(In),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,Mn=u&&(!Dn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Fn=!1;function Un(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zn[t.type]:"textarea"===e}function Hn(t,e,n,r){kt(r),0<(e=Wr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wn=null,Gn=null;function Kn(t){jr(t,0)}function Yn(t){if(K(Ei(t)))return t}function Xn(t,e){if("change"===t)return e}var Qn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),$n="function"===typeof Zn.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",er),Gn=Wn=null)}function er(t){if("value"===t.propertyName&&Yn(Gn)){var e=[];Hn(e,Gn,t,wt(t)),It(Kn,e)}}function nr(t,e,n){"focusin"===t?(tr(),Gn=n,(Wn=e).attachEvent("onpropertychange",er)):"focusout"===t&&tr()}function rr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Gn)}function ir(t,e){if("click"===t)return Yn(e)}function sr(t,e){if("input"===t||"change"===t)return Yn(e)}var ar="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function or(t,e){if(ar(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function ur(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ur(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function hr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(wi){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fr(t){var e=hr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=Wr(gr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Nr={};function _r(t){if(Sr[t])return Sr[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Nr)return Sr[t]=n[e];return t}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=_r("animationend"),Ar=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){Cr.set(t,e),l(e,[t])}for(var Pr=0;Pr<Ir.length;Pr++){var Dr=Ir[Pr];Lr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Lr(kr,"onAnimationEnd"),Lr(Ar,"onAnimationIteration"),Lr(Er,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,o,l,c){if(Bt.apply(this,arguments),Rt){if(!Rt)throw Error(s(198));var u=Mt;Rt=!1,Mt=null,jt||(jt=!0,Ft=u)}}(r,e,void 0,t),t.currentTarget=null}function jr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break t;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break t;Mr(i,o,c),s=l}}}if(jt)throw t=Ft,jt=!1,Ft=null,t}function Fr(t,e){var n=e[bi];void 0===n&&(n=e[bi]=new Set);var r=t+"__bubble";n.has(r)||(zr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),zr(n,t,r,e)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[Br]){t[Br]=!0,a.forEach(function(e){"selectionchange"!==e&&(Rr.has(e)||Ur(e,!1,t),Ur(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Br]||(e[Br]=!0,Ur("selectionchange",!1,e))}}function zr(t,e,n,r){switch(Xe(e)){case 1:var i=He;break;case 4:i=We;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Pt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qr(t,e,n,r,i){var s=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=ki(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue t}o=o.parentNode}}r=r.return}It(function(){var r=s,i=wt(n),a=[];t:{var o=Cr.get(t);if(void 0!==o){var l=cn,c=t;switch(t){case"keypress":if(0===tn(n))break t;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case kr:case Ar:case Er:l=gn;break;case Tr:l=Cn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Lt(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===bt||!(c=n.relatedTarget||n.fromElement)||!ki(c)&&!c[yi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ki(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=En,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ei(l),f=null==c?o:Ei(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,ki(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==h&&Kr(a,h,c,u,!0)}if("select"===(l=(o=r?Ei(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if(Qn)g=sr;else{g=rr;var v=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(t,r))?Hn(a,g,n,i):(v&&v(t,o,r),"focusout"===t&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&tt(o,"number",o.value)),v=r?Ei(r):window,t){case"focusin":(qn(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=Ze()):(Je="value"in(Qe=i)?Qe.value:Qe.textContent,Vn=!0)),0<(v=Wr(r,b)).length&&(b=new bn(b,t,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Rn?function(t,e){switch(t){case"compositionend":return Bn(e);case"keypress":return 32!==e.which?null:(Fn=!0,jn);case"textInput":return(t=e.data)===jn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Dn&&Un(t,e)?(t=Ze(),$e=Je=Qe=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,e)})}function Hr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Lt(t,n))&&r.unshift(Hr(t,s,i)),null!=(s=Lt(t,e))&&r.push(Hr(t,s,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kr(t,e,n,r,i){for(var s=e._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Lt(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=Lt(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(t){return("string"===typeof t?t:""+t).replace(Yr,"\n").replace(Xr,"")}function Jr(t,e,n){if(e=Qr(e),Qr(t)!==e&&n)throw Error(s(425))}function $r(){}var Zr=null,ti=null;function ei(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,ii="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ii?function(t){return ii.resolve(null).then(t).catch(ai)}:ni;function ai(t){setTimeout(function(){throw t})}function oi(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ve(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ve(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var pi=Math.random().toString(36).slice(2),mi="__reactFiber$"+pi,vi="__reactProps$"+pi,yi="__reactContainer$"+pi,bi="__reactEvents$"+pi,Si="__reactListeners$"+pi,_i="__reactHandles$"+pi;function ki(t){var e=t[mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yi]||n[mi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[mi])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function Ai(t){return!(t=t[mi]||t[yi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Ti(t){return t[vi]||null}var Ci=[],Ii=-1;function Li(t){return{current:t}}function Pi(t){0>Ii||(t.current=Ci[Ii],Ci[Ii]=null,Ii--)}function Di(t,e){Ii++,Ci[Ii]=t.current,t.current=e}var Oi={},Ri=Li(Oi),Mi=Li(!1),ji=Oi;function Fi(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ui(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Bi(){Pi(Mi),Pi(Ri)}function Vi(t,e,n){if(Ri.current!==Oi)throw Error(s(168));Di(Ri,e),Di(Mi,n)}function zi(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,q(t)||"Unknown",i));return j({},n,r)}function qi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,ji=Ri.current,Di(Ri,t),Di(Mi,Mi.current),!0}function Wi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=zi(t,e,ji),r.__reactInternalMemoizedMergedChildContext=t,Pi(Mi),Pi(Ri),Di(Ri,t)):Pi(Mi),Di(Mi,n)}var Gi=null,Ki=!1,Yi=!1;function Xi(t){null===Gi?Gi=[t]:Gi.push(t)}function Qi(){if(!Yi&&null!==Gi){Yi=!0;var t=0,e=ye;try{var n=Gi;for(ye=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Gi=null,Ki=!1}catch(ui){throw null!==Gi&&(Gi=Gi.slice(t+1)),Gt($t,Qi),ui}finally{ye=e,Yi=!1}}return null}var Ji=[],$i=0,Zi=null,ts=0,es=[],ns=0,rs=null,is=1,ss="";function as(t,e){Ji[$i++]=ts,Ji[$i++]=Zi,Zi=t,ts=e}function ls(t,e,n){es[ns++]=is,es[ns++]=ss,es[ns++]=rs,rs=t;var r=is;t=ss;var i=32-se(r)-1;r&=~(1<<i),n+=1;var s=32-se(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,is=1<<32-se(e)+i|n<<i|r,ss=s+t}else is=1<<s|n<<i|r,ss=t}function cs(t){null!==t.return&&(as(t,1),ls(t,1,0))}function us(t){for(;t===Zi;)Zi=Ji[--$i],Ji[$i]=null,ts=Ji[--$i],Ji[$i]=null;for(;t===rs;)rs=es[--ns],es[ns]=null,ss=es[--ns],es[ns]=null,is=es[--ns],es[ns]=null}var hs=null,ds=null,fs=!1,ps=null;function ms(t,e){var n=Vc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function gs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,hs=t,ds=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,hs=t,ds=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==rs?{id:is,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Vc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,hs=t,ds=null,!0);default:return!1}}function vs(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ys(t){if(fs){var e=ds;if(e){var n=e;if(!gs(t,e)){if(vs(t))throw Error(s(418));e=li(n.nextSibling);var r=hs;e&&gs(t,e)?ms(r,n):(t.flags=-4097&t.flags|2,fs=!1,hs=t)}}else{if(vs(t))throw Error(s(418));t.flags=-4097&t.flags|2,fs=!1,hs=t}}}function bs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;hs=t}function ws(t){if(t!==hs)return!1;if(!fs)return bs(t),fs=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ei(t.type,t.memoizedProps)),e&&(e=ds)){if(vs(t))throw xs(),Error(s(418));for(;e;)ms(t,e),e=li(e.nextSibling)}if(bs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ds=li(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ds=null}}else ds=hs?li(t.stateNode.nextSibling):null;return!0}function xs(){for(var t=ds;t;)t=li(t.nextSibling)}function Ss(){ds=hs=null,fs=!1}function Ns(t){null===ps?ps=[t]:ps.push(t)}var _s=w.ReactCurrentBatchConfig;function ks(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Es(t){return(0,t._init)(t._payload)}function Ts(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=qc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Kc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var s=n.type;return s===N?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Es(s)===e.type)?((r=i(e,n.props)).ref=ks(t,e,n),r.return=t,r):((r=Hc(n.type,n.key,n.props,null,t.mode,r)).ref=ks(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,s){return null===e||7!==e.tag?((e=Wc(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Kc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Hc(e.type,e.key,e.props,null,t.mode,n)).ref=ks(t,null,e),n.return=t,n;case S:return(e=Yc(e,t.mode,n)).return=t,e;case P:return d(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Wc(e,t.mode,n,null)).return=t,e;As(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(t,e,n,r):null;case S:return n.key===i?u(t,e,n,r):null;case P:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);As(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case S:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case P:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);As(e,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),fs&&as(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return fs&&as(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach(function(t){return e(i,t)}),fs&&as(i,m),c}function g(i,o,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}t&&m&&null===b.alternate&&e(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),fs&&as(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return fs&&as(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return t&&m.forEach(function(t){return e(i,t)}),fs&&as(i,g),u}return function t(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Es(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=ks(r,u,a),s.return=r,r=s;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===N?((s=Wc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Hc(a.type,a.key,a.props,null,r.mode,l)).ref=ks(r,s,a),l.return=r,r=l)}return o(r);case S:t:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break t}n(r,s);break}e(r,s),s=s.sibling}(s=Yc(a,r.mode,l)).return=r,r=s}return o(r);case P:return t(r,s,(u=a._init)(a._payload),l)}if(et(a))return m(r,s,a,l);if(R(a))return g(r,s,a,l);As(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Kc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Cs=Ts(!0),Is=Ts(!1),Ls=Li(null),Ps=null,Ds=null,Os=null;function Rs(){Os=Ds=Ps=null}function Ms(t){var e=Ls.current;Pi(Ls),t._currentValue=e}function js(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Ps=t,Os=Ds=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Co=!0),t.firstContext=null)}function Us(t){var e=t._currentValue;if(Os!==t)if(t={context:t,memoizedValue:e,next:null},null===Ds){if(null===Ps)throw Error(s(308));Ds=t,Ps.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Bs=null;function Vs(t){null===Bs?Bs=[t]:Bs.push(t)}function qs(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Vs(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hs(t,r)}function Hs(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ws=!1;function Gs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ks(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xs(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Fl)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hs(t,n)}return null===(i=r.interleaved)?(e.next=e,Vs(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hs(t,n)}function Qs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Js(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $s(t,e,n,r){var i=t.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var p=t,m=o;switch(d=e,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break t;h=j({},h,d);break t;case 2:Ws=!0}}null!==o.callback&&0!==o.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);Gl|=a,t.lanes=a,t.memoizedState=h}}function Zs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var ta={},ea=Li(ta),na=Li(ta),ra=Li(ta);function ia(t){if(t===ta)throw Error(s(174));return t}function sa(t,e){switch(Di(ra,e),Di(na,t),Di(ea,ta),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Pi(ea),Di(ea,e)}function aa(){Pi(ea),Pi(na),Pi(ra)}function oa(t){ia(ra.current);var e=ia(ea.current),n=lt(e,t.type);e!==n&&(Di(na,t),Di(ea,n))}function la(t){na.current===t&&(Pi(ea),Pi(na))}var ca=Li(0);function ua(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ha=[];function da(){for(var t=0;t<ha.length;t++)ha[t]._workInProgressVersionPrimary=null;ha.length=0}var fa=w.ReactCurrentDispatcher,pa=w.ReactCurrentBatchConfig,ma=0,ga=null,va=null,ya=null,ba=!1,wa=!1,xa=0,Sa=0;function Na(){throw Error(s(321))}function _a(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function ka(t,e,n,r,i,a){if(ma=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?lo:co,t=n(r,i),wa){a=0;do{if(wa=!1,xa=0,25<=a)throw Error(s(301));a+=1,ya=va=null,e.updateQueue=null,fa.current=uo,t=n(r,i)}while(wa)}if(fa.current=oo,e=null!==va&&null!==va.next,ma=0,ya=va=ga=null,ba=!1,e)throw Error(s(300));return t}function Aa(){var t=0!==xa;return xa=0,t}function Ea(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ga.memoizedState=ya=t:ya=ya.next=t,ya}function Ta(){if(null===va){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=va.next;var e=null===ya?ga.memoizedState:ya.next;if(null!==e)ya=e,va=t;else{if(null===t)throw Error(s(310));t={memoizedState:(va=t).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ya?ga.memoizedState=ya=t:ya=ya.next=t}return ya}function Ca(t,e){return"function"===typeof e?e(t):e}function Ia(t){var e=Ta(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ma&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ga.lanes|=h,Gl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,ar(r,e.memoizedState)||(Co=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ga.lanes|=a,Gl|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function La(t){var e=Ta(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=t(a,o.action),o=o.next}while(o!==i);ar(a,e.memoizedState)||(Co=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Da(t,e){var n=ga,r=Ta(),i=e(),a=!ar(r.memoizedState,i);if(a&&(r.memoizedState=i,Co=!0),r=r.queue,Wa(Ma.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ba(9,Ra.bind(null,n,r,i,e),void 0,null),null===Ul)throw Error(s(349));0!==(30&ma)||Oa(n,e,i)}return i}function Oa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ra(t,e,n,r){e.value=n,e.getSnapshot=r,ja(e)&&Fa(t)}function Ma(t,e,n){return n(function(){ja(e)&&Fa(t)})}function ja(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch(wi){return!0}}function Fa(t){var e=Hs(t,1);null!==e&&dc(e,t,1,-1)}function Ua(t){var e=Ea();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=ro.bind(null,ga,t),[e.memoizedState,t]}function Ba(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Va(){return Ta().memoizedState}function za(t,e,n,r){var i=Ea();ga.flags|=t,i.memoizedState=Ba(1|e,n,void 0,void 0===r?null:r)}function qa(t,e,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==va){var a=va.memoizedState;if(s=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=Ba(e,n,s,r))}ga.flags|=t,i.memoizedState=Ba(1|e,n,s,r)}function Ha(t,e){return za(8390656,8,t,e)}function Wa(t,e){return qa(2048,8,t,e)}function Ga(t,e){return qa(4,2,t,e)}function Ka(t,e){return qa(4,4,t,e)}function Ya(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Xa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,qa(4,4,Ya.bind(null,e,t),n)}function Qa(){}function Ja(t,e){var n=Ta();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&_a(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $a(t,e){var n=Ta();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&_a(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Za(t,e,n){return 0===(21&ma)?(t.baseState&&(t.baseState=!1,Co=!0),t.memoizedState=n):(ar(n,e)||(n=pe(),ga.lanes|=n,Gl|=n,t.baseState=!0),e)}function to(t,e){var n=ye;ye=0!==n&&4>n?n:4,t(!0);var r=pa.transition;pa.transition={};try{t(!1),e()}finally{ye=n,pa.transition=r}}function eo(){return Ta().memoizedState}function no(t,e,n){var r=hc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},io(t))so(e,n);else if(null!==(n=qs(t,e,n,r))){dc(n,t,r,uc()),ao(n,e,r)}}function ro(t,e,n){var r=hc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(io(t))so(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ar(o,a)){var l=e.interleaved;return null===l?(i.next=i,Vs(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(di){}null!==(n=qs(t,e,i,r))&&(dc(n,t,r,i=uc()),ao(n,e,r))}}function io(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function so(t,e){wa=ba=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ao(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var oo={readContext:Us,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useInsertionEffect:Na,useLayoutEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useMutableSource:Na,useSyncExternalStore:Na,useId:Na,unstable_isNewReconciler:!1},lo={readContext:Us,useCallback:function(t,e){return Ea().memoizedState=[t,void 0===e?null:e],t},useContext:Us,useEffect:Ha,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,za(4194308,4,Ya.bind(null,e,t),n)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var n=Ea();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ea();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=no.bind(null,ga,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ea().memoizedState=t},useState:Ua,useDebugValue:Qa,useDeferredValue:function(t){return Ea().memoizedState=t},useTransition:function(){var t=Ua(!1),e=t[0];return t=to.bind(null,t[1]),Ea().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ga,i=Ea();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Ul)throw Error(s(349));0!==(30&ma)||Oa(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ha(Ma.bind(null,r,a,t),[t]),r.flags|=2048,Ba(9,Ra.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ea(),e=Ul.identifierPrefix;if(fs){var n=ss;e=":"+e+"R"+(n=(is&~(1<<32-se(is)-1)).toString(32)+n),0<(n=xa++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=Sa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},co={readContext:Us,useCallback:Ja,useContext:Us,useEffect:Wa,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:$a,useReducer:Ia,useRef:Va,useState:function(){return Ia(Ca)},useDebugValue:Qa,useDeferredValue:function(t){return Za(Ta(),va.memoizedState,t)},useTransition:function(){return[Ia(Ca)[0],Ta().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:eo,unstable_isNewReconciler:!1},uo={readContext:Us,useCallback:Ja,useContext:Us,useEffect:Wa,useImperativeHandle:Xa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:$a,useReducer:La,useRef:Va,useState:function(){return La(Ca)},useDebugValue:Qa,useDeferredValue:function(t){var e=Ta();return null===va?e.memoizedState=t:Za(e,va.memoizedState,t)},useTransition:function(){return[La(Ca)[0],Ta().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:eo,unstable_isNewReconciler:!1};function ho(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function fo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var po={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=uc(),i=hc(t),s=Ys(r,i);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Xs(t,s,i))&&(dc(e,t,i,r),Qs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=uc(),i=hc(t),s=Ys(r,i);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Xs(t,s,i))&&(dc(e,t,i,r),Qs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=uc(),r=hc(t),i=Ys(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Xs(t,i,r))&&(dc(e,t,r,n),Qs(e,t,r))}};function mo(t,e,n,r,i,s,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,a):!e.prototype||!e.prototype.isPureReactComponent||(!or(n,r)||!or(i,s))}function go(t,e,n){var r=!1,i=Oi,s=e.contextType;return"object"===typeof s&&null!==s?s=Us(s):(i=Ui(e)?ji:Ri.current,s=(r=null!==(r=e.contextTypes)&&void 0!==r)?Fi(t,i):Oi),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=po,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&po.enqueueReplaceState(e,e.state,null)}function yo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gs(t);var s=e.contextType;"object"===typeof s&&null!==s?i.context=Us(s):(s=Ui(e)?ji:Ri.current,i.context=Fi(t,s)),i.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(fo(t,e,s,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&po.enqueueReplaceState(i,i.state,null),$s(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function bo(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(xi){i="\nError generating stack: "+xi.message+"\n"+xi.stack}return{value:t,source:e,stack:i,digest:null}}function wo(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function xo(t,e){try{console.error(e.value)}catch(gi){setTimeout(function(){throw gi})}}var So="function"===typeof WeakMap?WeakMap:Map;function No(t,e,n){(n=Ys(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tc||(tc=!0,ec=r),xo(0,e)},n}function _o(t,e,n){(n=Ys(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xo(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){xo(0,e),"function"!==typeof r&&(null===nc?nc=new Set([this]):nc.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ko(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new So;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Rc.bind(null,t,e,n),e.then(t,t))}function Ao(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function Eo(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Ys(-1,1)).tag=2,Xs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var To=w.ReactCurrentOwner,Co=!1;function Io(t,e,n,r){e.child=null===t?Is(e,null,n,r):Cs(e,t.child,n,r)}function Lo(t,e,n,r,i){n=n.render;var s=e.ref;return Fs(e,i),r=ka(t,e,n,r,s,i),n=Aa(),null===t||Co?(fs&&n&&cs(e),e.flags|=1,Io(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tl(t,e,i))}function Po(t,e,n,r,i){if(null===t){var s=n.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Hc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Do(t,e,s,r,i))}if(s=t.child,0===(t.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&t.ref===e.ref)return tl(t,e,i)}return e.flags|=1,(t=qc(s,r)).ref=e.ref,t.return=e,e.child=t}function Do(t,e,n,r,i){if(null!==t){var s=t.memoizedProps;if(or(s,r)&&t.ref===e.ref){if(Co=!1,e.pendingProps=r=s,0===(t.lanes&i))return e.lanes=t.lanes,tl(t,e,i);0!==(131072&t.flags)&&(Co=!0)}}return Mo(t,e,n,r,i)}function Oo(t,e,n){var r=e.pendingProps,i=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(ql,zl),zl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Di(ql,zl),zl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Di(ql,zl),zl|=r}else null!==s?(r=s.baseLanes|n,e.memoizedState=null):r=n,Di(ql,zl),zl|=r;return Io(t,e,i,n),e.child}function Ro(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mo(t,e,n,r,i){var s=Ui(n)?ji:Ri.current;return s=Fi(e,s),Fs(e,i),n=ka(t,e,n,r,s,i),r=Aa(),null===t||Co?(fs&&r&&cs(e),e.flags|=1,Io(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tl(t,e,i))}function jo(t,e,n,r,i){if(Ui(n)){var s=!0;qi(e)}else s=!1;if(Fs(e,i),null===e.stateNode)Zo(t,e),go(e,n,r),yo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Us(c):c=Fi(e,c=Ui(n)?ji:Ri.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&vo(e,a,r,c),Ws=!1;var d=e.memoizedState;a.state=d,$s(e,r,a,i),l=e.memoizedState,o!==r||d!==l||Mi.current||Ws?("function"===typeof u&&(fo(e,n,u,r),l=e.memoizedState),(o=Ws||mo(e,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ks(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ho(e.type,o),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Us(l):l=Fi(e,l=Ui(n)?ji:Ri.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&vo(e,a,r,l),Ws=!1,d=e.memoizedState,a.state=d,$s(e,r,a,i);var p=e.memoizedState;o!==h||d!==p||Mi.current||Ws?("function"===typeof f&&(fo(e,n,f,r),p=e.memoizedState),(c=Ws||mo(e,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Fo(t,e,n,r,s,i)}function Fo(t,e,n,r,i,s){Ro(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Wi(e,n,!1),tl(t,e,s);r=e.stateNode,To.current=e;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Cs(e,t.child,null,s),e.child=Cs(e,null,o,s)):Io(t,e,o,s),e.memoizedState=r.state,i&&Wi(e,n,!0),e.child}function Uo(t){var e=t.stateNode;e.pendingContext?Vi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Vi(0,e.context,!1),sa(t,e.containerInfo)}function Bo(t,e,n,r,i){return Ss(),Ns(i),e.flags|=256,Io(t,e,n,r),e.child}var Vo,zo,qo,Ho,Wo={dehydrated:null,treeContext:null,retryLane:0};function Go(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ko(t,e,n){var r,i=e.pendingProps,a=ca.current,o=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Di(ca,1&a),null===t)return ys(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Gc(l,i,0,null),t=Wc(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Go(n),e.memoizedState=Wo,t):Yo(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,o){if(n)return 256&e.flags?(e.flags&=-257,Xo(t,e,o,r=wo(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Gc({mode:"visible",children:r.children},i,0,null),(a=Wc(a,i,o,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Cs(e,t.child,null,o),e.child.memoizedState=Go(o),e.memoizedState=Wo,a);if(0===(1&e.mode))return Xo(t,e,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Xo(t,e,o,r=wo(a=Error(s(419)),r,void 0))}if(l=0!==(o&t.childLanes),Co||l){if(null!==(r=Ul)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Hs(t,i),dc(r,t,i,-1))}return kc(),Xo(t,e,o,r=wo(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=jc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ds=li(i.nextSibling),hs=e,fs=!0,ps=null,null!==t&&(es[ns++]=is,es[ns++]=ss,es[ns++]=rs,is=t.id,ss=t.overflow,rs=e),e=Yo(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(o){o=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=qc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=qc(r,o):(o=Wc(o,l,n,null)).flags|=2,o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=null===(l=t.child.memoizedState)?Go(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Wo,i}return t=(o=t.child).sibling,i=qc(o,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Yo(t,e){return(e=Gc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Xo(t,e,n,r){return null!==r&&Ns(r),Cs(e,t.child,null,n),(t=Yo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Qo(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),js(t.return,e,n)}function Jo(t,e,n,r,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $o(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Io(t,e,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Qo(t,n,e);else if(19===t.tag)Qo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Di(ca,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ua(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jo(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ua(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jo(e,!0,n,null,s);break;case"together":Jo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zo(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tl(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Gl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=qc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=qc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function el(t,e){if(!fs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nl(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rl(t,e,n){var r=e.pendingProps;switch(us(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(e),null;case 1:case 17:return Ui(e.type)&&Bi(),nl(e),null;case 3:return r=e.stateNode,aa(),Pi(Mi),Pi(Ri),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ws(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ps&&(gc(ps),ps=null))),zo(t,e),nl(e),null;case 5:la(e);var i=ia(ra.current);if(n=e.type,null!==t&&null!=e.stateNode)qo(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(s(166));return nl(e),null}if(t=ia(ea.current),ws(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[mi]=e,r[vi]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var l in vt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ot(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[mi]=e,t[vi]=r,Vo(t,e,!1,!1),e.stateNode=t;t:{switch(l=yt(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":Q(t,r),i=X(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in vt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?mt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ut(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&ht(t,u):"number"===typeof u&&ht(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",t):null!=u&&b(t,a,u,l))}switch(n){case"input":G(t),Z(t,r,!1);break;case"textarea":G(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return nl(e),null;case 6:if(t&&null!=e.stateNode)Ho(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));if(n=ia(ra.current),ia(ea.current),ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[mi]=e,(a=r.nodeValue!==n)&&null!==(t=hs))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mi]=e,e.stateNode=r}return nl(e),null;case 13:if(Pi(ca),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(fs&&null!==ds&&0!==(1&e.mode)&&0===(128&e.flags))xs(),Ss(),e.flags|=98560,a=!1;else if(a=ws(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(s(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(s(317));a[mi]=e}else Ss(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;nl(e),a=!1}else null!==ps&&(gc(ps),ps=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ca.current)?0===Hl&&(Hl=3):kc())),null!==e.updateQueue&&(e.flags|=4),nl(e),null);case 4:return aa(),zo(t,e),null===t&&Vr(e.stateNode.containerInfo),nl(e),null;case 10:return Ms(e.type._context),nl(e),null;case 19:if(Pi(ca),null===(a=e.memoizedState))return nl(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)el(a,!1);else{if(0!==Hl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ua(t))){for(e.flags|=128,el(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Di(ca,1&ca.current|2),e.child}t=t.sibling}null!==a.tail&&Qt()>$l&&(e.flags|=128,r=!0,el(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ua(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),el(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!fs)return nl(e),null}else 2*Qt()-a.renderingStartTime>$l&&1073741824!==n&&(e.flags|=128,r=!0,el(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Qt(),e.sibling=null,n=ca.current,Di(ca,r?1&n|2:1&n),e):(nl(e),null);case 22:case 23:return xc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&zl)&&(nl(e),6&e.subtreeFlags&&(e.flags|=8192)):nl(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function il(t,e){switch(us(e),e.tag){case 1:return Ui(e.type)&&Bi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return aa(),Pi(Mi),Pi(Ri),da(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return la(e),null;case 13:if(Pi(ca),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));Ss()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Pi(ca),null;case 4:return aa(),null;case 10:return Ms(e.type._context),null;case 22:case 23:return xc(),null;default:return null}}Vo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zo=function(){},qo=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ia(ea.current);var s,a=null;switch(n){case"input":i=X(t,i),r=X(t,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=$r)}for(u in vt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ho=function(t,e,n,r){n!==r&&(e.flags|=4)};var sl=!1,al=!1,ol="function"===typeof WeakSet?WeakSet:Set,ll=null;function cl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(wi){Oc(t,e,wi)}else n.current=null}function ul(t,e,n){try{n()}catch(wi){Oc(t,e,wi)}}var hl=!1;function dl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&ul(e,n,s)}i=i.next}while(i!==r)}}function fl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ml(t){var e=t.alternate;null!==e&&(t.alternate=null,ml(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[mi],delete e[vi],delete e[bi],delete e[Si],delete e[_i])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gl(t){return 5===t.tag||3===t.tag||4===t.tag}function vl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||gl(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function yl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=$r));else if(4!==r&&null!==(t=t.child))for(yl(t,e,n),t=t.sibling;null!==t;)yl(t,e,n),t=t.sibling}function bl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(bl(t,e,n),t=t.sibling;null!==t;)bl(t,e,n),t=t.sibling}var wl=null,xl=!1;function Sl(t,e,n){for(n=n.child;null!==n;)Nl(t,e,n),n=n.sibling}function Nl(t,e,n){if(ie&&"function"===typeof ie.onCommitFiberUnmount)try{ie.onCommitFiberUnmount(re,n)}catch(Ni){}switch(n.tag){case 5:al||cl(n,e);case 6:var r=wl,i=xl;wl=null,Sl(t,e,n),xl=i,null!==(wl=r)&&(xl?(t=wl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):wl.removeChild(n.stateNode));break;case 18:null!==wl&&(xl?(t=wl,n=n.stateNode,8===t.nodeType?oi(t.parentNode,n):1===t.nodeType&&oi(t,n),Ve(t)):oi(wl,n.stateNode));break;case 4:r=wl,i=xl,wl=n.stateNode.containerInfo,xl=!0,Sl(t,e,n),wl=r,xl=i;break;case 0:case 11:case 14:case 15:if(!al&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&ul(n,e,a),i=i.next}while(i!==r)}Sl(t,e,n);break;case 1:if(!al&&(cl(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ni){Oc(n,e,Ni)}Sl(t,e,n);break;case 21:Sl(t,e,n);break;case 22:1&n.mode?(al=(r=al)||null!==n.memoizedState,Sl(t,e,n),al=r):Sl(t,e,n);break;default:Sl(t,e,n)}}function _l(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ol),e.forEach(function(e){var r=Fc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))})}}function kl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,xl=!1;break t;case 3:case 4:wl=l.stateNode.containerInfo,xl=!0;break t}l=l.return}if(null===wl)throw Error(s(160));Nl(a,o,i),wl=null,xl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(di){Oc(i,e,di)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)Al(e,t),e=e.sibling}function Al(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kl(e,t),El(t),4&r){try{dl(3,t,t.return),fl(3,t)}catch(hi){Oc(t,t.return,hi)}try{dl(5,t,t.return)}catch(hi){Oc(t,t.return,hi)}}break;case 1:kl(e,t),El(t),512&r&&null!==n&&cl(n,n.return);break;case 5:if(kl(e,t),El(t),512&r&&null!==n&&cl(n,n.return),32&t.flags){var i=t.stateNode;try{ht(i,"")}catch(hi){Oc(t,t.return,hi)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,o=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),yt(l,o);var u=yt(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?mt(i,d):"dangerouslySetInnerHTML"===h?ut(i,d):"children"===h?ht(i,d):b(i,h,d,u)}switch(l){case"input":$(i,a);break;case"textarea":st(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[vi]=a}catch(hi){Oc(t,t.return,hi)}}break;case 6:if(kl(e,t),El(t),4&r){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(hi){Oc(t,t.return,hi)}}break;case 3:if(kl(e,t),El(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(hi){Oc(t,t.return,hi)}break;case 4:default:kl(e,t),El(t);break;case 13:kl(e,t),El(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Jl=Qt())),4&r&&_l(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(al=(u=al)||h,kl(e,t),al=u):kl(e,t),El(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(ll=t,h=t.child;null!==h;){for(d=ll=h;null!==ll;){switch(p=(f=ll).child,f.tag){case 0:case 11:case 14:case 15:dl(4,f,f.return);break;case 1:cl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(hi){Oc(r,n,hi)}}break;case 5:cl(f,f.return);break;case 22:if(null!==f.memoizedState){Ll(d);continue}}null!==p?(p.return=f,ll=p):Ll(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pt("display",o))}catch(hi){Oc(t,t.return,hi)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(hi){Oc(t,t.return,hi)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kl(e,t),El(t),4&r&&_l(t);case 21:}}function El(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(gl(n)){var r=n;break t}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ht(i,""),r.flags&=-33),bl(t,vl(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;yl(t,vl(t),a);break;default:throw Error(s(161))}}catch(Hi){Oc(t,t.return,Hi)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Tl(t,e,n){ll=t,Cl(t,e,n)}function Cl(t,e,n){for(var r=0!==(1&t.mode);null!==ll;){var i=ll,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||sl;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||al;o=sl;var c=al;if(sl=a,(al=l)&&!c)for(ll=i;null!==ll;)l=(a=ll).child,22===a.tag&&null!==a.memoizedState?Pl(i):null!==l?(l.return=a,ll=l):Pl(i);for(;null!==s;)ll=s,Cl(s,e,n),s=s.sibling;ll=i,sl=o,al=c}Il(t)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ll=s):Il(t)}}function Il(t){for(;null!==ll;){var e=ll;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:al||fl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!al)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ho(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Zs(e,a,r);break;case 3:var o=e.updateQueue;if(null!==o){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Zs(e,o,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(s(163))}al||512&e.flags&&pl(e)}catch(f){Oc(e,e.return,f)}}if(e===t){ll=null;break}if(null!==(n=e.sibling)){n.return=e.return,ll=n;break}ll=e.return}}function Ll(t){for(;null!==ll;){var e=ll;if(e===t){ll=null;break}var n=e.sibling;if(null!==n){n.return=e.return,ll=n;break}ll=e.return}}function Pl(t){for(;null!==ll;){var e=ll;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fl(4,e)}catch(Hi){Oc(e,n,Hi)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(Hi){Oc(e,i,Hi)}}var s=e.return;try{pl(e)}catch(Hi){Oc(e,s,Hi)}break;case 5:var a=e.return;try{pl(e)}catch(Hi){Oc(e,a,Hi)}}}catch(Hi){Oc(e,e.return,Hi)}if(e===t){ll=null;break}var o=e.sibling;if(null!==o){o.return=e.return,ll=o;break}ll=e.return}}var Dl,Ol=Math.ceil,Rl=w.ReactCurrentDispatcher,Ml=w.ReactCurrentOwner,jl=w.ReactCurrentBatchConfig,Fl=0,Ul=null,Bl=null,Vl=0,zl=0,ql=Li(0),Hl=0,Wl=null,Gl=0,Kl=0,Yl=0,Xl=null,Ql=null,Jl=0,$l=1/0,Zl=null,tc=!1,ec=null,nc=null,rc=!1,ic=null,sc=0,ac=0,oc=null,lc=-1,cc=0;function uc(){return 0!==(6&Fl)?Qt():-1!==lc?lc:lc=Qt()}function hc(t){return 0===(1&t.mode)?1:0!==(2&Fl)&&0!==Vl?Vl&-Vl:null!==_s.transition?(0===cc&&(cc=pe()),cc):0!==(t=ye)?t:t=void 0===(t=window.event)?16:Xe(t.type)}function dc(t,e,n,r){if(50<ac)throw ac=0,oc=null,Error(s(185));ge(t,n,r),0!==(2&Fl)&&t===Ul||(t===Ul&&(0===(2&Fl)&&(Kl|=n),4===Hl&&vc(t,Vl)),fc(t,r),1===n&&0===Fl&&0===(1&e.mode)&&($l=Qt()+500,Ki&&Qi()))}function fc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-se(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=de(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}(t,e);var r=he(t,t===Ul?Vl:0);if(0===r)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Ki=!0,Xi(t)}(yc.bind(null,t)):Xi(yc.bind(null,t)),si(function(){0===(6&Fl)&&Qi()}),n=null;else{switch(be(r)){case 1:n=$t;break;case 4:n=Zt;break;case 16:default:n=te;break;case 536870912:n=ne}n=Uc(n,pc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pc(t,e){if(lc=-1,cc=0,0!==(6&Fl))throw Error(s(327));var n=t.callbackNode;if(Pc()&&t.callbackNode!==n)return null;var r=he(t,t===Ul?Vl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=Ac(t,r);else{e=r;var i=Fl;Fl|=2;var a=_c();for(Ul===t&&Vl===e||(Zl=null,$l=Qt()+500,Sc(t,e));;)try{Tc();break}catch(Ni){Nc(t,Ni)}Rs(),Rl.current=a,Fl=i,null!==Bl?e=0:(Ul=null,Vl=0,e=Hl)}if(0!==e){if(2===e&&(0!==(i=fe(t))&&(r=i,e=mc(t,i))),1===e)throw n=Wl,Sc(t,0),vc(t,r),fc(t,Qt()),n;if(6===e)vc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(o){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=Ac(t,r))&&(0!==(a=fe(t))&&(r=a,e=mc(t,a))),1===e))throw n=Wl,Sc(t,0),vc(t,r),fc(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(s(345));case 2:case 5:Lc(t,Ql,Zl);break;case 3:if(vc(t,r),(130023424&r)===r&&10<(e=Jl+500-Qt())){if(0!==he(t,0))break;if(((i=t.suspendedLanes)&r)!==r){uc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ni(Lc.bind(null,t,Ql,Zl),e);break}Lc(t,Ql,Zl);break;case 4:if(vc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-se(r);a=1<<o,(o=e[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ol(r/1960))-r)){t.timeoutHandle=ni(Lc.bind(null,t,Ql,Zl),r);break}Lc(t,Ql,Zl);break;default:throw Error(s(329))}}}return fc(t,Qt()),t.callbackNode===n?pc.bind(null,t):null}function mc(t,e){var n=Xl;return t.current.memoizedState.isDehydrated&&(Sc(t,e).flags|=256),2!==(t=Ac(t,e))&&(e=Ql,Ql=n,null!==e&&gc(e)),t}function gc(t){null===Ql?Ql=t:Ql.push.apply(Ql,t)}function vc(t,e){for(e&=~Yl,e&=~Kl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),r=1<<n;t[n]=-1,e&=~r}}function yc(t){if(0!==(6&Fl))throw Error(s(327));Pc();var e=he(t,0);if(0===(1&e))return fc(t,Qt()),null;var n=Ac(t,e);if(0!==t.tag&&2===n){var r=fe(t);0!==r&&(e=r,n=mc(t,r))}if(1===n)throw n=Wl,Sc(t,0),vc(t,e),fc(t,Qt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lc(t,Ql,Zl),fc(t,Qt()),null}function bc(t,e){var n=Fl;Fl|=1;try{return t(e)}finally{0===(Fl=n)&&($l=Qt()+500,Ki&&Qi())}}function wc(t){null!==ic&&0===ic.tag&&0===(6&Fl)&&Pc();var e=Fl;Fl|=1;var n=jl.transition,r=ye;try{if(jl.transition=null,ye=1,t)return t()}finally{ye=r,jl.transition=n,0===(6&(Fl=e))&&Qi()}}function xc(){zl=ql.current,Pi(ql)}function Sc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ri(n)),null!==Bl)for(n=Bl.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:aa(),Pi(Mi),Pi(Ri),da();break;case 5:la(r);break;case 4:aa();break;case 13:case 19:Pi(ca);break;case 10:Ms(r.type._context);break;case 22:case 23:xc()}n=n.return}if(Ul=t,Bl=t=qc(t.current,null),Vl=zl=e,Hl=0,Wl=null,Yl=Kl=Gl=0,Ql=Xl=null,null!==Bs){for(e=0;e<Bs.length;e++)if(null!==(r=(n=Bs[e]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Bs=null}return t}function Nc(t,e){for(;;){var n=Bl;try{if(Rs(),fa.current=oo,ba){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ba=!1}if(ma=0,ya=va=ga=null,wa=!1,xa=0,Ml.current=null,null===n||null===n.return){Hl=1,Wl=e,Bl=null;break}t:{var a=t,o=n.return,l=n,c=e;if(e=Vl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ao(o);if(null!==p){p.flags&=-257,Eo(p,o,l,0,e),1&p.mode&&ko(a,u,e),c=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){ko(a,u,e),kc();break t}c=Error(s(426))}else if(fs&&1&l.mode){var v=Ao(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Eo(v,o,l,0,e),Ns(bo(c,l));break t}}a=c=bo(c,l),4!==Hl&&(Hl=2),null===Xl?Xl=[a]:Xl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Js(a,No(0,c,e));break t;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===nc||!nc.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Js(a,_o(a,l,e));break t}}a=a.return}while(null!==a)}Ic(n)}catch(zs){e=zs,Bl===n&&null!==n&&(Bl=n=n.return);continue}break}}function _c(){var t=Rl.current;return Rl.current=oo,null===t?oo:t}function kc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Ul||0===(268435455&Gl)&&0===(268435455&Kl)||vc(Ul,Vl)}function Ac(t,e){var n=Fl;Fl|=2;var r=_c();for(Ul===t&&Vl===e||(Zl=null,Sc(t,e));;)try{Ec();break}catch(ui){Nc(t,ui)}if(Rs(),Fl=n,Rl.current=r,null!==Bl)throw Error(s(261));return Ul=null,Vl=0,Hl}function Ec(){for(;null!==Bl;)Cc(Bl)}function Tc(){for(;null!==Bl&&!Yt();)Cc(Bl)}function Cc(t){var e=Dl(t.alternate,t,zl);t.memoizedProps=t.pendingProps,null===e?Ic(t):Bl=e,Ml.current=null}function Ic(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=rl(n,e,zl)))return void(Bl=n)}else{if(null!==(n=il(n,e)))return n.flags&=32767,void(Bl=n);if(null===t)return Hl=6,void(Bl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Bl=e);Bl=e=t}while(null!==e);0===Hl&&(Hl=5)}function Lc(t,e,n){var r=ye,i=jl.transition;try{jl.transition=null,ye=1,function(t,e,n,r){do{Pc()}while(null!==ic);if(0!==(6&Fl))throw Error(s(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-se(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}(t,a),t===Ul&&(Bl=Ul=null,Vl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||rc||(rc=!0,Uc(te,function(){return Pc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=jl.transition,jl.transition=null;var o=ye;ye=1;var l=Fl;Fl|=4,Ml.current=null,function(t,e){if(Zr=qe,dr(t=hr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(os){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:t,selectionRange:n},qe=!1,ll=e;null!==ll;)if(t=(e=ll).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ll=t;else for(;null!==ll;){e=ll;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ho(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(os){Oc(e,e.return,os)}if(null!==(t=e.sibling)){t.return=e.return,ll=t;break}ll=e.return}m=hl,hl=!1}(t,n),Al(n,t),fr(ti),qe=!!Zr,ti=Zr=null,t.current=n,Tl(n,t,i),Xt(),Fl=l,ye=o,jl.transition=a}else t.current=n;if(rc&&(rc=!1,ic=t,sc=i),a=t.pendingLanes,0===a&&(nc=null),function(t){if(ie&&"function"===typeof ie.onCommitFiberRoot)try{ie.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),fc(t,Qt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tc)throw tc=!1,t=ec,ec=null,t;0!==(1&sc)&&0!==t.tag&&Pc(),a=t.pendingLanes,0!==(1&a)?t===oc?ac++:(ac=0,oc=t):ac=0,Qi()}(t,e,n,r)}finally{jl.transition=i,ye=r}return null}function Pc(){if(null!==ic){var t=be(sc),e=jl.transition,n=ye;try{if(jl.transition=null,ye=16>t?16:t,null===ic)var r=!1;else{if(t=ic,ic=null,sc=0,0!==(6&Fl))throw Error(s(331));var i=Fl;for(Fl|=4,ll=t.current;null!==ll;){var a=ll,o=a.child;if(0!==(16&ll.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(ll=u;null!==ll;){var h=ll;switch(h.tag){case 0:case 11:case 15:dl(8,h,a)}var d=h.child;if(null!==d)d.return=h,ll=d;else for(;null!==ll;){var f=(h=ll).sibling,p=h.return;if(ml(h),h===u){ll=null;break}if(null!==f){f.return=p,ll=f;break}ll=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ll=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,ll=o;else t:for(;null!==ll;){if(0!==(2048&(a=ll).flags))switch(a.tag){case 0:case 11:case 15:dl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ll=y;break t}ll=a.return}}var b=t.current;for(ll=b;null!==ll;){var w=(o=ll).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,ll=w;else t:for(o=b;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:fl(9,l)}}catch(zs){Oc(l,l.return,zs)}if(l===o){ll=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,ll=x;break t}ll=l.return}}if(Fl=i,Qi(),ie&&"function"===typeof ie.onPostCommitFiberRoot)try{ie.onPostCommitFiberRoot(re,t)}catch(zs){}r=!0}return r}finally{ye=n,jl.transition=e}}return!1}function Dc(t,e,n){t=Xs(t,e=No(0,e=bo(n,e),1),1),e=uc(),null!==t&&(ge(t,1,e),fc(t,e))}function Oc(t,e,n){if(3===t.tag)Dc(t,t,n);else for(;null!==e;){if(3===e.tag){Dc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nc||!nc.has(r))){e=Xs(e,t=_o(e,t=bo(n,t),1),1),t=uc(),null!==e&&(ge(e,1,t),fc(e,t));break}}e=e.return}}function Rc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=uc(),t.pingedLanes|=t.suspendedLanes&n,Ul===t&&(Vl&n)===n&&(4===Hl||3===Hl&&(130023424&Vl)===Vl&&500>Qt()-Jl?Sc(t,0):Yl|=n),fc(t,e)}function Mc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=uc();null!==(t=Hs(t,e))&&(ge(t,e,n),fc(t,n))}function jc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Mc(t,n)}function Fc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(e),Mc(t,n)}function Uc(t,e){return Gt(t,e)}function Bc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(t,e,n,r){return new Bc(t,e,n,r)}function zc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function qc(t,e){var n=t.alternate;return null===n?((n=Vc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hc(t,e,n,r,i,a){var o=2;if(r=t,"function"===typeof t)zc(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case N:return Wc(n.children,i,a,e);case _:o=8,i|=8;break;case k:return(t=Vc(12,n,e,2|i)).elementType=k,t.lanes=a,t;case C:return(t=Vc(13,n,e,i)).elementType=C,t.lanes=a,t;case I:return(t=Vc(19,n,e,i)).elementType=I,t.lanes=a,t;case D:return Gc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:o=10;break t;case E:o=9;break t;case T:o=11;break t;case L:o=14;break t;case P:o=16,r=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Vc(o,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Wc(t,e,n,r){return(t=Vc(7,t,r,e)).lanes=n,t}function Gc(t,e,n,r){return(t=Vc(22,t,r,e)).elementType=D,t.lanes=n,t.stateNode={isHidden:!1},t}function Kc(t,e,n){return(t=Vc(6,t,null,e)).lanes=n,t}function Yc(t,e,n){return(e=Vc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(t,e,n,r,i,s,a,o,l){return t=new Xc(t,e,n,o,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Vc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gs(s),t}function Jc(t){if(!t)return Oi;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Ui(n))return zi(t,n,e)}return e}function $c(t,e,n,r,i,s,a,o,l){return(t=Qc(n,r,!0,t,0,s,0,o,l)).context=Jc(null),n=t.current,(s=Ys(r=uc(),i=hc(n))).callback=void 0!==e&&null!==e?e:null,Xs(n,s,i),t.current.lanes=i,ge(t,i,r),fc(t,r),t}function Zc(t,e,n,r){var i=e.current,s=uc(),a=hc(i);return n=Jc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Ys(s,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Xs(i,e,a))&&(dc(t,i,a,s),Qs(t,i,a)),a}function tu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function eu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function nu(t,e){eu(t,e),(t=t.alternate)&&eu(t,e)}Dl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Mi.current)Co=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return Co=!1,function(t,e,n){switch(e.tag){case 3:Uo(e),Ss();break;case 5:oa(e);break;case 1:Ui(e.type)&&qi(e);break;case 4:sa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Di(Ls,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Di(ca,1&ca.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ko(t,e,n):(Di(ca,1&ca.current),null!==(t=tl(t,e,n))?t.sibling:null);Di(ca,1&ca.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return $o(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(ca,ca.current),r)break;return null;case 22:case 23:return e.lanes=0,Oo(t,e,n)}return tl(t,e,n)}(t,e,n);Co=0!==(131072&t.flags)}else Co=!1,fs&&0!==(1048576&e.flags)&&ls(e,ts,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zo(t,e),t=e.pendingProps;var i=Fi(e,Ri.current);Fs(e,n),i=ka(null,e,r,t,i,n);var a=Aa();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(r)?(a=!0,qi(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Gs(e),i.updater=po,e.stateNode=i,i._reactInternals=e,yo(e,r,t,n),e=Fo(null,e,r,!0,a,n)):(e.tag=0,fs&&a&&cs(e),Io(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Zo(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return zc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===L)return 14}return 2}(r),t=ho(r,t),i){case 0:e=Mo(null,e,r,t,n);break t;case 1:e=jo(null,e,r,t,n);break t;case 11:e=Lo(null,e,r,t,n);break t;case 14:e=Po(null,e,r,ho(r.type,t),n);break t}throw Error(s(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Mo(t,e,r,i=e.elementType===r?i:ho(r,i),n);case 1:return r=e.type,i=e.pendingProps,jo(t,e,r,i=e.elementType===r?i:ho(r,i),n);case 3:t:{if(Uo(e),null===t)throw Error(s(387));r=e.pendingProps,i=(a=e.memoizedState).element,Ks(t,e),$s(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Bo(t,e,r,n,i=bo(Error(s(423)),e));break t}if(r!==i){e=Bo(t,e,r,n,i=bo(Error(s(424)),e));break t}for(ds=li(e.stateNode.containerInfo.firstChild),hs=e,fs=!0,ps=null,n=Is(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ss(),r===i){e=tl(t,e,n);break t}Io(t,e,r,n)}e=e.child}return e;case 5:return oa(e),null===t&&ys(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,o=i.children,ei(r,i)?o=null:null!==a&&ei(r,a)&&(e.flags|=32),Ro(t,e),Io(t,e,o,n),e.child;case 6:return null===t&&ys(e),null;case 13:return Ko(t,e,n);case 4:return sa(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Cs(e,null,r,n):Io(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Lo(t,e,r,i=e.elementType===r?i:ho(r,i),n);case 7:return Io(t,e,e.pendingProps,n),e.child;case 8:case 12:return Io(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Di(Ls,r._currentValue),r._currentValue=o,null!==a)if(ar(a.value,o)){if(a.children===i.children&&!Mi.current){e=tl(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ys(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),js(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),js(o,n,e),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}Io(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fs(e,n),r=r(i=Us(i)),e.flags|=1,Io(t,e,r,n),e.child;case 14:return i=ho(r=e.type,e.pendingProps),Po(t,e,r,i=ho(r.type,i),n);case 15:return Do(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),Zo(t,e),e.tag=1,Ui(r)?(t=!0,qi(e)):t=!1,Fs(e,n),go(e,r,i),yo(e,r,i,n),Fo(null,e,r,!0,t,n);case 19:return $o(t,e,n);case 22:return Oo(t,e,n)}throw Error(s(156,e.tag))};var ru="function"===typeof reportError?reportError:function(t){console.error(t)};function iu(t){this._internalRoot=t}function su(t){this._internalRoot=t}function au(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function ou(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function lu(){}function cu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var t=tu(a);o.call(t)}}Zc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var t=tu(a);s.call(t)}}var a=$c(e,r,t,0,null,!1,0,"",lu);return t._reactRootContainer=a,t[yi]=a.current,Vr(8===t.nodeType?t.parentNode:t),wc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var o=r;r=function(){var t=tu(l);o.call(t)}}var l=Qc(t,0,!1,null,0,!1,0,"",lu);return t._reactRootContainer=l,t[yi]=l.current,Vr(8===t.nodeType?t.parentNode:t),wc(function(){Zc(e,l,n,r)}),l}(n,e,t,i,r);return tu(a)}su.prototype.render=iu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Zc(t,e,null,null)},su.prototype.unmount=iu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;wc(function(){Zc(null,t,null,null)}),e[yi]=null}},su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ne();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pe.length&&0!==e&&e<Pe[n].priority;n++);Pe.splice(n,0,t),0===n&&Me(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ue(e.pendingLanes);0!==n&&(ve(e,1|n),fc(e,Qt()),0===(6&Fl)&&($l=Qt()+500,Qi()))}break;case 13:wc(function(){var e=Hs(t,1);if(null!==e){var n=uc();dc(e,t,1,n)}}),nu(t,1)}},xe=function(t){if(13===t.tag){var e=Hs(t,134217728);if(null!==e)dc(e,t,134217728,uc());nu(t,134217728)}},Se=function(t){if(13===t.tag){var e=hc(t),n=Hs(t,e);if(null!==n)dc(n,t,e,uc());nu(t,e)}},Ne=function(){return ye},_e=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}},xt=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ti(r);if(!i)throw Error(s(90));K(r),$(r,i)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Et=bc,Tt=wc;var uu={usingClientEntryPoint:!1,Events:[Ai,Ei,Ti,kt,At,bc]},hu={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},du={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ht(t))?null:t.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{re=fu.inject(du),ie=fu}catch(fi){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(e))throw Error(s(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!au(t))throw Error(s(299));var n=!1,r="",i=ru;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Qc(t,1,!1,null,0,n,0,r,i),t[yi]=e.current,Vr(8===t.nodeType?t.parentNode:t),new iu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Ht(e))?null:t.stateNode},e.flushSync=function(t){return wc(t)},e.hydrate=function(t,e,n){if(!ou(e))throw Error(s(200));return cu(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!au(t))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=ru;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),e=$c(e,null,t,1,null!=n?n:null,i,0,a,o),t[yi]=e.current,Vr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new su(e)},e.render=function(t,e,n){if(!ou(e))throw Error(s(200));return cu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ou(t))throw Error(s(40));return!!t._reactRootContainer&&(wc(function(){cu(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0)},e.unstable_batchedUpdates=bc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ou(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return cu(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},4202:(t,e)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function y(){}function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,r){var i,s={},a=null,o=null;if(null!=e)for(i in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,i)&&!_.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:o,props:s,_owner:N.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var E=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function C(t,e,i,s,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===s?"."+T(l,0):s,x(a)?(i="",null!=t&&(i=t.replace(E,"$&/")+"/"),C(a,e,i,"",function(t){return t})):null!=a&&(A(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+t)),e.push(a)),1;if(l=0,s=""===s?".":s+":",x(t))for(var c=0;c<t.length;c++){var u=s+T(o=t[c],c);l+=C(o,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=C(o=o.value,e,i,u=s+T(o,c++),a);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function I(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",function(t){return e.call(n,t,i++)}),r}function L(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:I,forEach:function(t,e,n){I(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return I(t,function(){e++}),e},toArray:function(t){return I(t,function(t){return t})||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=R,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),s=t.key,a=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,o=N.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)S.call(e,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:s,ref:a,props:i,_owner:o}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:L}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=D.transition;D.transition={};try{t()}finally{D.transition=e}},e.unstable_act=R,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},4391:(t,e,n)=>{var r=n(7950);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},4980:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(2284);function i(t){var e=function(t,e){if("object"!=(0,r.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,r.A)(e)?e:e+""}function s(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},5043:(t,e,n)=>{t.exports=n(4202)},7234:(t,e)=>{function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<s(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=t[o],c=o+1,u=t[c];if(0>s(l,n))c<i&&0>s(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function x(t){if(g=!1,w(t),!m)if(null!==r(c))m=!0,D(S);else{var e=r(u);null!==e&&O(x,e.startTime-t)}}function S(t,n){m=!1,g&&(g=!1,y(A),A=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,_=!1,k=null,A=-1,E=5,T=-1;function C(){return!(e.unstable_now()-T<E)}function I(){if(null!==k){var t=e.unstable_now();T=t;var n=!0;try{n=k(!0,t)}finally{n?N():(_=!1,k=null)}}else _=!1}if("function"===typeof b)N=function(){b(I)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,P=L.port2;L.port1.onmessage=I,N=function(){P.postMessage(null)}}else N=function(){v(I,0)};function D(t){k=t,_||(_=!0,N())}function O(t,n){A=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,D(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,s){var a=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(t.sortIndex=s,n(u,t),null===r(c)&&t===r(u)&&(g?(y(A),A=-1):g=!0,O(x,s-a))):(t.sortIndex=o,n(c,t),m||p||(m=!0,D(S))),t},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},7950:(t,e,n)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(WT){console.error(WT)}}(),t.exports=n(2730)},8853:(t,e,n)=>{t.exports=n(7234)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}n.m=t,(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach(t=>a[t]=()=>r[t]);return a.default=()=>r,n.d(s,a),s}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce((e,r)=>(n.f[r](t,e),e),[])),n.u=t=>"static/js/"+t+"."+{213:"6c98b4b6",239:"ac6d240e",455:"437009f0"}[t]+".chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(ui){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="office-attendance-system:";n.l=(r,i,s,a)=>{if(t[r])t[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",e+s),o.src=r),t[r]=[i];var d=(e,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(t=>t(n)),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=t[e]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(e),o=new Error;n.l(a,r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+e,e)}};var e=(e,r)=>{var i,s,[a,o,l]=r,c=0;if(a.some(e=>0!==t[e])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)s=a[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0},r=self.webpackChunkoffice_attendance_system=self.webpackChunkoffice_attendance_system||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var r=n(5043),i=n(4391);const s=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,a=s?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0,c=e>>2,u=(3&e)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const l=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==a||null==l)throw new o;const c=e<<2|s>>4;if(r.push(c),64!==a){const t=s<<4&240|a>>2;if(r.push(t),64!==l){const t=a<<6&192|l;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(t){return function(t){const e=s(t);return a.encodeByteArray(e,!0)}(t).replace(/\./g,"")},c=function(t){try{return a.decodeString(t,!0)}catch(ui){console.error("base64Decode failed: ",ui)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return u()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ui){return}const e=t&&c(t[1]);return e&&JSON.parse(e)})()}catch(ui){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ui))}},d=t=>{var e,n;return null===(n=null===(e=h())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},f=t=>{const e=d(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p=()=>{var t;return null===(t=h())||void 0===t?void 0:t.config},m=t=>{var e;return null===(e=h())||void 0===e?void 0:e["_".concat(t)]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){try{return"object"===typeof indexedDB}catch(ui){return!1}}class w extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x.prototype.create)}}class x{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?function(t,e){return t.replace(S,(t,n)=>{const r=e[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,e):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new w(n,s,e)}}const S=/\{\$([^}]+)}/g;function N(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(_(n)&&_(s)){if(!N(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _(t){return null!==t&&"object"===typeof t}function k(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function A(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}}),e}function E(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class T{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ui){}}),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(ui){"undefined"!==typeof console&&console.error&&console.error(ui)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C(){}function I(t){return t&&t._delegate?t._delegate:t}class L{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const P="[DEFAULT]";class D{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new g;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(ui){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ui){if(r)return null;throw ui}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:P})}catch(ui){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(ui){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===P?void 0:i),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return this.component?this.component.multipleInstances?t:P:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new D(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const R=[];var M;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(M||(M={}));const j={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},F=M.INFO,U={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},B=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=U[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(t.name,":"),...s)};class V{constructor(t){this.name=t,this._logLevel=F,this._logHandler=B,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in M))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?j[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...e),this._logHandler(this,M.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...e),this._logHandler(this,M.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.INFO,...e),this._logHandler(this,M.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.WARN,...e),this._logHandler(this,M.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,M.ERROR,...e),this._logHandler(this,M.ERROR,...e)}}var z=n(4980);function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach(function(e){(0,z.A)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}let W,G;const K=new WeakMap,Y=new WeakMap,X=new WeakMap,Q=new WeakMap,J=new WeakMap;let $={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Y.get(t);if("objectStoreNames"===e)return t.objectStoreNames||X.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return et(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Z(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(nt(this),n),et(K.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return et(t.apply(nt(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=t.call(nt(this),e,...r);return X.set(s,e.sort?e.sort():[e]),et(s)}}function tt(t){return"function"===typeof t?Z(t):(t instanceof IDBTransaction&&function(t){if(Y.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Y.set(t,e)}(t),e=t,(W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,$):t);var e}function et(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(et(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&K.set(e,t)}).catch(()=>{}),J.set(e,t),e}(t);if(Q.has(t))return Q.get(t);const e=tt(t);return e!==t&&(Q.set(t,e),J.set(e,t)),e}const nt=t=>J.get(t);const rt=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],st=new Map;function at(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(st.get(e))return st.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=it.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rt.includes(n))return;const s=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let s=e.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&e.done]))[0]};return st.set(e,s),s}$=(t=>H(H({},t),{},{get:(e,n,r)=>at(e,n)||t.get(e,n,r),has:(e,n)=>!!at(e,n)||t.has(e,n)}))($);class ot{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null}).filter(t=>t).join(" ")}}const lt="@firebase/app",ct="0.9.13",ut=new V("@firebase/app"),ht="@firebase/app-compat",dt="@firebase/analytics-compat",ft="@firebase/analytics",pt="@firebase/app-check-compat",mt="@firebase/app-check",gt="@firebase/auth",vt="@firebase/auth-compat",yt="@firebase/database",bt="@firebase/database-compat",wt="@firebase/functions",xt="@firebase/functions-compat",St="@firebase/installations",Nt="@firebase/installations-compat",_t="@firebase/messaging",kt="@firebase/messaging-compat",At="@firebase/performance",Et="@firebase/performance-compat",Tt="@firebase/remote-config",Ct="@firebase/remote-config-compat",It="@firebase/storage",Lt="@firebase/storage-compat",Pt="@firebase/firestore",Dt="@firebase/firestore-compat",Ot="firebase",Rt="[DEFAULT]",Mt={[lt]:"fire-core",[ht]:"fire-core-compat",[ft]:"fire-analytics",[dt]:"fire-analytics-compat",[mt]:"fire-app-check",[pt]:"fire-app-check-compat",[gt]:"fire-auth",[vt]:"fire-auth-compat",[yt]:"fire-rtdb",[bt]:"fire-rtdb-compat",[wt]:"fire-fn",[xt]:"fire-fn-compat",[St]:"fire-iid",[Nt]:"fire-iid-compat",[_t]:"fire-fcm",[kt]:"fire-fcm-compat",[At]:"fire-perf",[Et]:"fire-perf-compat",[Tt]:"fire-rc",[Ct]:"fire-rc-compat",[It]:"fire-gcs",[Lt]:"fire-gcs-compat",[Pt]:"fire-fst",[Dt]:"fire-fst-compat","fire-js":"fire-js",[Ot]:"fire-js-all"},jt=new Map,Ft=new Map;function Ut(t,e){try{t.container.addComponent(e)}catch(ui){ut.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),ui)}}function Bt(t){const e=t.name;if(Ft.has(e))return ut.debug("There were multiple attempts to register component ".concat(e,".")),!1;Ft.set(e,t);for(const n of jt.values())Ut(n,t);return!0}function Vt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const zt=new x("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new L("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Ht="9.23.0";function Wt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw zt.create("bad-app-name",{appName:String(i)});if(n||(n=p()),!n)throw zt.create("no-options");const s=jt.get(i);if(s){if(N(n,s.options)&&N(r,s.config))return s;throw zt.create("duplicate-app",{appName:i})}const a=new O(i);for(const l of Ft.values())a.addComponent(l);const o=new qt(n,r,a);return jt.set(i,o),o}function Gt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;const e=jt.get(t);if(!e&&t===Rt&&p())return Wt();if(!e)throw zt.create("no-app",{appName:t});return e}function Kt(t,e,n){var r;let i=null!==(r=Mt[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&t.push("and"),a&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void ut.warn(t.join(" "))}Bt(new L("".concat(i,"-version"),()=>({library:i,version:e}),"VERSION"))}const Yt="firebase-heartbeat-store";let Xt=null;function Qt(){return Xt||(Xt=function(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(t,e),o=et(a);return r&&a.addEventListener("upgradeneeded",t=>{r(et(a.result),t.oldVersion,t.newVersion,et(a.transaction),t)}),n&&a.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),o.then(t=>{s&&t.addEventListener("close",()=>s()),i&&t.addEventListener("versionchange",t=>i(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(Yt)}}).catch(t=>{throw zt.create("idb-open",{originalErrorMessage:t.message})})),Xt}async function Jt(t,e){try{const n=(await Qt()).transaction(Yt,"readwrite"),r=n.objectStore(Yt);await r.put(e,$t(t)),await n.done}catch(ui){if(ui instanceof w)ut.warn(ui.message);else{const e=zt.create("idb-set",{originalErrorMessage:null===ui||void 0===ui?void 0:ui.message});ut.warn(e.message)}}}function $t(t){return"".concat(t.name,"!").concat(t.options.appId)}class Zt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ee(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=te();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some(t=>t.date===e))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=te(),{heartbeatsToSend:e,unsentEntries:n}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find(t=>t.agent===i.agent);if(t){if(t.dates.push(i.date),ne(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ne(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=l(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function te(){return(new Date).toISOString().substring(0,10)}class ee{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!b()&&new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=await Qt();return await e.transaction(Yt).objectStore(Yt).get($t(t))}catch(ui){if(ui instanceof w)ut.warn(ui.message);else{const e=zt.create("idb-get",{originalErrorMessage:null===ui||void 0===ui?void 0:ui.message});ut.warn(e.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Jt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Jt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ne(t){return l(JSON.stringify({version:2,heartbeats:t})).length}var re;re="",Bt(new L("platform-logger",t=>new ot(t),"PRIVATE")),Bt(new L("heartbeat",t=>new Zt(t),"PRIVATE")),Kt(lt,ct,re),Kt(lt,ct,"esm2017"),Kt("fire-js","");function ie(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ae=se,oe=new x("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),le=new V("@firebase/auth");function ce(t){if(le.logLevel<=M.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];le.error("Auth (".concat(Ht,"): ").concat(t),...n)}}function ue(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw fe(t,...n)}function he(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fe(t,...n)}function de(t,e,n){const r=Object.assign(Object.assign({},ae()),{[e]:n});return new x("auth","Firebase",r).create(e,{appName:t.name})}function fe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"!==typeof t){const e=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(e,...r)}return oe.create(t,...n)}function pe(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fe(e,...r)}}function me(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ce(e),new Error(e)}function ge(t,e){t||me(e)}function ve(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ye(){return"http:"===be()||"https:"===be()}function be(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function we(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ye()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class xe{constructor(t,e){this.shortDelay=t,this.longDelay=e,ge(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return we()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(t,e){ge(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class Ne{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new xe(3e4,6e4);function Ae(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ee(t,e,n,r){return Te(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const a=k(Object.assign({key:t.config.apiKey},s)).slice(1),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode),Ne.fetch()(Ie(t,t.config.apiHost,n,a),Object.assign({method:e,headers:o,referrerPolicy:"no-referrer"},i))})}async function Te(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_e),e);try{const e=new Le(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Pe(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,a]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Pe(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Pe(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Pe(t,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw de(t,o,a);ue(t,o)}}catch(ui){if(ui instanceof w)throw ui;ue(t,"network-request-failed",{message:String(ui)})}}async function Ce(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ee(t,e,n,r,i);return"mfaPendingCredential"in s&&ue(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ie(t,e,n,r){const i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Se(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}class Le{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(he(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pe(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=he(t,e,r);return i.customData._tokenResponse=n,i}function De(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(ui){}}function Oe(t){return 1e3*Number(t)}function Re(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ce("JWT malformed, contained fewer than 3 sections"),null;try{const t=c(n);return t?JSON.parse(t):(ce("Failed to decode base64 JWT payload"),null)}catch(ui){return ce("Caught error parsing JWT payload as JSON",null===ui||void 0===ui?void 0:ui.toString()),null}}async function Me(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(ui){throw ui instanceof w&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(ui)&&t.auth.currentUser===t&&await t.auth.signOut(),ui}}class je{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(ui){return void((null===ui||void 0===ui?void 0:ui.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Fe{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=De(this.lastLoginAt),this.creationTime=De(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ue(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Me(t,async function(t,e){return Ee(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));pe(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map(t=>{var{providerId:e}=t,n=ie(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=function(t,e){const n=t.filter(t=>!e.some(e=>e.providerId===t.providerId));return[...n,...e]}(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Fe(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}class Be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe("undefined"!==typeof t.idToken,"internal-error"),pe("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):function(t){const e=Re(t);return pe(e,"internal-error"),pe("undefined"!==typeof e.exp,"internal-error"),pe("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pe(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await Te(t,{},async()=>{const n=k({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,s=Ie(t,r,"/v1/token","key=".concat(i)),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ne.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new Be;return n&&(pe("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(pe("string"===typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(pe("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Be,this.toJSON())}_performRefresh(){return me("not implemented")}}function Ve(t,e){pe("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class ze{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=ie(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new je(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fe(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Me(this,this.stsTokenManager.getToken(this.auth,t));return pe(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=I(t),r=await n.getIdToken(e),i=Re(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:De(Oe(i.auth_time)),issuedAtTime:De(Oe(i.iat)),expirationTime:De(Oe(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=I(t);await Ue(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ze(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Ue(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Me(this,async function(t,e){return Ee(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,a,o,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(a=e.tenantId)&&void 0!==a?a:void 0,m=null!==(o=e._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=e;pe(y&&S,t,"internal-error");const N=Be.fromJSON(this.name,S);pe("string"===typeof y,t,"internal-error"),Ve(u,t.name),Ve(h,t.name),pe("boolean"===typeof b,t,"internal-error"),pe("boolean"===typeof w,t,"internal-error"),Ve(d,t.name),Ve(f,t.name),Ve(p,t.name),Ve(m,t.name),Ve(g,t.name),Ve(v,t.name);const _=new ze({uid:y,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map(t=>Object.assign({},t))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Be;r.updateFromServerResponse(e);const i=new ze({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await Ue(i),i}}const qe=new Map;function He(t){ge(t instanceof Function,"Expected a class definition");let e=qe.get(t);return e?(ge(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qe.set(t,e),e)}class We{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}We.type="NONE";const Ge=We;function Ke(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class Ye{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ke(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ke("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ze._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new Ye(He(Ge),t,n);const r=(await Promise.all(e.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let i=r[0]||He(Ge);const s=Ke(n,t.config.apiKey,t.name);let a=null;for(const c of e)try{const e=await c._get(s);if(e){const n=ze._fromJSON(t,e);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(t=>t._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(e.map(async t=>{if(t!==i)try{await t._remove(s)}catch(l){}})),new Ye(i,t,n)):new Ye(i,t,n)}}function Xe(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ze(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(en(e))return"Blackberry";if(nn(e))return"Webos";if(Je(e))return"Safari";if((e.includes("chrome/")||$e(e))&&!e.includes("edge/"))return"Chrome";if(tn(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Qe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/firefox\//i.test(t)}function Je(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/crios\//i.test(t)}function Ze(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/iemobile/i.test(t)}function tn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/android/i.test(t)}function en(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/blackberry/i.test(t)}function nn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/webos/i.test(t)}function rn(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sn(){return function(){const t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function an(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();return rn(t)||tn(t)||nn(t)||en(t)||/windows phone/i.test(t)||Ze(t)}function on(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=Xe(y());break;case"Worker":e="".concat(Xe(y()),"-").concat(t);break;default:e=t}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(Ht,"/").concat(r)}async function ln(t,e){return Ee(t,"GET","/v2/recaptchaConfig",Ae(t,e))}function cn(t){return void 0!==t&&void 0!==t.enterprise}class un{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function hn(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=he("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function dn(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class fn{constructor(t){this.type="recaptcha-enterprise",this.auth=vn(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,r){const i=window.grecaptcha;cn(i)?i.enterprise.ready(()=>{i.enterprise.execute(e,{action:t}).then(t=>{n(t)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise(async(e,n)=>{ln(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new un(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(t=>{n(t)})})})(this.auth).then(i=>{if(!e&&cn(window.grecaptcha))n(i,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));hn("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,t,r)}).catch(t=>{r(t)})}}).catch(t=>{r(t)})})}}async function pn(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new fn(t);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class mn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise((n,r)=>{try{n(t(e))}catch(ui){r(ui)}});n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(ui){e.reverse();for(const n of e)try{n()}catch(Qi){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ui||void 0===ui?void 0:ui.message})}}}class gn{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yn(this),this.idTokenSubscription=new yn(this),this.beforeStateQueue=new mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=He(e)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ye.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ui){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(t);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ui){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ui))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(ui){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ue(t)}catch(ui){if((null===ui||void 0===ui?void 0:ui.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?I(t):null;return e&&pe(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(He(t))})}async initializeRecaptchaConfig(){const t=await ln(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),e=new un(t);if(null==this.tenantId?this._agentRecaptchaConfig=e:this._tenantRecaptchaConfigs[this.tenantId]=e,e.emailPasswordEnabled){new fn(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new x("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&He(t)||this._popupRedirectResolver;pe(e,this,"argument-error"),this.redirectPersistenceManager=await Ye.create(this,[He(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=on(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(le.logLevel<=M.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];le.warn("Auth (".concat(Ht,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function vn(t){return I(t)}class yn{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new T(t,e);return n.subscribe.bind(n)}(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bn(t,e,n){const r=vn(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=wn(e),{host:a,port:o}=function(t){const e=wn(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:xn(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:xn(e)}}}(e),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function wn(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xn(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Sn{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return me("not implemented")}_getIdTokenResponse(t){return me("not implemented")}_linkToIdToken(t,e){return me("not implemented")}_getReauthenticationResolver(t){return me("not implemented")}}async function Nn(t,e){return Ee(t,"POST","/v1/accounts:update",e)}async function _n(t,e){return Ce(t,"POST","/v1/accounts:signInWithPassword",Ae(t,e))}class kn extends Sn{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new kn(t,e,"password")}static _fromEmailAndCode(t,e){return new kn(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){var e;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(e=t._getRecaptchaConfig())||void 0===e?void 0:e.emailPasswordEnabled){const e=await pn(t,n,"signInWithPassword");return _n(t,e)}return _n(t,n).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await pn(t,n,"signInWithPassword");return _n(t,e)}return Promise.reject(e)});case"emailLink":return async function(t,e){return Ce(t,"POST","/v1/accounts:signInWithEmailLink",Ae(t,e))}(t,{email:this._email,oobCode:this._password});default:ue(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Nn(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return Ce(t,"POST","/v1/accounts:signInWithEmailLink",Ae(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:ue(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function An(t,e){return Ce(t,"POST","/v1/accounts:signInWithIdp",Ae(t,e))}class En extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new En(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ue("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=ie(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new En(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return An(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,An(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,An(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=k(e)}return t}}const Tn={USER_NOT_FOUND:"user-not-found"};class Cn extends Sn{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Cn({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Cn({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Ce(t,"POST","/v1/accounts:signInWithPhoneNumber",Ae(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Ce(t,"POST","/v1/accounts:signInWithPhoneNumber",Ae(t,e));if(n.temporaryProof)throw Pe(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Ce(t,"POST","/v1/accounts:signInWithPhoneNumber",Ae(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Tn)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new Cn({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class In{constructor(t){var e,n,r,i,s,a;const o=A(E(t)),l=null!==(e=o.apiKey)&&void 0!==e?e:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);pe(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=A(E(t)).link,n=e?A(E(e)).deep_link_id:null,r=A(E(t)).deep_link_id;return(r?A(E(r)).link:null)||r||n||e||t}(t);try{return new In(e)}catch(n){return null}}}class Ln{constructor(){this.providerId=Ln.PROVIDER_ID}static credential(t,e){return kn._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=In.parseLink(e);return pe(n,"argument-error"),kn._fromEmailAndCode(t,n.code,n.tenantId)}}Ln.PROVIDER_ID="password",Ln.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ln.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pn{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Dn extends Pn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class On extends Dn{constructor(){super("facebook.com")}static credential(t){return En._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return On.credentialFromTaggedObject(t)}static credentialFromError(t){return On.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return On.credential(e.oauthAccessToken)}catch(n){return null}}}On.FACEBOOK_SIGN_IN_METHOD="facebook.com",On.PROVIDER_ID="facebook.com";class Rn extends Dn{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return En._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Rn.credentialFromTaggedObject(t)}static credentialFromError(t){return Rn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rn.credential(n,r)}catch(i){return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com",Rn.PROVIDER_ID="google.com";class Mn extends Dn{constructor(){super("github.com")}static credential(t){return En._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mn.credentialFromTaggedObject(t)}static credentialFromError(t){return Mn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Mn.credential(e.oauthAccessToken)}catch(n){return null}}}Mn.GITHUB_SIGN_IN_METHOD="github.com",Mn.PROVIDER_ID="github.com";class jn extends Dn{constructor(){super("twitter.com")}static credential(t,e){return En._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return jn.credentialFromTaggedObject(t)}static credentialFromError(t){return jn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jn.credential(n,r)}catch(i){return null}}}async function Fn(t,e){return Ce(t,"POST","/v1/accounts:signUp",Ae(t,e))}jn.TWITTER_SIGN_IN_METHOD="twitter.com",jn.PROVIDER_ID="twitter.com";class Un{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ze._fromIdTokenResponse(t,n,r),s=Bn(n);return new Un({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Bn(n);return new Un({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Bn(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Vn extends w{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Vn.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Vn(t,e,n,r)}}function zn(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vn._fromErrorAndOperation(t,n,e,r);throw n})}async function qn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Me(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Un._forOperation(t,"link",r)}async function Hn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=t,i="reauthenticate";try{const s=await Me(t,zn(r,i,e,t),n);pe(s.idToken,r,"internal-error");const a=Re(s.idToken);pe(a,r,"internal-error");const{sub:o}=a;return pe(t.uid===o,r,"user-mismatch"),Un._forOperation(t,i,s)}catch(ui){throw(null===ui||void 0===ui?void 0:ui.code)==="auth/".concat("user-not-found")&&ue(r,"user-mismatch"),ui}}async function Wn(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await zn(t,r,e),s=await Un._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Gn(t,e){return Wn(vn(t),e)}async function Kn(t,e){let{displayName:n,photoURL:r}=e;if(void 0===n&&void 0===r)return;const i=I(t),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Me(i,async function(t,e){return Ee(t,"POST","/v1/accounts:update",e)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(t=>{let{providerId:e}=t;return"password"===e});o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}new WeakMap;const Yn="__sak";class Xn{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Qn extends Xn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=y();return Je(t)||rn(t)}()&&function(){try{return!(!window||window===window.top)}catch(ui){return!1}}(),this.fallbackToPolling=an(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);sn()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Qn.type="LOCAL";const Jn=Qn;class $n extends Xn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}$n.type="SESSION";const Zn=$n;class tr{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(e=>e.isListeningto(t));if(e)return e;const n=new tr(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async t=>t(e.origin,i)),o=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}(a);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function er(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}tr.receivers=[];class nr{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=er("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(e.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function rr(){return window}function ir(){return"undefined"!==typeof rr().WorkerGlobalScope&&"function"===typeof rr().importScripts}const sr="firebaseLocalStorageDb",ar="firebaseLocalStorage",or="fbase_key";class lr{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function cr(t,e){return t.transaction([ar],e?"readwrite":"readonly").objectStore(ar)}function ur(){const t=indexedDB.open(sr,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(ar,{keyPath:or})}catch(ui){n(ui)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ar)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(sr);return new lr(t).toPromise()}(),e(await ur()))})})}async function hr(t,e,n){const r=cr(t,!0).put({[or]:e,value:n});return new lr(r).toPromise()}function dr(t,e){const n=cr(t,!0).delete(e);return new lr(n).toPromise()}class fr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ur()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(ui){if(e++>3)throw ui;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ir()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tr._getInstance(ir()?self:null),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new nr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ur();return await hr(t,Yn,"1"),await dr(t,Yn),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hr(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(e=>async function(t,e){const n=cr(t,!1).get(e),r=await new lr(n).toPromise();return void 0===r?null:r.value}(e,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>dr(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const e=cr(t,!1).getAll();return new lr(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}fr.type="LOCAL";const pr=fr;dn("rcb"),new xe(3e4,6e4);const mr="recaptcha";async function gr(t,e,n){var r;const i=await n.verify();try{let s;if(pe("string"===typeof i,t,"argument-error"),pe(n.type===mr,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){pe("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Ee(t,"POST","/v2/accounts/mfaEnrollment:start",Ae(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{pe("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;pe(n,t,"missing-multi-factor-info");const a=await function(t,e){return Ee(t,"POST","/v2/accounts/mfaSignIn:start",Ae(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Ee(t,"POST","/v1/accounts:sendVerificationCode",Ae(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}class vr{constructor(t){this.providerId=vr.PROVIDER_ID,this.auth=vn(t)}verifyPhoneNumber(t,e){return gr(this.auth,t,I(e))}static credential(t,e){return Cn._fromVerification(t,e)}static credentialFromResult(t){const e=t;return vr.credentialFromTaggedObject(e)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Cn._fromTokenResponse(n,r):null}}function yr(t,e){return e?He(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}vr.PROVIDER_ID="phone",vr.PHONE_SIGN_IN_METHOD="phone";class br extends Sn{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return An(t,this._buildIdpRequest())}_linkToIdToken(t,e){return An(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return An(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function wr(t){return Wn(t.auth,new br(t),t.bypassAuthState)}function xr(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),Hn(n,new br(t),t.bypassAuthState)}async function Sr(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),qn(n,new br(t),t.bypassAuthState)}class Nr{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ui){this.reject(ui)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=t;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ui){this.reject(ui)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wr;case"linkViaPopup":case"linkViaRedirect":return Sr;case"reauthViaPopup":case"reauthViaRedirect":return xr;default:ue(this.auth,"internal-error")}}resolve(t){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _r=new xe(2e3,1e4);class kr extends Nr{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,kr.currentPopupAction&&kr.currentPopupAction.cancel(),kr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){ge(1===this.filter.length,"Popup operations only handle one event");const t=er();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(he(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(t,_r.get())};t()}}kr.currentPopupAction=null;const Ar=new Map;class Er extends Nr{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=Ar.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Ir(e),r=Cr(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(ui){t=()=>Promise.reject(ui)}Ar.set(this.auth._key(),t)}return this.bypassAuthState||Ar.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Tr(t,e){Ar.set(t._key(),e)}function Cr(t){return He(t._redirectPersistence)}function Ir(t){return Ke("pendingRedirect",t.config.apiKey,t.name)}async function Lr(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=vn(t),i=yr(r,e),s=new Er(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}class Pr{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Or(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Or(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(he(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dr(t))}saveEventToCache(t){this.cachedEventUids.add(Dr(t)),this.lastProcessedEventTime=Date.now()}}function Dr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Or(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mr=/^https?/;async function jr(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Ee(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const r of e)try{if(Fr(r))return}catch(n){}ue(t,"unauthorized-domain")}function Fr(t){const e=ve(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Mr.test(n))return!1;if(Rr.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ur=new xe(3e4,6e4);function Br(){const t=rr().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Vr=null;function zr(t){return Vr=Vr||function(t){return new Promise((e,n)=>{var r,i,s;function a(){Br(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Br(),n(he(t,"network-request-failed"))},timeout:Ur.get()})}if(null===(i=null===(r=rr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=rr().gapi)||void 0===s?void 0:s.load)){const e=dn("iframefcb");return rr()[e]=()=>{gapi.load?a():n(he(t,"network-request-failed"))},hn("https://apis.google.com/js/api.js?onload=".concat(e)).catch(t=>n(t))}a()}}).catch(t=>{throw Vr=null,t})}(t),Vr}const qr=new xe(5e3,15e3),Hr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gr(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Se(e,"emulator/auth/iframe"):"https://".concat(t.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:e.apiKey,appName:t.name,v:Ht},i=Wr.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(k(r).slice(1))}const Kr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yr{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ui){}}}function Xr(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Kr),{width:r.toString(),height:i.toString(),top:s,left:a}),c=y().toLowerCase();n&&(o=$e(c)?"_blank":n),Qe(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((t,e)=>{let[n,r]=e;return"".concat(t).concat(n,"=").concat(r,",")},"");if(function(){var t;return rn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",o),new Yr(null);const h=window.open(e||"",o,u);pe(h,t,"popup-blocked");try{h.focus()}catch(ui){}return new Yr(h)}const Qr="__/auth/handler",Jr="emulator/auth/handler",$r=encodeURIComponent("fac");async function Zr(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ht,eventId:i};if(e instanceof Pn){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))a[t]=e}if(e instanceof Dn){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(a.scopes=t.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await t._getAppCheckToken(),c=l?"#".concat($r,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(Qr);return Se(e,Jr)}(t),"?").concat(k(o).slice(1)).concat(c)}const ti="webStorageSupport";const ei=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zn,this._completeRedirectFn=Lr,this._overrideRedirectResult=Tr}async _openPopup(t,e,n,r){var i;ge(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Xr(t,await Zr(t,e,n,ve(),r),er())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){rr().location.href=t}(await Zr(t,e,n,ve(),r)),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(ge(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await async function(t){const e=await zr(t),n=rr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:Gr(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hr,dontclear:!0},e=>new Promise(async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=he(t,"network-request-failed"),s=rr().setTimeout(()=>{r(i)},qr.get());function a(){rr().clearTimeout(s),n(e)}e.ping(a).then(a,()=>{r(i)})}))}(t),n=new Pr(t);return e.register("authEvent",e=>{pe(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ti,{type:ti},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ti];void 0!==i&&e(!!i),ue(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=jr(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return an()||Je()||rn()}};var ni="@firebase/auth",ri="0.23.2";class ii{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const si=m("authIdTokenMaxAge")||300;let ai=null;function oi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();const e=Vt(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=Vt(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(N(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;ue(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:ei,persistence:[pr,Jn,Zn]}),r=m("authTokenSyncURL");if(r){const t=(i=r,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>si)return;const r=null===e||void 0===e?void 0:e.token;ai!==r&&(ai=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(t,e,n){I(t).beforeAuthStateChanged(e,n)}(n,t,()=>t(n.currentUser)),function(t,e,n,r){I(t).onIdTokenChanged(e,n,r)}(n,e=>t(e))}var i;const s=d("auth");return s&&bn(n,"http://".concat(s)),n}var li;function ci(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}li="Browser",Bt(new L("auth",(t,e)=>{let{options:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:li,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:on(li)},c=new gn(r,i,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(He);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Bt(new L("auth-internal",t=>(t=>new ii(t))(vn(t.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(ni,ri,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(li)),Kt(ni,ri,"esm2017");let ui={data:""},hi=t=>{if("object"==typeof window){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||ui},di=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fi=/\/\*[^]*?\*\/|  +/g,pi=/\n+/g,mi=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];"@"==s[0]?"i"==s[1]?n=s+" "+a+";":r+="f"==s[1]?mi(a,s):s+"{"+mi(a,"k"==s[1]?"":e)+"}":"object"==typeof a?r+=mi(a,e?e.replace(/([^,])+/g,t=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,e=>/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e)):s):null!=a&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=mi.p?mi.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},gi={},vi=t=>{if("object"==typeof t){let e="";for(let n in t)e+=n+vi(t[n]);return e}return t},yi=(t,e,n,r,i)=>{let s=vi(t),a=gi[s]||(gi[s]=(t=>{let e=0,n=11;for(;e<t.length;)n=101*n+t.charCodeAt(e++)>>>0;return"go"+n})(s));if(!gi[a]){let e=s!==t?t:(t=>{let e,n,r=[{}];for(;e=di.exec(t.replace(fi,""));)e[4]?r.shift():e[3]?(n=e[3].replace(pi," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][e[1]]=e[2].replace(pi," ").trim();return r[0]})(t);gi[a]=mi(i?{["@keyframes "+a]:e}:e,n?"":"."+a)}let o=n&&gi.g?gi.g:null;return n&&(gi.g=gi[a]),((t,e,n,r)=>{r?e.data=e.data.replace(r,t):-1===e.data.indexOf(t)&&(e.data=n?t+e.data:e.data+t)})(gi[a],e,r,o),a};function bi(t){let e=this||{},n=t.call?t(e.p):t;return yi(n.unshift?n.raw?((t,e,n)=>t.reduce((t,r,i)=>{let s=e[i];if(s&&s.call){let t=s(n),e=t&&t.props&&t.props.className||/^go/.test(t)&&t;s=e?"."+e:t&&"object"==typeof t?t.props?"":mi(t,""):!1===t?"":t}return t+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),e.p):n.reduce((t,n)=>Object.assign(t,n&&n.call?n(e.p):n),{}):n,hi(e.target),e.g,e.o,e.k)}bi.bind({g:1});let wi,xi,Si,Ni=bi.bind({k:1});function _i(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:xi&&xi()},o),n.o=/ *go\d+/.test(l),o.className=bi.apply(n,r)+(l?" "+l:""),e&&(o.ref=a);let c=t;return t[0]&&(c=o.as||t,delete o.as),Si&&c[0]&&Si(o),wi(c,o)}return e?e(i):i}}var ki,Ai,Ei,Ti,Ci,Ii,Li,Pi,Di,Oi,Ri,Mi,ji,Fi,Ui,Bi,Vi=(t,e)=>(t=>"function"==typeof t)(t)?t(e):t,zi=(()=>{let t=0;return()=>(++t).toString()})(),qi=(()=>{let t;return()=>{if(void 0===t&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Hi="default",Wi=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return H(H({},t),{},{toasts:[e.toast,...t.toasts].slice(0,n)});case 1:return H(H({},t),{},{toasts:t.toasts.map(t=>t.id===e.toast.id?H(H({},t),e.toast):t)});case 2:let{toast:r}=e;return Wi(t,{type:t.toasts.find(t=>t.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return H(H({},t),{},{toasts:t.toasts.map(t=>t.id===i||void 0===i?H(H({},t),{},{dismissed:!0,visible:!1}):t)});case 4:return void 0===e.toastId?H(H({},t),{},{toasts:[]}):H(H({},t),{},{toasts:t.toasts.filter(t=>t.id!==e.toastId)});case 5:return H(H({},t),{},{pausedAt:e.time});case 6:let s=e.time-(t.pausedAt||0);return H(H({},t),{},{pausedAt:void 0,toasts:t.toasts.map(t=>H(H({},t),{},{pauseDuration:t.pauseDuration+s}))})}},Gi=[],Ki={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Yi={},Xi=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hi;Yi[e]=Wi(Yi[e]||Ki,t),Gi.forEach(t=>{let[n,r]=t;n===e&&r(Yi[e])})},Qi=t=>Object.keys(Yi).forEach(e=>Xi(t,e)),Ji=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi;return e=>{Xi(e,t)}},$i={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Zi=t=>(e,n)=>{let r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return H(H({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||zi()})}(e,t,n);return Ji(r.toasterId||(t=>Object.keys(Yi).find(e=>Yi[e].toasts.some(e=>e.id===t)))(r.id))({type:2,toast:r}),r.id},ts=(t,e)=>Zi("blank")(t,e);ts.error=Zi("error"),ts.success=Zi("success"),ts.loading=Zi("loading"),ts.custom=Zi("custom"),ts.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Ji(e)(n):Qi(n)},ts.dismissAll=t=>ts.dismiss(void 0,t),ts.remove=(t,e)=>{let n={type:4,toastId:t};e?Ji(e)(n):Qi(n)},ts.removeAll=t=>ts.remove(void 0,t),ts.promise=(t,e,n)=>{let r=ts.loading(e.loading,H(H({},n),null==n?void 0:n.loading));return"function"==typeof t&&(t=t()),t.then(t=>{let i=e.success?Vi(e.success,t):void 0;return i?ts.success(i,H(H({id:r},n),null==n?void 0:n.success)):ts.dismiss(r),t}).catch(t=>{let i=e.error?Vi(e.error,t):void 0;i?ts.error(i,H(H({id:r},n),null==n?void 0:n.error)):ts.dismiss(r)}),t};var es=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:i}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hi,[n,i]=(0,r.useState)(Yi[e]||Ki),s=(0,r.useRef)(Yi[e]);(0,r.useEffect)(()=>(s.current!==Yi[e]&&i(Yi[e]),Gi.push([e,i]),()=>{let t=Gi.findIndex(t=>{let[n]=t;return n===e});t>-1&&Gi.splice(t,1)}),[e]);let a=n.toasts.map(e=>{var n,r,i;return H(H(H(H({},t),t[e.type]),e),{},{removeDelay:e.removeDelay||(null==(n=t[e.type])?void 0:n.removeDelay)||(null==t?void 0:t.removeDelay),duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||$i[e.type],style:H(H(H({},t.style),null==(i=t[e.type])?void 0:i.style),e.style)})});return H(H({},n),{},{toasts:a})}(t,e),s=(0,r.useRef)(new Map).current,a=(0,r.useCallback)(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(t))return;let n=setTimeout(()=>{s.delete(t),o({type:4,toastId:t})},e);s.set(t,n)},[]);(0,r.useEffect)(()=>{if(i)return;let t=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(t-n.createdAt);if(!(r<0))return setTimeout(()=>ts.dismiss(n.id,e),r);n.visible&&ts.dismiss(n.id)});return()=>{r.forEach(t=>t&&clearTimeout(t))}},[n,i,e]);let o=(0,r.useCallback)(Ji(e),[e]),l=(0,r.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,r.useCallback)((t,e)=>{o({type:1,toast:{id:t,height:e}})},[o]),u=(0,r.useCallback)(()=>{i&&o({type:6,time:Date.now()})},[i,o]),h=(0,r.useCallback)((t,e)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=e||{},a=n.filter(e=>(e.position||s)===(t.position||s)&&e.height),o=a.findIndex(e=>e.id===t.id),l=a.filter((t,e)=>e<o&&t.visible).length;return a.filter(t=>t.visible).slice(...r?[l+1]:[0,l]).reduce((t,e)=>t+(e.height||0)+i,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(t=>{if(t.dismissed)a(t.id,t.removeDelay);else{let e=s.get(t.id);e&&(clearTimeout(e),s.delete(t.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:h}}},ns=Ni(ki||(ki=ci(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),rs=Ni(Ai||(Ai=ci(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),is=Ni(Ei||(Ei=ci(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ss=_i("div")(Ti||(Ti=ci(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),t=>t.primary||"#ff4b4b",ns,rs,t=>t.secondary||"#fff",is),as=Ni(Ci||(Ci=ci(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),os=_i("div")(Ii||(Ii=ci(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),t=>t.secondary||"#e0e0e0",t=>t.primary||"#616161",as),ls=Ni(Li||(Li=ci(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),cs=Ni(Pi||(Pi=ci(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),us=_i("div")(Di||(Di=ci(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),t=>t.primary||"#61d345",ls,cs,t=>t.secondary||"#fff"),hs=_i("div")(Oi||(Oi=ci(["\n  position: absolute;\n"]))),ds=_i("div")(Ri||(Ri=ci(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),fs=Ni(Mi||(Mi=ci(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ps=_i("div")(ji||(ji=ci(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),fs),ms=t=>{let{toast:e}=t,{icon:n,type:i,iconTheme:s}=e;return void 0!==n?"string"==typeof n?r.createElement(ps,null,n):n:"blank"===i?null:r.createElement(ds,null,r.createElement(os,H({},s)),"loading"!==i&&r.createElement(hs,null,"error"===i?r.createElement(ss,H({},s)):r.createElement(us,H({},s))))},gs=t=>"\n0% {transform: translate3d(0,".concat(-200*t,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),vs=t=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*t,"%,-1px) scale(.6); opacity:0;}\n"),ys=_i("div")(Fi||(Fi=ci(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),bs=_i("div")(Ui||(Ui=ci(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),ws=r.memo(t=>{let{toast:e,position:n,style:i,children:s}=t,a=e.height?((t,e)=>{let n=t.includes("top")?1:-1,[r,i]=qi()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[gs(n),vs(n)];return{animation:e?"".concat(Ni(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Ni(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(e.position||n||"top-center",e.visible):{opacity:0},o=r.createElement(ms,{toast:e}),l=r.createElement(bs,H({},e.ariaProps),Vi(e.message,e));return r.createElement(ys,{className:e.className,style:H(H(H({},a),i),e.style)},"function"==typeof s?s({icon:o,message:l}):r.createElement(r.Fragment,null,o,l))});!function(t,e,n,r){mi.p=e,wi=t,xi=n,Si=r}(r.createElement);var xs=t=>{let{id:e,className:n,style:i,onHeightUpdate:s,children:a}=t,o=r.useCallback(t=>{if(t){let n=()=>{let n=t.getBoundingClientRect().height;s(e,n)};n(),new MutationObserver(n).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return r.createElement("div",{ref:o,className:n,style:i},a)},Ss=bi(Bi||(Bi=ci(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Ns=t=>{let{reverseOrder:e,position:n="top-center",toastOptions:i,gutter:s,children:a,toasterId:o,containerStyle:l,containerClassName:c}=t,{toasts:u,handlers:h}=es(i,o);return r.createElement("div",{"data-rht-toaster":o||"",style:H({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(t=>{let i=t.position||n,o=((t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return H(H({left:0,right:0,display:"flex",position:"absolute",transition:qi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(e*(n?1:-1),"px)")},r),i)})(i,h.calculateOffset(t,{reverseOrder:e,gutter:s,defaultPosition:n}));return r.createElement(xs,{id:t.id,key:t.id,onHeightUpdate:h.updateHeight,className:t.visible?Ss:"",style:o},"custom"===t.type?Vi(t.message,t):a?a(t):r.createElement(ws,{toast:t,position:i}))}))},_s=ts;Kt("firebase","9.23.0","app");var ks,As="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Es={},Ts=Ts||{},Cs=As||self;function Is(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ls(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ps="closure_uid_"+(1e9*Math.random()>>>0),Ds=0;function Os(t,e,n){return t.call.apply(t.bind,arguments)}function Rs(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ms(t,e,n){return(Ms=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Os:Rs).apply(null,arguments)}function js(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Fs(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ps)&&t[Ps]||(t[Ps]=++Ds)}(this)},Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vs(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zs(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(Is(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function qs(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qs.prototype.h=function(){this.defaultPrevented=!0};var Hs=function(){if(!Cs.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Cs.addEventListener("test",()=>{},e),Cs.removeEventListener("test",()=>{},e)}catch(gi){}return t}();function Ws(t){return/^[\s\xa0]*$/.test(t)}function Gs(){var t=Cs.navigator;return t&&(t=t.userAgent)?t:""}function Ks(t){return-1!=Gs().indexOf(t)}function Ys(t){return Ys[" "](t),t}Ys[" "]=function(){};var Xs,Qs,Js=Ks("Opera"),$s=Ks("Trident")||Ks("MSIE"),Zs=Ks("Edge"),ta=Zs||$s,ea=Ks("Gecko")&&!(-1!=Gs().toLowerCase().indexOf("webkit")&&!Ks("Edge"))&&!(Ks("Trident")||Ks("MSIE"))&&!Ks("Edge"),na=-1!=Gs().toLowerCase().indexOf("webkit")&&!Ks("Edge");function ra(){var t=Cs.document;return t?t.documentMode:void 0}t:{var ia="",sa=function(){var t=Gs();return ea?/rv:([^\);]+)(\)|;)/.exec(t):Zs?/Edge\/([\d\.]+)/.exec(t):$s?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):na?/WebKit\/(\S+)/.exec(t):Js?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(sa&&(ia=sa?sa[1]:""),$s){var aa=ra();if(null!=aa&&aa>parseFloat(ia)){Xs=String(aa);break t}}Xs=ia}if(Cs.document&&$s){var oa=ra();Qs=oa||(parseInt(Xs,10)||void 0)}else Qs=void 0;var la=Qs;function ca(t,e){if(qs.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ea){t:{try{Ys(e.nodeName);var i=!0;break t}catch(xi){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ua[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ca.$.h.call(this)}}Fs(ca,qs);var ua={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ha="closure_listenable_"+(1e6*Math.random()|0),da=0;function fa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++da,this.fa=this.ia=!1}function pa(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ma(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ga(t){const e={};for(const n in t)e[n]=t[n];return e}const va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ya(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<va.length;e++)n=va[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ba(t){this.src=t,this.g={},this.h=0}function wa(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Bs(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(pa(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function xa(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}ba.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=xa(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new fa(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Sa="closure_lm_"+(1e6*Math.random()|0),Na={};function _a(t,e,n,r,i){if(r&&r.once)return Aa(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_a(t,e[s],n,r,i);return null}return n=Da(n),t&&t[ha]?t.O(e,n,Ls(r)?!!r.capture:!!r,i):ka(t,e,n,!1,r,i)}function ka(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Ls(i)?!!i.capture:!!i,o=La(t);if(o||(t[Sa]=o=new ba(t)),(n=o.add(e,n,r,a,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=Ia;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Hs||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ca(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Aa(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Aa(t,e[s],n,r,i);return null}return n=Da(n),t&&t[ha]?t.P(e,n,Ls(r)?!!r.capture:!!r,i):ka(t,e,n,!0,r,i)}function Ea(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ea(t,e[s],n,r,i);else r=Ls(r)?!!r.capture:!!r,n=Da(n),t&&t[ha]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=xa(s=t.g[e],n,r,i))&&(pa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=La(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xa(e,n,r,i)),(n=-1<t?e[t]:null)&&Ta(n))}function Ta(t){if("number"!==typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ha])wa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ca(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=La(e))?(wa(n,t),0==n.h&&(n.src=null,e[Sa]=null)):pa(t)}}}function Ca(t){return t in Na?Na[t]:Na[t]="on"+t}function Ia(t,e){if(t.fa)t=!0;else{e=new ca(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ta(t),t=n.call(r,e)}return t}function La(t){return(t=t[Sa])instanceof ba?t:null}var Pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(t){return"function"===typeof t?t:(t[Pa]||(t[Pa]=function(e){return t.handleEvent(e)}),t[Pa])}function Oa(){Us.call(this),this.i=new ba(this),this.S=this,this.J=null}function Ra(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"===typeof e)e=new qs(e,t);else if(e instanceof qs)e.target=e.target||t;else{var i=e;ya(e=new qs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=Ma(a,r,!0,e)&&i}if(i=Ma(a=e.g=t,r,!0,e)&&i,i=Ma(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ma(a=e.g=n[s],r,!1,e)&&i}function Ma(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&wa(t.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Fs(Oa,Us),Oa.prototype[ha]=!0,Oa.prototype.removeEventListener=function(t,e,n,r){Ea(this,t,e,n,r)},Oa.prototype.N=function(){if(Oa.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)pa(n[r]);delete e.g[t],e.h--}}this.J=null},Oa.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Oa.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ja=Cs.JSON.stringify;function Fa(){var t=Wa;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ua=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Ba,t=>t.reset());class Ba{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Va(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function za(t){Cs.setTimeout(()=>{throw t},0)}let qa,Ha=!1,Wa=new class{constructor(){this.h=this.g=null}add(t,e){const n=Ua.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Ga=()=>{const t=Cs.Promise.resolve(void 0);qa=()=>{t.then(Ka)}};var Ka=()=>{for(var t;t=Fa();){try{t.h.call(t.g)}catch(gi){za(gi)}var e=Ua;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ha=!1};function Ya(t,e){Oa.call(this),this.h=t||1,this.g=e||Cs,this.j=Ms(this.qb,this),this.l=Date.now()}function Xa(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Qa(t,e,n){if("function"===typeof t)n&&(t=Ms(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ms(t.handleEvent,t)}return 2147483647<Number(e)?-1:Cs.setTimeout(t,e||0)}function Ja(t){t.g=Qa(()=>{t.g=null,t.i&&(t.i=!1,Ja(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Fs(Ya,Oa),(ks=Ya.prototype).ga=!1,ks.T=null,ks.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ra(this,"tick"),this.ga&&(Xa(this),this.start()))}},ks.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ks.N=function(){Ya.$.N.call(this),Xa(this),delete this.g};class $a extends Us{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ja(this)}N(){super.N(),this.g&&(Cs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(t){Us.call(this),this.h=t,this.g={}}Fs(Za,Us);var to=[];function eo(t,e,n,r){Array.isArray(n)||(n&&(to[0]=n.toString()),n=to);for(var i=0;i<n.length;i++){var s=_a(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function no(t){ma(t.g,function(t,e){this.g.hasOwnProperty(e)&&Ta(t)},t),t.g={}}function ro(){this.g=!0}function io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ja(n)}catch(pi){return e}}(t,n)+(r?" "+r:"")})}Za.prototype.N=function(){Za.$.N.call(this),no(this)},Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ro.prototype.Ea=function(){this.g=!1},ro.prototype.info=function(){};var so={},ao=null;function oo(){return ao=ao||new Oa}function lo(t){qs.call(this,so.Ta,t)}function co(t){const e=oo();Ra(e,new lo(e))}function uo(t,e){qs.call(this,so.STAT_EVENT,t),this.stat=e}function ho(t){const e=oo();Ra(e,new uo(e,t))}function fo(t,e){qs.call(this,so.Ua,t),this.size=e}function po(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return Cs.setTimeout(function(){t()},e)}so.Ta="serverreachability",Fs(lo,qs),so.STAT_EVENT="statevent",Fs(uo,qs),so.Ua="timingevent",Fs(fo,qs);var mo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},go={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vo(){}function yo(t){return t.h||(t.h=t.i())}function bo(){}vo.prototype.h=null;var wo,xo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function So(){qs.call(this,"d")}function No(){qs.call(this,"c")}function _o(){}function ko(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Za(this),this.P=Eo,t=ta?125:void 0,this.V=new Ya(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ao}function Ao(){this.i=null,this.g="",this.h=!1}Fs(So,qs),Fs(No,qs),Fs(_o,vo),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},wo=new _o;var Eo=45e3,To={},Co={};function Io(t,e,n){t.L=1,t.v=Xo(Ho(e)),t.s=n,t.S=!0,Lo(t,null)}function Lo(t,e){t.G=Date.now(),Ro(t),t.A=Ho(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ll(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Ao,t.g=lc(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $a(Ms(t.Pa,t,t.g),t.O)),eo(t.U,t.g,"readystatechange",t.nb),e=t.I?ga(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),co(),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Po(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function Do(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=Oo(t,n),r==Co){4==e&&(t.o=4,ho(14),i=!1),io(t.j,t.m,null,"[Incomplete Response]");break}if(r==To){t.o=4,ho(15),io(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}io(t.j,t.m,r,null),Bo(t,r)}Po(t)&&r!=Co&&r!=To&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ho(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tc(e),e.M=!0,ho(11))):(io(t.j,t.m,n,"[Invalid Chunked Response]"),Uo(t),Fo(t))}function Oo(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Co:(n=Number(e.substring(n,r)),isNaN(n)?To:(r+=1)+n>e.length?Co:(e=e.slice(r,r+n),t.C=r+n,e))}function Ro(t){t.Y=Date.now()+t.P,Mo(t,t.P)}function Mo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=po(Ms(t.lb,t),e)}function jo(t){t.B&&(Cs.clearTimeout(t.B),t.B=null)}function Fo(t){0==t.l.H||t.J||rc(t.l,t)}function Uo(t){jo(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Xa(t.V),no(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Bo(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||ml(n.i,t)))if(!t.K&&ml(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;nc(n),Gl(n)}Zl(n),ho(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=po(Ms(n.ib,n),6e3));if(1>=pl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else sc(n,11)}else if((t.K||n.g==t)&&nc(n),!Ws(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const e=c[3];null!=e&&(n.ra=e,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gl(s,s.h),s.h=null))}if(r.F){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.Da=t,Yo(r.I,r.F,t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=oc(r,r.J?r.pa:null,r.Y),a.K){vl(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(jo(o),Ro(o)),r.g=a}else $l(r);0<n.j.length&&Yl(n)}else"stop"!=c[0]&&"close"!=c[0]||sc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sc(n,7):Wl(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}co()}catch(c){}}function Vo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Is(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(Is(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(Is(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(ks=ko.prototype).setTimeout=function(t){this.P=t},ks.nb=function(t){t=t.target;const e=this.M;e&&3==Ul(t)?e.l():this.Pa(t)},ks.Pa=function(t){try{if(t==this.g)t:{const u=Ul(this.g);var e=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ta||this.g&&(this.h.h||this.g.ja()||Bl(this.g)))){this.J||4!=u||7==e||co(),jo(this);var n=this.g.da();this.ca=n;e:if(Po(this)){var r=Bl(this.g);t="";var i=r.length,s=4==Ul(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Uo(this),Fo(this);var a="";break e}this.h.i=new Cs.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ws(o)){var c=o;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,ho(12),Uo(this),Fo(this);break t}io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bo(this,n)}this.S?(Do(this,u,a),ta&&this.i&&3==u&&(eo(this.U,this.V,"tick",this.mb),this.V.start())):(io(this.j,this.m,a,null),Bo(this,a)),4==u&&Uo(this),this.i&&!this.J&&(4==u?rc(this.l,this):(this.i=!1,Ro(this)))}else(function(t){const e={};t=(t.g&&2<=Ul(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ws(t[r]))continue;var n=Va(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,ho(12)):(this.o=0,ho(13)),Uo(this),Fo(this)}}}catch(bi){}},ks.mb=function(){if(this.g){var t=Ul(this.g),e=this.g.ja();this.C<e.length&&(jo(this),Do(this,t,e),this.i&&4!=t&&Ro(this))}},ks.cancel=function(){this.J=!0,Uo(this)},ks.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(co(),ho(17)),Uo(this),this.o=2,Fo(this)):Mo(this,this.Y-t)};var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qo){this.h=t.h,Wo(this,t.j),this.s=t.s,this.g=t.g,Go(this,t.m),this.l=t.l;var e=t.i,n=new il;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ko(this,n),this.o=t.o}else t&&(e=String(t).match(zo))?(this.h=!1,Wo(this,e[1]||"",!0),this.s=Qo(e[2]||""),this.g=Qo(e[3]||"",!0),Go(this,e[4]),this.l=Qo(e[5]||"",!0),Ko(this,e[6]||"",!0),this.o=Qo(e[7]||"")):(this.h=!1,this.i=new il(null,this.h))}function Ho(t){return new qo(t)}function Wo(t,e,n){t.j=n?Qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Go(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ko(t,e,n){e instanceof il?(t.i=e,function(t,e){e&&!t.j&&(sl(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(al(this,e),ll(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=Jo(e,nl)),t.i=new il(e,t.h))}function Yo(t,e,n){t.i.set(e,n)}function Xo(t){return Yo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jo(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,$o),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $o(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jo(e,Zo,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Jo(e,Zo,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Jo(n,"/"==n.charAt(0)?el:tl,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jo(n,rl)),t.join("")};var Zo=/[#\/\?@]/g,tl=/[#\?:]/g,el=/[#\?]/g,nl=/[#\?@]/g,rl=/#/g;function il(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sl(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function al(t,e){sl(t),e=cl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ol(t,e){return sl(t),e=cl(t,e),t.g.has(e)}function ll(t,e,n){al(t,e),0<n.length&&(t.i=null,t.g.set(cl(t,e),Vs(n)),t.h+=n.length)}function cl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(ks=il.prototype).add=function(t,e){sl(this),this.i=null,t=cl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ks.forEach=function(t,e){sl(this),this.g.forEach(function(n,r){n.forEach(function(n){t.call(e,n,r,this)},this)},this)},ks.ta=function(){sl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},ks.Z=function(t){sl(this);let e=[];if("string"===typeof t)ol(this,t)&&(e=e.concat(this.g.get(cl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},ks.set=function(t,e){return sl(this),this.i=null,ol(this,t=cl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ks.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},ks.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var ul=class{constructor(t,e){this.g=t,this.map=e}};function hl(t){this.l=t||dl,Cs.PerformanceNavigationTiming?t=0<(t=Cs.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Cs.g&&Cs.g.Ka&&Cs.g.Ka()&&Cs.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dl=10;function fl(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pl(t){return t.h?1:t.g?t.g.size:0}function ml(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function gl(t,e){t.g?t.g.add(e):t.h=e}function vl(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function yl(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vs(t.i)}hl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var bl=class{stringify(t){return Cs.JSON.stringify(t,void 0)}parse(t){return Cs.JSON.parse(t,void 0)}};function wl(){this.g=new bl}function xl(t,e,n){const r=n||"";try{Vo(t,function(t,n){let i=t;Ls(t)&&(i=ja(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ui){throw e.push(r+"type="+encodeURIComponent("_badmap")),ui}}function Sl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(xi){}}function Nl(t){this.l=t.fc||null,this.j=t.ob||!1}function _l(t,e){Oa.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=kl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fs(Nl,vo),Nl.prototype.g=function(){return new _l(this.l,this.j)},Nl.prototype.i=function(t){return function(){return t}}({}),Fs(_l,Oa);var kl=0;function Al(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function El(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tl(t)}function Tl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ks=_l.prototype).open=function(t,e){if(this.readyState!=kl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tl(this)},ks.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Cs).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ks.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,El(this)),this.readyState=kl},ks.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tl(this)),this.g&&(this.readyState=3,Tl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Cs.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Al(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},ks.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?El(this):Tl(this),3==this.readyState&&Al(this)}},ks.Za=function(t){this.g&&(this.response=this.responseText=t,El(this))},ks.Ya=function(t){this.g&&(this.response=t,El(this))},ks.ka=function(){this.g&&El(this)},ks.setRequestHeader=function(t,e){this.v.append(t,e)},ks.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ks.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Cl=Cs.JSON.parse;function Il(t){Oa.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ll,this.L=this.M=!1}Fs(Il,Oa);var Ll="",Pl=/^https?$/i,Dl=["POST","PUT"];function Ol(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Rl(t),jl(t)}function Rl(t){t.F||(t.F=!0,Ra(t,"complete"),Ra(t,"error"))}function Ml(t){if(t.h&&"undefined"!=typeof Ts&&(!t.C[1]||4!=Ul(t)||2!=t.da()))if(t.v&&4==Ul(t))Qa(t.La,0,t);else if(Ra(t,"readystatechange"),4==Ul(t)){t.h=!1;try{const a=t.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(zo)[1]||null;!i&&Cs.self&&Cs.self.location&&(i=Cs.self.location.protocol.slice(0,-1)),r=!Pl.test(i?i.toLowerCase():"")}n=r}if(n)Ra(t,"complete"),Ra(t,"success");else{t.m=6;try{var s=2<Ul(t)?t.g.statusText:""}catch(pi){s=""}t.j=s+" ["+t.da()+"]",Rl(t)}}finally{jl(t)}}}function jl(t,e){if(t.g){Fl(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ra(t,"ready");try{n.onreadystatechange=r}catch(ui){}}}function Fl(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Cs.clearTimeout(t.A),t.A=null)}function Ul(t){return t.g?t.g.readyState:0}function Bl(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ll:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vl(t){let e="";return ma(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function zl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Vl(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Yo(t,e,n))}function ql(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hl(t){this.Ga=0,this.j=[],this.l=new ro,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ql("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ql("baseRetryDelayMs",5e3,t),this.hb=ql("retryDelaySeedMs",1e4,t),this.eb=ql("forwardChannelMaxRetries",2,t),this.xa=ql("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hl(t&&t.concurrentRequestLimit),this.Ja=new wl,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Wl(t){if(Kl(t),3==t.H){var e=t.W++,n=Ho(t.I);if(Yo(n,"SID",t.K),Yo(n,"RID",e),Yo(n,"TYPE","terminate"),Ql(t,n),(e=new ko(t,t.l,e)).L=2,e.v=Xo(Ho(n)),n=!1,Cs.navigator&&Cs.navigator.sendBeacon)try{n=Cs.navigator.sendBeacon(e.v.toString(),"")}catch(wi){}!n&&Cs.Image&&((new Image).src=e.v,n=!0),n||(e.g=lc(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ro(e)}ac(t)}function Gl(t){t.g&&(tc(t),t.g.cancel(),t.g=null)}function Kl(t){Gl(t),t.u&&(Cs.clearTimeout(t.u),t.u=null),nc(t),t.i.cancel(),t.m&&("number"===typeof t.m&&Cs.clearTimeout(t.m),t.m=null)}function Yl(t){if(!fl(t.i)&&!t.m){t.m=!0;var e=t.Na;qa||Ga(),Ha||(qa(),Ha=!0),Wa.add(e,t),t.C=0}}function Xl(t,e){var n;n=e?e.m:t.W++;const r=Ho(t.I);Yo(r,"SID",t.K),Yo(r,"RID",n),Yo(r,"AID",t.V),Ql(t,r),t.o&&t.s&&zl(r,t.o,t.s),n=new ko(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Jl(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gl(t.i,n),Io(n,r,e)}function Ql(t,e){t.na&&ma(t.na,function(t,n){Yo(e,n,t)}),t.h&&Vo({},function(t,n){Yo(e,n,t)})}function Jl(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ms(t.h.Va,t.h,t):null;t:{var i=t.j;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=e,0>n)e=Math.max(0,i[a].g-100),s=!1;else try{xl(o,t,"req"+n+"_")}catch(us){r&&r(o)}}if(s){r=t.join("&");break t}}}return t=t.j.splice(0,n),e.F=t,r}function $l(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qa||Ga(),Ha||(qa(),Ha=!0),Wa.add(e,t),t.A=0}}function Zl(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=po(Ms(t.Ma,t),ic(t,t.A)),t.A++,!0)}function tc(t){null!=t.B&&(Cs.clearTimeout(t.B),t.B=null)}function ec(t){t.g=new ko(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ho(t.wa);Yo(e,"RID","rpc"),Yo(e,"SID",t.K),Yo(e,"AID",t.V),Yo(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Yo(e,"TO",t.qa),Yo(e,"TYPE","xmlhttp"),Ql(t,e),t.o&&t.s&&zl(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Xo(Ho(e)),n.s=null,n.S=!0,Lo(n,t)}function nc(t){null!=t.v&&(Cs.clearTimeout(t.v),t.v=null)}function rc(t,e){var n=null;if(t.g==e){nc(t),tc(t),t.g=null;var r=2}else{if(!ml(t.i,e))return;n=e.F,vl(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ra(r=oo(),new fo(r,n)),Yl(t)}else $l(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function(t,e){return!(pl(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.j=e.F.concat(t.j),!0):!(1==t.H||2==t.H||t.C>=(t.cb?0:t.eb))&&(t.m=po(Ms(t.Na,t,e),ic(t,t.C)),t.C++,!0))}(t,e)||2==r&&Zl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:sc(t,5);break;case 4:sc(t,10);break;case 3:sc(t,6);break;default:sc(t,2)}}function ic(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function sc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ms(t.pb,t);n||(n=new qo("//www.google.com/images/cleardot.gif"),Cs.location&&"http"==Cs.location.protocol||Wo(n,"https"),Xo(n)),function(t,e){const n=new ro;if(Cs.Image){const r=new Image;r.onload=js(Sl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=js(Sl,n,r,"TestLoadImage: error",!1,e),r.onabort=js(Sl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=js(Sl,n,r,"TestLoadImage: timeout",!1,e),Cs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ho(2);t.H=0,t.h&&t.h.za(e),ac(t),Kl(t)}function ac(t){if(t.H=0,t.ma=[],t.h){const e=yl(t.i);0==e.length&&0==t.j.length||(zs(t.ma,e),zs(t.ma,t.j),t.i.i.length=0,Vs(t.j),t.j.length=0),t.h.ya()}}function oc(t,e,n){var r=n instanceof qo?Ho(n):new qo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Go(r,r.m);else{var i=Cs.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qo(null);r&&Wo(s,r),e&&(s.g=e),i&&Go(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Yo(r,n,e),Yo(r,"VER",t.ra),Ql(t,r),r}function lc(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new Il(new Nl({ob:!0})):new Il(t.va)).Oa(t.J),e}function cc(){}function uc(){if($s&&!(10<=Number(la)))throw Error("Environmental error: no available transport.")}function hc(t,e){Oa.call(this),this.g=new Hl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ws(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ws(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new pc(this)}function dc(t){So.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fc(){No.call(this),this.status=1}function pc(t){this.g=t}function mc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gc(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function vc(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(ks=Il.prototype).Oa=function(t){this.M=t},ks.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wo.g(),this.C=this.u?yo(this.u):yo(wo),this.g.onreadystatechange=Ms(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(xi){return void Ol(this,xi)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),i=Cs.FormData&&t instanceof Cs.FormData,!(0<=Bs(Dl,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fl(this),0<this.B&&((this.L=function(t){return $s&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ms(this.ua,this)):this.A=Qa(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(xi){Ol(this,xi)}},ks.ua=function(){"undefined"!=typeof Ts&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ra(this,"timeout"),this.abort(8))},ks.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ra(this,"complete"),Ra(this,"abort"),jl(this))},ks.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jl(this,!0)),Il.$.N.call(this)},ks.La=function(){this.s||(this.G||this.v||this.l?Ml(this):this.kb())},ks.kb=function(){Ml(this)},ks.isActive=function(){return!!this.g},ks.da=function(){try{return 2<Ul(this)?this.g.status:-1}catch(fi){return-1}},ks.ja=function(){try{return this.g?this.g.responseText:""}catch(fi){return""}},ks.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cl(e)}},ks.Ia=function(){return this.m},ks.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ks=Hl.prototype).ra=8,ks.H=1,ks.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ko(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ga(s),ya(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)t:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.j.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Jl(this,i,e),Yo(n=Ho(this.I),"RID",t),Yo(n,"CVER",22),this.F&&Yo(n,"X-HTTP-Session-Id",this.F),Ql(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Vl(s)))+"&"+e:this.o&&zl(n,this.o,s)),gl(this.i,i),this.bb&&Yo(n,"TYPE","init"),this.P?(Yo(n,"$req",e),Yo(n,"SID","null"),i.aa=!0,Io(i,n,null)):Io(i,n,e),this.H=2}}else 3==this.H&&(t?Xl(this,t):0==this.j.length||fl(this.i)||Xl(this))},ks.Ma=function(){if(this.u=null,ec(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=po(Ms(this.jb,this),t)}},ks.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ho(10),Gl(this),ec(this))},ks.ib=function(){null!=this.v&&(this.v=null,Gl(this),Zl(this),ho(19))},ks.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ho(2)):(this.l.info("Failed to ping google.com"),ho(1))},ks.isActive=function(){return!!this.h&&this.h.isActive(this)},(ks=cc.prototype).Ba=function(){},ks.Aa=function(){},ks.za=function(){},ks.ya=function(){},ks.isActive=function(){return!0},ks.Va=function(){},uc.prototype.g=function(t,e){return new hc(t,e)},Fs(hc,Oa),hc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ho(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oc(t,null,t.Y),Yl(t)},hc.prototype.close=function(){Wl(this.g)},hc.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ja(t),t=n);e.j.push(new ul(e.fb++,t)),3==e.H&&Yl(e)},hc.prototype.N=function(){this.g.h=null,delete this.j,Wl(this.g),delete this.g,hc.$.N.call(this)},Fs(dc,So),Fs(fc,No),Fs(pc,cc),pc.prototype.Ba=function(){Ra(this.g,"a")},pc.prototype.Aa=function(t){Ra(this.g,new dc(t))},pc.prototype.za=function(t){Ra(this.g,new fc)},pc.prototype.ya=function(){Ra(this.g,"b")},Fs(mc,function(){this.blockSize=-1}),mc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mc.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)gc(this,t,s),s+=this.blockSize;if("string"===typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){gc(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){gc(this,r),i=0;break}}this.h=i,this.i+=e},mc.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var yc={};function bc(t){return-128<=t&&128>t?function(t,e){var n=yc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(t){return new vc([0|t],0>t?-1:0)}):new vc([0|t],0>t?-1:0)}function wc(t){if(isNaN(t)||!isFinite(t))return Sc;if(0>t)return Ec(wc(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xc;return new vc(e,0)}var xc=4294967296,Sc=bc(0),Nc=bc(1),_c=bc(16777216);function kc(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ac(t){return-1==t.h}function Ec(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new vc(n,~t.h).add(Nc)}function Tc(t,e){return t.add(Ec(e))}function Cc(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ic(t,e){this.g=t,this.h=e}function Lc(t,e){if(kc(e))throw Error("division by zero");if(kc(t))return new Ic(Sc,Sc);if(Ac(t))return e=Lc(Ec(t),e),new Ic(Ec(e.g),Ec(e.h));if(Ac(e))return e=Lc(t,Ec(e)),new Ic(Ec(e.g),e.h);if(30<t.g.length){if(Ac(t)||Ac(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Nc,r=e;0>=r.X(t);)n=Pc(n),r=Pc(r);var i=Dc(n,1),s=Dc(r,1);for(r=Dc(r,2),n=Dc(n,2);!kc(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=Dc(r,1),n=Dc(n,1)}return e=Tc(t,i.R(e)),new Ic(i,e)}for(i=Sc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=wc(n)).R(e);Ac(a)||0<a.X(t);)a=(s=wc(n-=r)).R(e);kc(s)&&(s=Nc),i=i.add(s),t=Tc(t,a)}return new Ic(i,t)}function Pc(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new vc(n,t.h)}function Dc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new vc(i,t.h)}(ks=vc.prototype).ea=function(){if(Ac(this))return-Ec(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xc+r)*e,e*=xc}return t},ks.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(kc(this))return"0";if(Ac(this))return"-"+Ec(this).toString(t);for(var e=wc(Math.pow(t,6)),n=this,r="";;){var i=Lc(n,e).g,s=((0<(n=Tc(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(kc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},ks.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},ks.X=function(t){return Ac(t=Tc(this,t))?-1:kc(t)?0:1},ks.abs=function(){return Ac(this)?Ec(this):this},ks.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new vc(n,-2147483648&n[n.length-1]?-1:0)},ks.R=function(t){if(kc(this)||kc(t))return Sc;if(Ac(this))return Ac(t)?Ec(this).R(Ec(t)):Ec(Ec(this).R(t));if(Ac(t))return Ec(this.R(Ec(t)));if(0>this.X(_c)&&0>t.X(_c))return wc(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=a*l,Cc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Cc(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Cc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Cc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new vc(n,0)},ks.gb=function(t){return Lc(this,t).h},ks.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new vc(n,this.h&t.h)},ks.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new vc(n,this.h|t.h)},ks.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new vc(n,this.h^t.h)},uc.prototype.createWebChannel=uc.prototype.g,hc.prototype.send=hc.prototype.u,hc.prototype.open=hc.prototype.m,hc.prototype.close=hc.prototype.close,mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,go.COMPLETE="complete",bo.EventType=xo,xo.OPEN="a",xo.CLOSE="b",xo.ERROR="c",xo.MESSAGE="d",Oa.prototype.listen=Oa.prototype.O,Il.prototype.listenOnce=Il.prototype.P,Il.prototype.getLastError=Il.prototype.Sa,Il.prototype.getLastErrorCode=Il.prototype.Ia,Il.prototype.getStatus=Il.prototype.da,Il.prototype.getResponseJson=Il.prototype.Wa,Il.prototype.getResponseText=Il.prototype.ja,Il.prototype.send=Il.prototype.ha,Il.prototype.setWithCredentials=Il.prototype.Oa,mc.prototype.digest=mc.prototype.l,mc.prototype.reset=mc.prototype.reset,mc.prototype.update=mc.prototype.j,vc.prototype.add=vc.prototype.add,vc.prototype.multiply=vc.prototype.R,vc.prototype.modulo=vc.prototype.gb,vc.prototype.compare=vc.prototype.X,vc.prototype.toNumber=vc.prototype.ea,vc.prototype.toString=vc.prototype.toString,vc.prototype.getBits=vc.prototype.D,vc.fromNumber=wc,vc.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return Ec(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=wc(Math.pow(n,8)),i=Sc,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+a),n);8>a?(a=wc(Math.pow(n,a)),i=i.R(a).add(wc(o))):i=(i=i.R(r)).add(wc(o))}return i};var Oc=Es.createWebChannelTransport=function(){return new uc},Rc=Es.getStatEventTarget=function(){return oo()},Mc=Es.ErrorCode=mo,jc=Es.EventType=go,Fc=Es.Event=so,Uc=Es.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bc=Es.FetchXmlHttpFactory=Nl,Vc=Es.WebChannel=bo,zc=Es.XhrIo=Il,qc=Es.Md5=mc,Hc=Es.Integer=vc;const Wc="@firebase/firestore";class Gc{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gc.UNAUTHENTICATED=new Gc(null),Gc.GOOGLE_CREDENTIALS=new Gc("google-credentials-uid"),Gc.FIRST_PARTY=new Gc("first-party-uid"),Gc.MOCK_USER=new Gc("mock-user");let Kc="9.23.0";const Yc=new V("@firebase/firestore");function Xc(){return Yc.logLevel}function Qc(t){if(Yc.logLevel<=M.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(Zc);Yc.debug("Firestore (".concat(Kc,"): ").concat(t),...i)}}function Jc(t){if(Yc.logLevel<=M.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(Zc);Yc.error("Firestore (".concat(Kc,"): ").concat(t),...i)}}function $c(t){if(Yc.logLevel<=M.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(Zc);Yc.warn("Firestore (".concat(Kc,"): ").concat(t),...i)}}function Zc(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function tu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(Kc,") INTERNAL ASSERTION FAILED: ")+t;throw Jc(e),new Error(e)}function eu(t,e){t||tu()}function nu(t,e){return t}const ru={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class iu extends w{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class su{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class au{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class ou{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Gc.UNAUTHENTICATED))}shutdown(){}}class lu{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class cu{constructor(t){this.t=t,this.currentUser=Gc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new su;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new su,t.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const e=i;t.enqueueRetryable(async()=>{await e.promise,await r(this.currentUser)})},a=t=>{Qc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Qc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new su)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Qc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(eu("string"==typeof e.accessToken),new au(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return eu(null===t||"string"==typeof t),new Gc(t)}}class uu{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Gc.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hu{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new uu(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Gc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class du{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fu{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=t=>{null!=t.error&&Qc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.T;return this.T=t.token,Qc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const r=t=>{Qc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.I.onInit(t=>r(t)),setTimeout(()=>{if(!this.appCheck){const t=this.I.getImmediate({optional:!0});t?r(t):Qc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(eu("string"==typeof t.token),this.T=t.token,new du(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pu(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class mu{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=pu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function gu(t,e){return t<e?-1:t>e?1:0}function vu(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}class yu{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new iu(ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new iu(ru.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new iu(ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new iu(ru.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yu.fromMillis(Date.now())}static fromDate(t){return yu.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new yu(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?gu(this.nanoseconds,t.nanoseconds):gu(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bu{constructor(t){this.timestamp=t}static fromTimestamp(t){return new bu(t)}static min(){return new bu(new yu(0,0))}static max(){return new bu(new yu(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wu{constructor(t,e,n){void 0===e?e=0:e>t.length&&tu(),void 0===n?n=t.length-e:n>t.length-e&&tu(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===wu.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wu?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class xu extends wu{construct(t,e,n){return new xu(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new iu(ru.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));t.push(...i.split("/").filter(t=>t.length>0))}return new xu(t)}static emptyPath(){return new xu([])}}const Su=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nu extends wu{construct(t,e,n){return new Nu(t,e,n)}static isValidIdentifier(t){return Su.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nu.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nu(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new iu(ru.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new iu(ru.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new iu(ru.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new iu(ru.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Nu(e)}static emptyPath(){return new Nu([])}}class _u{constructor(t){this.path=t}static fromPath(t){return new _u(xu.fromString(t))}static fromName(t){return new _u(xu.fromString(t).popFirst(5))}static empty(){return new _u(xu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===xu.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return xu.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _u(new xu(t.slice()))}}class ku{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}ku.UNKNOWN_ID=-1;function Au(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bu.fromTimestamp(1e9===r?new yu(n+1,0):new yu(n,r));return new Tu(i,_u.empty(),e)}function Eu(t){return new Tu(t.readTime,t.key,-1)}class Tu{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Tu(bu.min(),_u.empty(),-1)}static max(){return new Tu(bu.max(),_u.empty(),-1)}}function Cu(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_u.comparator(t.documentKey,e.documentKey),0!==n?n:gu(t.largestBatchId,e.largestBatchId))}const Iu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}async function Pu(t){if(t.code!==ru.FAILED_PRECONDITION||t.message!==Iu)throw t;Qc("LocalStore","Unexpectedly lost primary lease")}class Du{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&tu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Du((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Du?e:Du.resolve(e)}catch(t){return Du.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Du.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Du.reject(e)}static resolve(t){return new Du((e,n)=>{e(t)})}static reject(t){return new Du((e,n)=>{n(t)})}static waitFor(t){return new Du((e,n)=>{let r=0,i=0,s=!1;t.forEach(t=>{++r,t.next(()=>{++i,s&&i===r&&e()},t=>n(t))}),s=!0,i===r&&e()})}static or(t){let e=Du.resolve(!1);for(const n of t)e=e.next(t=>t?Du.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}static mapArray(t,e){return new Du((n,r)=>{const i=t.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;e(t[l]).next(t=>{s[l]=t,++a,a===i&&n(s)},t=>r(t))}})}static doWhile(t,e){return new Du((n,r)=>{const i=()=>{!0===t()?e().next(()=>{i()},r):n()};i()})}}function Ou(t){return"IndexedDbTransactionError"===t.name}class Ru{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ot(t),this.ut=t=>e.writeSequenceNumber(t))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}function Mu(t){return null==t}function ju(t){return 0===t&&1/t==-1/0}function Fu(t){return"number"==typeof t&&Number.isInteger(t)&&!ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}Ru.ct=-1;const Uu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vu=Bu;function zu(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Wu{constructor(t,e){this.comparator=t,this.root=e||Ku.EMPTY}insert(t,e){return new Wu(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ku.BLACK,null,null))}remove(t){return new Wu(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ku.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push("".concat(e,":").concat(n)),!1)),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gu(this.root,t,this.comparator,!0)}}class Gu{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ku{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Ku.RED,this.left=null!=r?r:Ku.EMPTY,this.right=null!=i?i:Ku.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Ku(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ku.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ku.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ku.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ku.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tu();if(this.right.isRed())throw tu();const t=this.left.check();if(t!==this.right.check())throw tu();return t+(this.isRed()?0:1)}}Ku.EMPTY=null,Ku.RED=!0,Ku.BLACK=!1,Ku.EMPTY=new class{constructor(){this.size=0}get key(){throw tu()}get value(){throw tu()}get color(){throw tu()}get left(){throw tu()}get right(){throw tu()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ku(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yu{constructor(t){this.comparator=t,this.data=new Wu(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Xu(this.data.getIterator())}getIteratorFrom(t){return new Xu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Yu))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yu(this.comparator);return e.data=t,e}}class Xu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qu{constructor(t){this.fields=t,t.sort(Nu.comparator)}static empty(){return new Qu([])}unionWith(t){let e=new Yu(Nu.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Qu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return vu(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class Ju extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $u{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Ju("Invalid base64 string: "+t):t}}(t);return new $u(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new $u(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gu(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$u.EMPTY_BYTE_STRING=new $u("");const Zu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function th(t){if(eu(!!t),"string"==typeof t){let e=0;const n=Zu.exec(t);if(eu(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:eh(t.seconds),nanos:eh(t.nanos)}}function eh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function nh(t){return"string"==typeof t?$u.fromBase64String(t):$u.fromUint8Array(t)}function rh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ih(t){const e=t.mapValue.fields.__previous_value__;return rh(e)?ih(e):e}function sh(t){const e=th(t.mapValue.fields.__local_write_time__.timestampValue);return new yu(e.seconds,e.nanos)}class ah{constructor(t,e,n,r,i,s,a,o,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class oh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new oh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof oh&&t.projectId===this.projectId&&t.database===this.database}}const lh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ch(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rh(t)?4:Nh(t)?9007199254740991:10:tu()}function uh(t,e){if(t===e)return!0;const n=ch(t);if(n!==ch(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=th(t.timestampValue),r=th(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return nh(t.bytesValue).isEqual(nh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return eh(t.geoPointValue.latitude)===eh(e.geoPointValue.latitude)&&eh(t.geoPointValue.longitude)===eh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return eh(t.integerValue)===eh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=eh(t.doubleValue),r=eh(e.doubleValue);return n===r?ju(n)===ju(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return vu(t.arrayValue.values||[],e.arrayValue.values||[],uh);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zu(n)!==zu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uh(n[i],r[i])))return!1;return!0}(t,e);default:return tu()}}function hh(t,e){return void 0!==(t.values||[]).find(t=>uh(t,e))}function dh(t,e){if(t===e)return 0;const n=ch(t),r=ch(e);if(n!==r)return gu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gu(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=eh(t.integerValue||t.doubleValue),r=eh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fh(t.timestampValue,e.timestampValue);case 4:return fh(sh(t),sh(e));case 5:return gu(t.stringValue,e.stringValue);case 6:return function(t,e){const n=nh(t),r=nh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=gu(n[i],r[i]);if(0!==t)return t}return gu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=gu(eh(t.latitude),eh(e.latitude));return 0!==n?n:gu(eh(t.longitude),eh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=dh(n[i],r[i]);if(t)return t}return gu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===lh.mapValue&&e===lh.mapValue)return 0;if(t===lh.mapValue)return 1;if(e===lh.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const t=gu(r[a],s[a]);if(0!==t)return t;const e=dh(n[r[a]],i[s[a]]);if(0!==e)return e}return gu(r.length,s.length)}(t.mapValue,e.mapValue);default:throw tu()}}function fh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return gu(t,e);const n=th(t),r=th(e),i=gu(n.seconds,r.seconds);return 0!==i?i:gu(n.nanos,r.nanos)}function ph(t){return mh(t)}function mh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=th(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?nh(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,_u.fromName(n).toString()):"geoPointValue"in t?"geo(".concat((e=t.geoPointValue).latitude,",").concat(e.longitude,")"):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=mh(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+="".concat(i,":").concat(mh(t.fields[i]));return n+"}"}(t.mapValue):tu();var e,n}function gh(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function vh(t){return!!t&&"integerValue"in t}function yh(t){return!!t&&"arrayValue"in t}function bh(t){return!!t&&"nullValue"in t}function wh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function Sh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qu(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Sh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nh(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class _h{constructor(t){this.value=t}static empty(){return new _h({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!xh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sh(e)}setAll(t){let e=Nu.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Sh(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());xh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return uh(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];xh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){qu(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new _h(Sh(this.value))}}function kh(t){const e=[];return qu(t.fields,(t,n)=>{const r=new Nu([t]);if(xh(n)){const t=kh(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new Qu(e)}class Ah{constructor(t,e,n,r,i,s,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Ah(t,0,bu.min(),bu.min(),bu.min(),_h.empty(),0)}static newFoundDocument(t,e,n,r){return new Ah(t,1,e,bu.min(),n,r,0)}static newNoDocument(t,e){return new Ah(t,2,e,bu.min(),bu.min(),_h.empty(),0)}static newUnknownDocument(t,e){return new Ah(t,3,e,bu.min(),bu.min(),_h.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_h.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_h.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bu.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ah&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ah(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Eh{constructor(t,e){this.position=t,this.inclusive=e}}function Th(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?_u.comparator(_u.fromName(a.referenceValue),n.key):dh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ch(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!uh(t.position[n],e.position[n]))return!1;return!0}class Ih{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Lh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Ph{}class Dh extends Ph{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Vh(t,e,n):"array-contains"===e?new Wh(t,n):"in"===e?new Gh(t,n):"not-in"===e?new Kh(t,n):"array-contains-any"===e?new Yh(t,n):new Dh(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new zh(t,n):new qh(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(dh(e,this.value)):null!==e&&ch(this.value)===ch(e)&&this.matchesComparison(dh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Oh extends Ph{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Oh(t,e)}matches(t){return Rh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(t=>t.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Rh(t){return"and"===t.op}function Mh(t){return jh(t)&&Rh(t)}function jh(t){for(const e of t.filters)if(e instanceof Oh)return!1;return!0}function Fh(t){if(t instanceof Dh)return t.field.canonicalString()+t.op.toString()+ph(t.value);if(Mh(t))return t.filters.map(t=>Fh(t)).join(",");{const e=t.filters.map(t=>Fh(t)).join(",");return"".concat(t.op,"(").concat(e,")")}}function Uh(t,e){return t instanceof Dh?function(t,e){return e instanceof Dh&&t.op===e.op&&t.field.isEqual(e.field)&&uh(t.value,e.value)}(t,e):t instanceof Oh?function(t,e){return e instanceof Oh&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,r)=>t&&Uh(n,e.filters[r]),!0)}(t,e):void tu()}function Bh(t){return t instanceof Dh?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(ph(t.value))}(t):t instanceof Oh?function(t){return t.op.toString()+" {"+t.getFilters().map(Bh).join(" ,")+"}"}(t):"Filter"}class Vh extends Dh{constructor(t,e,n){super(t,e,n),this.key=_u.fromName(n.referenceValue)}matches(t){const e=_u.comparator(t.key,this.key);return this.matchesComparison(e)}}class zh extends Dh{constructor(t,e){super(t,"in",e),this.keys=Hh("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class qh extends Dh{constructor(t,e){super(t,"not-in",e),this.keys=Hh("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Hh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>_u.fromName(t.referenceValue))}class Wh extends Dh{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yh(e)&&hh(e.arrayValue,this.value)}}class Gh extends Dh{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&hh(this.value.arrayValue,e)}}class Kh extends Dh{constructor(t,e){super(t,"not-in",e)}matches(t){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!hh(this.value.arrayValue,e)}}class Yh extends Dh{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yh(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>hh(this.value.arrayValue,t))}}class Xh{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function Qh(t){return new Xh(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Jh(t){const e=nu(t);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>Fh(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),Mu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>ph(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>ph(t)).join(",")),e.dt=t}return e.dt}function $h(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Uh(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ch(t.startAt,e.startAt)&&Ch(t.endAt,e.endAt)}function Zh(t){return _u.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class td{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function ed(t,e,n,r,i,s,a,o){return new td(t,e,n,r,i,s,a,o)}function nd(t){return new td(t)}function rd(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function id(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sd(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ad(t){return null!==t.collectionGroup}function od(t){const e=nu(t);if(null===e.wt){e.wt=[];const t=sd(e),n=id(e);if(null!==t&&null===n)t.isKeyField()||e.wt.push(new Ih(t)),e.wt.push(new Ih(Nu.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.wt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ih(Nu.keyField(),t))}}}return e.wt}function ld(t){const e=nu(t);if(!e._t)if("F"===e.limitType)e._t=Qh(e.path,e.collectionGroup,od(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of od(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Ih(i.field,e))}const n=e.endAt?new Eh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Eh(e.startAt.position,e.startAt.inclusive):null;e._t=Qh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e._t}function cd(t,e){e.getFirstInequalityField(),sd(t);const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ud(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hd(t,e){return $h(ld(t),ld(e))&&t.limitType===e.limitType}function dd(t){return"".concat(Jh(ld(t)),"|lt:").concat(t.limitType)}function fd(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map(t=>Bh(t)).join(", "),"]")),Mu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map(t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>ph(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>ph(t)).join(",")),"Target(".concat(e,")")}(ld(t)),"; limitType=").concat(t.limitType,")")}function pd(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_u.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of od(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Th(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,od(t),e))&&!(t.endAt&&!function(t,e,n){const r=Th(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,od(t),e))}(t,e)}function md(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gd(t){return(e,n)=>{let r=!1;for(const i of od(t)){const t=vd(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function vd(t,e,n){const r=t.field.isKeyField()?_u.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?dh(r,i):tu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tu()}}class yd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){qu(this.inner,(e,n)=>{for(const[r,i]of n)t(r,i)})}isEmpty(){return Hu(this.inner)}size(){return this.innerSize}}const bd=new Wu(_u.comparator);function wd(){return bd}const xd=new Wu(_u.comparator);function Sd(){let t=xd;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function Nd(t){let e=xd;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function _d(){return Ad()}function kd(){return Ad()}function Ad(){return new yd(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ed=new Wu(_u.comparator),Td=new Yu(_u.comparator);function Cd(){let t=Td;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const Id=new Yu(gu);function Ld(){return Id}function Pd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function Dd(t){return{integerValue:""+t}}function Od(t,e){return Fu(e)?Dd(e):Pd(t,e)}class Rd{constructor(){this._=void 0}}function Md(t,e,n){return t instanceof Ud?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&rh(e)&&(e=ih(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Bd?Vd(t,e):t instanceof zd?qd(t,e):function(t,e){const n=Fd(t,e),r=Wd(n)+Wd(t.gt);return vh(n)&&vh(t.gt)?Dd(r):Pd(t.serializer,r)}(t,e)}function jd(t,e,n){return t instanceof Bd?Vd(t,e):t instanceof zd?qd(t,e):n}function Fd(t,e){return t instanceof Hd?vh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Ud extends Rd{}class Bd extends Rd{constructor(t){super(),this.elements=t}}function Vd(t,e){const n=Gd(e);for(const r of t.elements)n.some(t=>uh(t,r))||n.push(r);return{arrayValue:{values:n}}}class zd extends Rd{constructor(t){super(),this.elements=t}}function qd(t,e){let n=Gd(e);for(const r of t.elements)n=n.filter(t=>!uh(t,r));return{arrayValue:{values:n}}}class Hd extends Rd{constructor(t,e){super(),this.serializer=t,this.gt=e}}function Wd(t){return eh(t.integerValue||t.doubleValue)}function Gd(t){return yh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Kd{constructor(t,e){this.version=t,this.transformResults=e}}class Yd{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Yd}static exists(t){return new Yd(void 0,t)}static updateTime(t){return new Yd(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Qd{}function Jd(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lf(t.key,Yd.none()):new nf(t.key,t.data,Yd.none());{const n=t.data,r=_h.empty();let i=new Yu(Nu.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new rf(t.key,r,new Qu(i.toArray()),Yd.none())}}function $d(t,e,n){t instanceof nf?function(t,e,n){const r=t.value.clone(),i=af(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof rf?function(t,e,n){if(!Xd(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=af(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(sf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Zd(t,e,n,r){return t instanceof nf?function(t,e,n,r){if(!Xd(t.precondition,e))return n;const i=t.value.clone(),s=of(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof rf?function(t,e,n,r){if(!Xd(t.precondition,e))return n;const i=of(t.fieldTransforms,r,e),s=e.data;return s.setAll(sf(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,r):function(t,e,n){return Xd(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function tf(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Fd(r.transform,t||null);null!=i&&(null===n&&(n=_h.empty()),n.set(r.field,i))}return n||null}function ef(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&vu(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Bd&&e instanceof Bd||t instanceof zd&&e instanceof zd?vu(t.elements,e.elements,uh):t instanceof Hd&&e instanceof Hd?uh(t.gt,e.gt):t instanceof Ud&&e instanceof Ud}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nf extends Qd{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rf extends Qd{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sf(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function af(t,e,n){const r=new Map;eu(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,jd(a,o,n[i]))}return r}function of(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Md(t,s,e))}return r}class lf extends Qd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cf extends Qd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uf{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&$d(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Zd(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Zd(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=kd();return this.mutations.forEach(r=>{const i=t.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=e.has(r.key)?null:a;const o=Jd(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(bu.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Cd())}isEqual(t){return this.batchId===t.batchId&&vu(this.mutations,t.mutations,(t,e)=>ef(t,e))&&vu(this.baseMutations,t.baseMutations,(t,e)=>ef(t,e))}}class hf{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){eu(t.mutations.length===n.length);let r=Ed;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new hf(t,e,n,r)}}class df{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ff{constructor(t,e){this.count=t,this.unchangedNames=e}}var pf,mf;function gf(t){switch(t){default:return tu();case ru.CANCELLED:case ru.UNKNOWN:case ru.DEADLINE_EXCEEDED:case ru.RESOURCE_EXHAUSTED:case ru.INTERNAL:case ru.UNAVAILABLE:case ru.UNAUTHENTICATED:return!1;case ru.INVALID_ARGUMENT:case ru.NOT_FOUND:case ru.ALREADY_EXISTS:case ru.PERMISSION_DENIED:case ru.FAILED_PRECONDITION:case ru.ABORTED:case ru.OUT_OF_RANGE:case ru.UNIMPLEMENTED:case ru.DATA_LOSS:return!0}}function vf(t){if(void 0===t)return Jc("GRPC error has no .code"),ru.UNKNOWN;switch(t){case pf.OK:return ru.OK;case pf.CANCELLED:return ru.CANCELLED;case pf.UNKNOWN:return ru.UNKNOWN;case pf.DEADLINE_EXCEEDED:return ru.DEADLINE_EXCEEDED;case pf.RESOURCE_EXHAUSTED:return ru.RESOURCE_EXHAUSTED;case pf.INTERNAL:return ru.INTERNAL;case pf.UNAVAILABLE:return ru.UNAVAILABLE;case pf.UNAUTHENTICATED:return ru.UNAUTHENTICATED;case pf.INVALID_ARGUMENT:return ru.INVALID_ARGUMENT;case pf.NOT_FOUND:return ru.NOT_FOUND;case pf.ALREADY_EXISTS:return ru.ALREADY_EXISTS;case pf.PERMISSION_DENIED:return ru.PERMISSION_DENIED;case pf.FAILED_PRECONDITION:return ru.FAILED_PRECONDITION;case pf.ABORTED:return ru.ABORTED;case pf.OUT_OF_RANGE:return ru.OUT_OF_RANGE;case pf.UNIMPLEMENTED:return ru.UNIMPLEMENTED;case pf.DATA_LOSS:return ru.DATA_LOSS;default:return tu()}}(mf=pf||(pf={}))[mf.OK=0]="OK",mf[mf.CANCELLED=1]="CANCELLED",mf[mf.UNKNOWN=2]="UNKNOWN",mf[mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mf[mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mf[mf.NOT_FOUND=5]="NOT_FOUND",mf[mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",mf[mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",mf[mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",mf[mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mf[mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mf[mf.ABORTED=10]="ABORTED",mf[mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",mf[mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",mf[mf.INTERNAL=13]="INTERNAL",mf[mf.UNAVAILABLE=14]="UNAVAILABLE",mf[mf.DATA_LOSS=15]="DATA_LOSS";class yf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bf}static getOrCreateInstance(){return null===bf&&(bf=new yf),bf}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let bf=null;function wf(){return new TextEncoder}const xf=new Hc([4294967295,4294967295],0);function Sf(t){const e=wf().encode(t),n=new qc;return n.update(e),new Uint8Array(n.digest())}function Nf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hc([n,r],0),new Hc([i,s],0)]}class _f{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new kf("Invalid padding: ".concat(e));if(n<0)throw new kf("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new kf("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new kf("Invalid padding when bitmap length is 0: ".concat(e));this.It=8*t.length-e,this.Tt=Hc.fromNumber(this.It)}Et(t,e,n){let r=t.add(e.multiply(Hc.fromNumber(n)));return 1===r.compare(xf)&&(r=new Hc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Sf(t),[n,r]=Nf(e);for(let i=0;i<this.hashCount;i++){const t=this.Et(n,r,i);if(!this.At(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new _f(i,r,e);return n.forEach(t=>s.insert(t)),s}insert(t){if(0===this.It)return;const e=Sf(t),[n,r]=Nf(e);for(let i=0;i<this.hashCount;i++){const t=this.Et(n,r,i);this.Rt(t)}}Rt(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Ef.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Af(bu.min(),r,new Wu(gu),wd(),Cd())}}class Ef{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Ef(n,e,Cd(),Cd(),Cd())}}class Tf{constructor(t,e,n,r){this.Pt=t,this.removedTargetIds=e,this.key=n,this.bt=r}}class Cf{constructor(t,e){this.targetId=t,this.Vt=e}}class If{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$u.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Lf{constructor(){this.St=0,this.Dt=Of(),this.Ct=$u.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Cd(),e=Cd(),n=Cd();return this.Dt.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:tu()}}),new Ef(this.Ct,this.xt,t,e,n)}Ft(){this.Nt=!1,this.Dt=Of()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Pf{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=wd(),this.zt=Df(),this.Wt=new Wu(gu)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const n=this.Zt(e);switch(t.state){case 0:this.te(e)&&n.$t(t.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(t.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(e);break;case 3:this.te(e)&&(n.Kt(),n.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),n.$t(t.resumeToken));break;default:tu()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((t,n)=>{this.te(n)&&e(n)})}ne(t){var e;const n=t.targetId,r=t.Vt.count,i=this.se(n);if(i){const s=i.target;if(Zh(s))if(0===r){const t=new _u(s.path);this.Yt(n,t,Ah.newNoDocument(t,bu.min()))}else eu(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(t,i);if(0!==r){this.ee(n);const t=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,t)}null===(e=yf.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(t,e,n){var r,i,s,a,o,l;const c={localCacheCount:e,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===t,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,t.Vt))}}}}re(t,e){const{unchangedNames:n,count:r}=t.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=nh(i).toUint8Array()}catch(t){if(t instanceof Ju)return $c("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw t}try{l=new _f(o,s,a)}catch(t){return $c(t instanceof kf?"BloomFilter error: ":"Applying bloom filter failed: ",t),1}return 0===l.It?1:r!==e-this.oe(t.targetId,l)?2:0}oe(t,e){const n=this.Gt.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.vt(s)||(this.Yt(t,n,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Zh(i.target)){const e=new _u(i.target.path);null!==this.jt.get(e)||this.ae(r,e)||this.Yt(r,e,Ah.newNoDocument(e,t))}n.Mt&&(e.set(r,n.Ot()),n.Ft())}});let n=Cd();this.zt.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.se(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))}),this.jt.forEach((e,n)=>n.setReadTime(t));const r=new Af(t,e,this.Wt,this.jt,n);return this.jt=wd(),this.zt=Df(),this.Wt=new Wu(gu),r}Jt(t,e){if(!this.te(t))return;const n=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,n),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,n){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),n&&(this.jt=this.jt.insert(e,n))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new Lf,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Yu(gu),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Qc("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Lf),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function Df(){return new Wu(_u.comparator)}function Of(){return new Wu(_u.comparator)}const Rf={asc:"ASCENDING",desc:"DESCENDING"},Mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jf={and:"AND",or:"OR"};class Ff{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Uf(t,e){return t.useProto3Json||Mu(e)?e:{value:e}}function Bf(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vf(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zf(t,e){return Bf(t,e.toTimestamp())}function qf(t){return eu(!!t),bu.fromTimestamp(function(t){const e=th(t);return new yu(e.seconds,e.nanos)}(t))}function Hf(t,e){return function(t){return new xu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Wf(t){const e=xu.fromString(t);return eu(hp(e)),e}function Gf(t,e){return Hf(t.databaseId,e.path)}function Kf(t,e){const n=Wf(e);if(n.get(1)!==t.databaseId.projectId)throw new iu(ru.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new iu(ru.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _u(Jf(n))}function Yf(t,e){return Hf(t.databaseId,e)}function Xf(t){const e=Wf(t);return 4===e.length?xu.emptyPath():Jf(e)}function Qf(t){return new xu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jf(t){return eu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $f(t,e,n){return{name:Gf(t,e),fields:n.value.mapValue.fields}}function Zf(t,e){let n;if(e instanceof nf)n={update:$f(t,e.key,e.value)};else if(e instanceof lf)n={delete:Gf(t,e.key)};else if(e instanceof rf)n={update:$f(t,e.key,e.data),updateMask:up(e.fieldMask)};else{if(!(e instanceof cf))return tu();n={verify:Gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Ud)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hd)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw tu()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:zf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:tu()}(t,e.precondition)),n}function tp(t,e){return{documents:[Yf(t,e.path)]}}function ep(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Yf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0!==t.length)return cp(Oh.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:op(t.field),direction:ip(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Uf(t,e.limit);var o;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function np(t){let e=Xf(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){eu(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=rp(t);return e instanceof Oh&&Mh(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(t=>function(t){return new Ih(lp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let o=null;n.limit&&(o=function(t){let e;return e="object"==typeof t?t.value:t,Mu(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Eh(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Eh(n,e)}(n.endAt)),ed(e,i,a,s,o,"F",l,c)}function rp(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=lp(t.unaryFilter.field);return Dh.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=lp(t.unaryFilter.field);return Dh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lp(t.unaryFilter.field);return Dh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lp(t.unaryFilter.field);return Dh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tu()}}(t):void 0!==t.fieldFilter?function(t){return Dh.create(lp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tu()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Oh.create(t.compositeFilter.filters.map(t=>rp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tu()}}(t.compositeFilter.op))}(t):tu()}function ip(t){return Rf[t]}function sp(t){return Mf[t]}function ap(t){return jf[t]}function op(t){return{fieldPath:t.canonicalString()}}function lp(t){return Nu.fromServerFormat(t.fieldPath)}function cp(t){return t instanceof Dh?function(t){if("=="===t.op){if(wh(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NAN"}};if(bh(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(wh(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NOT_NAN"}};if(bh(t.value))return{unaryFilter:{field:op(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:op(t.field),op:sp(t.op),value:t.value}}}(t):t instanceof Oh?function(t){const e=t.getFilters().map(t=>cp(t));return 1===e.length?e[0]:{compositeFilter:{op:ap(t.op),filters:e}}}(t):tu()}function up(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class dp{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bu.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$u.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(t){return new dp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fp{constructor(t){this.fe=t}}function pp(t){const e=np({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ud(e,e.limit,"L"):e}class mp{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(eh(t.integerValue));else if("doubleValue"in t){const n=eh(t.doubleValue);isNaN(n)?this.ye(e,13):(this.ye(e,15),ju(n)?e.pe(0):e.pe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ye(e,20),"string"==typeof n?e.Ie(n):(e.Ie("".concat(n.seconds||"")),e.pe(n.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(nh(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ye(e,45),e.pe(n.latitude||0),e.pe(n.longitude||0)}else"mapValue"in t?Nh(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):tu()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const n=t.fields||{};this.ye(e,55);for(const r of Object.keys(n))this.Te(r,e),this.me(n[r],e)}Pe(t,e){const n=t.values||[];this.ye(e,50);for(const r of n)this.me(r,e)}ve(t,e){this.ye(e,37),_u.fromName(t).path.forEach(t=>{this.ye(e,60),this.be(t,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}mp.Ve=new mp;class gp{constructor(){this.rn=new vp}addToCollectionParentIndex(t,e){return this.rn.add(e),Du.resolve()}getCollectionParents(t,e){return Du.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Du.resolve()}deleteFieldIndex(t,e){return Du.resolve()}getDocumentsMatchingTarget(t,e){return Du.resolve(null)}getIndexType(t,e){return Du.resolve(0)}getFieldIndexes(t,e){return Du.resolve([])}getNextCollectionGroupToUpdate(t){return Du.resolve(null)}getMinOffset(t,e){return Du.resolve(Tu.min())}getMinOffsetFromCollectionGroup(t,e){return Du.resolve(Tu.min())}updateCollectionGroup(t,e,n){return Du.resolve()}updateIndexEntries(t,e){return Du.resolve()}}class vp{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Yu(xu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Yu(xu.comparator)).toArray()}}new Uint8Array(0);class yp{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new yp(t,yp.DEFAULT_COLLECTION_PERCENTILE,yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yp.DEFAULT_COLLECTION_PERCENTILE=10,yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yp.DEFAULT=new yp(41943040,yp.DEFAULT_COLLECTION_PERCENTILE,yp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yp.DISABLED=new yp(-1,0,0);class bp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new bp(0)}static Mn(){return new bp(-1)}}class wp{constructor(){this.changes=new yd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ah.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Du.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xp{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Sp{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&Zd(n.mutation,t,Qu.empty(),yu.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,Cd()).next(()=>e))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cd();const r=_d();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(t=>{let e=Sd();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=_d();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,Cd()))}populateOverlays(t,e,n){const r=[];return n.forEach(t=>{e.has(t)||r.push(t)}),this.documentOverlayCache.getOverlays(t,r).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,r){let i=wd();const s=Ad(),a=Ad();return e.forEach((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof rf)?i=i.insert(e.key,e):void 0!==a?(s.set(e.key,a.mutation.getFieldMask()),Zd(a.mutation,e,a.mutation.getFieldMask(),yu.now())):s.set(e.key,Qu.empty())}),this.recalculateAndSaveOverlays(t,i).next(t=>(t.forEach((t,e)=>s.set(t,e)),e.forEach((t,e)=>{var n;return a.set(t,new xp(e,null!==(n=s.get(t))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(t,e){const n=Ad();let r=new Wu((t,e)=>t-e),i=Cd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const i of t)i.keys().forEach(t=>{const s=e.get(t);if(null===s)return;let a=n.get(t)||Qu.empty();a=i.applyToLocalView(s,a),n.set(t,a);const o=(r.get(i.batchId)||Cd()).add(t);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=kd();l.forEach(t=>{if(!i.has(t)){const r=Jd(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}}),s.push(this.documentOverlayCache.saveOverlays(t,o,c))}return Du.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n){return function(t){return _u.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ad(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Du.resolve(_d());let a=-1,o=i;return s.next(e=>Du.forEach(e,(e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?Du.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{o=o.insert(e,t)}))).next(()=>this.populateOverlays(t,e,i)).next(()=>this.computeViews(t,o,e,Cd())).next(t=>({batchId:a,changes:Nd(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _u(e)).next(t=>{let e=Sd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=Sd();return this.indexManager.getCollectionParents(t,r).next(s=>Du.forEach(s,s=>{const a=function(t,e){return new td(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r))).next(t=>{r.forEach((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Ah.newInvalidDocument(r)))});let n=Sd();return t.forEach((t,i)=>{const s=r.get(t);void 0!==s&&Zd(s.mutation,i,Qu.empty(),yu.now()),pd(e,i)&&(n=n.insert(t,i))}),n})}}class Np{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Du.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var n;return this.cs.set(e.id,{id:(n=e).id,version:n.version,createTime:qf(n.createTime)}),Du.resolve()}getNamedQuery(t,e){return Du.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,function(t){return{name:t.name,query:pp(t.bundledQuery),readTime:qf(t.readTime)}}(e)),Du.resolve()}}class _p{constructor(){this.overlays=new Wu(_u.comparator),this.ls=new Map}getOverlay(t,e){return Du.resolve(this.overlays.get(e))}getOverlays(t,e){const n=_d();return Du.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,r)=>{this.we(t,e,r)}),Du.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(t=>this.overlays=this.overlays.remove(t)),this.ls.delete(n)),Du.resolve()}getOverlaysForCollection(t,e,n){const r=_d(),i=e.length+1,s=new _u(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const t=a.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Du.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Wu((t,e)=>t-e);const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=_d(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=_d(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((t,e)=>a.set(t,e)),!(a.size()>=r)););return Du.resolve(a)}we(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new df(e,n));let i=this.ls.get(e);void 0===i&&(i=Cd(),this.ls.set(e,i)),this.ls.set(e,i.add(n.key))}}class kp{constructor(){this.fs=new Yu(Ap.ds),this.ws=new Yu(Ap._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const n=new Ap(t,e);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.ys(new Ap(t,e))}ps(t,e){t.forEach(t=>this.removeReference(t,e))}Is(t){const e=new _u(new xu([])),n=new Ap(e,t),r=new Ap(e,t+1),i=[];return this.ws.forEachInRange([n,r],t=>{this.ys(t),i.push(t.key)}),i}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new _u(new xu([])),n=new Ap(e,t),r=new Ap(e,t+1);let i=Cd();return this.ws.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new Ap(t,0),n=this.fs.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Ap{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return _u.comparator(t.key,e.key)||gu(t.As,e.As)}static _s(t,e){return gu(t.As,e.As)||_u.comparator(t.key,e.key)}}class Ep{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Yu(Ap.ds)}checkEmpty(t){return Du.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uf(i,e,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Ap(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Du.resolve(s)}lookupMutationBatch(t,e){return Du.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.bs(n),i=r<0?0:r;return Du.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Du.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Du.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Ap(e,0),r=new Ap(e,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],t=>{const e=this.Ps(t.As);i.push(e)}),Du.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Yu(gu);return e.forEach(t=>{const e=new Ap(t,0),r=new Ap(t,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([e,r],t=>{n=n.add(t.As)})}),Du.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;_u.isDocumentKey(i)||(i=i.child(""));const s=new Ap(new _u(i),0);let a=new Yu(gu);return this.Rs.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.As)),!0)},s),Du.resolve(this.Vs(a))}Vs(t){const e=[];return t.forEach(t=>{const n=this.Ps(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){eu(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Du.forEach(e.mutations,r=>{const i=new Ap(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=n})}Cn(t){}containsKey(t,e){const n=new Ap(e,0),r=this.Rs.firstAfterOrEqual(n);return Du.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Du.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Tp{constructor(t){this.Ds=t,this.docs=new Wu(_u.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Du.resolve(n?n.document.mutableCopy():Ah.newInvalidDocument(e))}getEntries(t,e){let n=wd();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ah.newInvalidDocument(t))}),Du.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=wd();const s=e.path,a=new _u(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:t,value:{document:a}}=o.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Cu(Eu(a),n)<=0||(r.has(a.key)||pd(e,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Du.resolve(i)}getAllFromCollectionGroup(t,e,n,r){tu()}Cs(t,e){return Du.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Cp(this)}getSize(t){return Du.resolve(this.size)}}class Cp extends wp{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(n)}),Du.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class Ip{constructor(t){this.persistence=t,this.xs=new yd(t=>Jh(t),$h),this.lastRemoteSnapshotVersion=bu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kp,this.targetCount=0,this.Ms=bp.kn()}forEachTarget(t,e){return this.xs.forEach((t,n)=>e(n)),Du.resolve()}getLastRemoteSnapshotVersion(t){return Du.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Du.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Du.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ns&&(this.Ns=e),Du.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new bp(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Du.resolve()}updateTargetData(t,e){return this.Fn(e),Du.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Du.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Du.waitFor(i).next(()=>r)}getTargetCount(t){return Du.resolve(this.targetCount)}getTargetData(t,e){const n=this.xs.get(e)||null;return Du.resolve(n)}addMatchingKeys(t,e,n){return this.ks.gs(e,n),Du.resolve()}removeMatchingKeys(t,e,n){this.ks.ps(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),Du.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Du.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ks.Es(e);return Du.resolve(n)}containsKey(t,e){return Du.resolve(this.ks.containsKey(e))}}class Lp{constructor(t,e){this.$s={},this.overlays={},this.Os=new Ru(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Ip(this),this.indexManager=new gp,this.remoteDocumentCache=function(t){return new Tp(t)}(t=>this.referenceDelegate.Ls(t)),this.serializer=new fp(e),this.qs=new Np(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new _p,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.$s[t.toKey()];return n||(n=new Ep(e,this.referenceDelegate),this.$s[t.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,n){Qc("MemoryPersistence","Starting transaction:",t);const r=new Pp(this.Os.next());return this.referenceDelegate.Us(),n(r).next(t=>this.referenceDelegate.Ks(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Gs(t,e){return Du.or(Object.values(this.$s).map(n=>()=>n.containsKey(t,e)))}}class Pp extends Lu{constructor(t){super(),this.currentSequenceNumber=t}}class Dp{constructor(t){this.persistence=t,this.Qs=new kp,this.js=null}static zs(t){return new Dp(t)}get Ws(){if(this.js)return this.js;throw tu()}addReference(t,e,n){return this.Qs.addReference(n,e),this.Ws.delete(n.toString()),Du.resolve()}removeReference(t,e,n){return this.Qs.removeReference(n,e),this.Ws.add(n.toString()),Du.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Du.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(t=>this.Ws.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Ws.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Du.forEach(this.Ws,n=>{const r=_u.fromPath(n);return this.Hs(t,r).next(t=>{t||e.removeEntry(r,bu.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(t=>{t?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Du.or([()=>Du.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class Op{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Fi=n,this.Bi=r}static Li(t,e){let n=Cd(),r=Cd();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Op(t,e.fromCache,n,r)}}class Rp{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,n,r){return this.Ki(t,e).next(i=>i||this.Gi(t,e,r,n)).next(n=>n||this.Qi(t,e))}Ki(t,e){if(rd(e))return Du.resolve(null);let n=ld(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=ud(e,null,"F"),n=ld(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(r=>{const i=Cd(...r);return this.Ui.getDocuments(t,i).next(r=>this.indexManager.getMinOffset(t,n).next(n=>{const s=this.ji(e,r);return this.zi(e,s,i,n.readTime)?this.Ki(t,ud(e,null,"F")):this.Wi(t,s,e,n)}))})))}Gi(t,e,n,r){return rd(e)||r.isEqual(bu.min())?this.Qi(t,e):this.Ui.getDocuments(t,n).next(i=>{const s=this.ji(e,i);return this.zi(e,s,n,r)?this.Qi(t,e):(Xc()<=M.DEBUG&&Qc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fd(e)),this.Wi(t,s,e,Au(r,-1)))})}ji(t,e){let n=new Yu(gd(t));return e.forEach((e,r)=>{pd(t,r)&&(n=n.add(r))}),n}zi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(t,e){return Xc()<=M.DEBUG&&Qc("QueryEngine","Using full collection scan to execute query:",fd(e)),this.Ui.getDocumentsMatchingQuery(t,e,Tu.min())}Wi(t,e,n,r){return this.Ui.getDocumentsMatchingQuery(t,n,r).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}class Mp{constructor(t,e,n,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Wu(gu),this.Yi=new yd(t=>Jh(t),$h),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(n)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function jp(t,e,n,r){return new Mp(t,e,n,r)}async function Fp(t,e){const n=nu(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next(i=>(r=i,n.tr(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const i=[],s=[];let a=Cd();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next(t=>({er:t,removedBatchIds:i,addedBatchIds:s}))})})}function Up(t){const e=nu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Bp(t,e,n){let r=Cd(),i=Cd();return n.forEach(t=>r=r.add(t)),e.getEntries(t,r).next(t=>{let r=wd();return n.forEach((n,s)=>{const a=t.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(bu.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Qc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function Vp(t,e){const n=nu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function zp(t,e){const n=nu(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.Bs.getTargetData(t,e).next(i=>i?(r=i,Du.resolve(r)):n.Bs.allocateTargetId(t).next(i=>(r=new dp(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Bs.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.Ji.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(t.targetId,t),n.Yi.set(e,t.targetId)),t})}async function qp(t,e,n){const r=nu(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,t=>r.persistence.referenceDelegate.removeTarget(t,i))}catch(t){if(!Ou(t))throw t;Qc("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Hp(t,e,n){const r=nu(t);let i=bu.min(),s=Cd();return r.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const r=nu(t),i=r.Yi.get(n);return void 0!==i?Du.resolve(r.Ji.get(i)):r.Bs.getTargetData(e,n)}(r,t,ld(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>r.Hi.getDocumentsMatchingQuery(t,e,n?i:bu.min(),n?s:Cd())).next(t=>(Wp(r,md(e),t),{documents:t,ir:s})))}function Wp(t,e,n){let r=t.Xi.get(e)||bu.min();n.forEach((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)}),t.Xi.set(e,r)}class Gp{constructor(){this.activeTargetIds=Ld()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Kp{constructor(){this.Hr=new Gp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,n){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Gp,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Yp{Yr(t){}shutdown(){}}class Xp{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Qc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function Jp(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const $p={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zp{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const tm="WebChannelConnection";class em extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.mo=e+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,n,r,i){const s=Jp(),a=this.To(t,e);Qc("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(t,a,o,n).then(e=>(Qc("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e),e=>{throw $c("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",a,"request:",n),e})}vo(t,e,n,r,i,s){return this.Io(t,e,n,r,i)}Eo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Kc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}To(t,e){const n=$p[t];return"".concat(this.mo,"/v1/").concat(e,":").concat(n)}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,n,r){const i=Jp();return new Promise((s,a)=>{const o=new zc;o.setWithCredentials(!0),o.listenOnce(jc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Mc.NO_ERROR:const e=o.getResponseJson();Qc(tm,"XHR for RPC '".concat(t,"' ").concat(i," received:"),JSON.stringify(e)),s(e);break;case Mc.TIMEOUT:Qc(tm,"RPC '".concat(t,"' ").concat(i," timed out")),a(new iu(ru.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const n=o.getStatus();if(Qc(tm,"RPC '".concat(t,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(ru).indexOf(e)>=0?e:ru.UNKNOWN}(e.status);a(new iu(t,e.message))}else a(new iu(ru.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new iu(ru.UNAVAILABLE,"Connection failed."));break;default:tu()}}finally{Qc(tm,"RPC '".concat(t,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Qc(tm,"RPC '".concat(t,"' ").concat(i," sending request:"),r),o.send(e,"POST",l,n,15)})}Ro(t,e,n){const r=Jp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Oc(),a=Rc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Bc({})),this.Eo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Qc(tm,"Creating RPC '".concat(t,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Zp({ro:e=>{d?Qc(tm,"Not sending because RPC '".concat(t,"' stream ").concat(r," is closed:"),e):(h||(Qc(tm,"Opening RPC '".concat(t,"' stream ").concat(r," transport.")),u.open(),h=!0),Qc(tm,"RPC '".concat(t,"' stream ").concat(r," sending:"),e),u.send(e))},oo:()=>u.close()}),p=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,Vc.EventType.OPEN,()=>{d||Qc(tm,"RPC '".concat(t,"' stream ").concat(r," transport opened."))}),p(u,Vc.EventType.CLOSE,()=>{d||(d=!0,Qc(tm,"RPC '".concat(t,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Vc.EventType.ERROR,e=>{d||(d=!0,$c(tm,"RPC '".concat(t,"' stream ").concat(r," transport errored:"),e),f.wo(new iu(ru.UNAVAILABLE,"The operation could not be completed")))}),p(u,Vc.EventType.MESSAGE,e=>{var n;if(!d){const i=e.data[0];eu(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Qc(tm,"RPC '".concat(t,"' stream ").concat(r," received error:"),a);const e=a.status;let n=function(t){const e=pf[t];if(void 0!==e)return vf(e)}(e),i=a.message;void 0===n&&(n=ru.INTERNAL,i="Unknown error status: "+e+" with message "+a.message),d=!0,f.wo(new iu(n,i)),u.close()}else Qc(tm,"RPC '".concat(t,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,Fc.STAT_EVENT,e=>{e.stat===Uc.PROXY?Qc(tm,"RPC '".concat(t,"' stream ").concat(r," detected buffering proxy")):e.stat===Uc.NOPROXY&&Qc(tm,"RPC '".concat(t,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function nm(){return"undefined"!=typeof document?document:null}function rm(t){return new Ff(t,!0)}class im{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=t,this.timerId=e,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-n);r>0&&Qc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class sm{constructor(t,e,n,r,i,s,a,o){this.ii=t,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new im(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,e){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():e&&e.code===ru.RESOURCE_EXHAUSTED?(Jc(e.toString()),Jc("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):e&&e.code===ru.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(e)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(t=>{let[n,r]=t;this.Fo===e&&this.Zo(n,r)},e=>{t(()=>{const t=new iu(ru.UNKNOWN,"Fetching auth token failed: "+e.message);return this.tu(t)})})}Zo(t,e){const n=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(t=>{n(()=>this.tu(t))}),this.stream.onMessage(t=>{n(()=>this.onMessage(t))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return Qc("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Qc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class am extends sm{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:tu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(eu(void 0===e||"string"==typeof e),$u.fromBase64String(e||"")):(eu(void 0===e||e instanceof Uint8Array),$u.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(t){const e=void 0===t.code?ru.UNKNOWN:vf(t.code);return new iu(e,t.message||"")}(a);n=new If(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kf(t,r.document.name),s=qf(r.document.updateTime),a=r.document.createTime?qf(r.document.createTime):bu.min(),o=new _h({mapValue:{fields:r.document.fields}}),l=Ah.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Tf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kf(t,r.document),s=r.readTime?qf(r.readTime):bu.min(),a=Ah.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Tf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kf(t,r.document),s=r.removedTargetIds||[];n=new Tf([],s,i,null)}else{if(!("filter"in e))return tu();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new ff(r,i),a=t.targetId;n=new Cf(a,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return bu.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?bu.min():e.readTime?qf(e.readTime):bu.min()}(t);return this.listener.nu(e,n)}su(t){const e={};e.database=Qf(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=Zh(r)?{documents:tp(t,r)}:{query:ep(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Vf(t,e.resumeToken);const r=Uf(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(bu.min())>0){n.readTime=Bf(t,e.snapshotVersion.toTimestamp());const r=Uf(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tu()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Wo(e)}iu(t){const e={};e.database=Qf(this.serializer),e.removeTarget=t,this.Wo(e)}}class om extends sm{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(eu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function(t,e){return t&&t.length>0?(eu(void 0!==e),t.map(t=>function(t,e){let n=t.updateTime?qf(t.updateTime):qf(e);return n.isEqual(bu.min())&&(n=qf(e)),new Kd(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=qf(t.commitTime);return this.listener.cu(n,e)}return eu(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Qf(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>Zf(this.serializer,t))};this.Wo(e)}}class lm extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new iu(ru.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(t,e,n,i,s)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new iu(ru.UNKNOWN,t.toString())})}vo(t,e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(t,e,n,s,a,r)}).catch(t=>{throw"FirebaseError"===t.name?(t.code===ru.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new iu(ru.UNKNOWN,t.toString())})}terminate(){this.lu=!0}}class cm{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Jc(e),this.mu=!1):Qc("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class um{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(t=>{n.enqueueAndForget(async()=>{bm(this)&&(Qc("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=nu(t);e.vu.add(4),await dm(e),e.bu.set("Unknown"),e.vu.delete(4),await hm(e)}(this))})}),this.bu=new cm(n,r)}}async function hm(t){if(bm(t))for(const e of t.Ru)await e(!0)}async function dm(t){for(const e of t.Ru)await e(!1)}function fm(t,e){const n=nu(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ym(n)?vm(n):jm(n).Ko()&&mm(n,e))}function pm(t,e){const n=nu(t),r=jm(n);n.Au.delete(e),r.Ko()&&gm(n,e),0===n.Au.size&&(r.Ko()?r.jo():bm(n)&&n.bu.set("Unknown"))}function mm(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bu.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jm(t).su(e)}function gm(t,e){t.Vu.qt(e),jm(t).iu(e)}function vm(t){t.Vu=new Pf({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),jm(t).start(),t.bu.gu()}function ym(t){return bm(t)&&!jm(t).Uo()&&t.Au.size>0}function bm(t){return 0===nu(t).vu.size}function wm(t){t.Vu=void 0}async function xm(t){t.Au.forEach((e,n)=>{mm(t,e)})}async function Sm(t,e){wm(t),ym(t)?(t.bu.Iu(e),vm(t)):t.bu.set("Unknown")}async function Nm(t,e,n){if(t.bu.set("Online"),e instanceof If&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Au.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Au.delete(r),t.Vu.removeTarget(r))}(t,e)}catch(n){Qc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await _m(t,n)}else if(e instanceof Tf?t.Vu.Ht(e):e instanceof Cf?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(bu.min()))try{const e=await Up(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Vu.ce(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Au.get(r);i&&t.Au.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach((e,n)=>{const r=t.Au.get(e);if(!r)return;t.Au.set(e,r.withResumeToken($u.EMPTY_BYTE_STRING,r.snapshotVersion)),gm(t,e);const i=new dp(r.target,e,n,r.sequenceNumber);mm(t,i)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Qc("RemoteStore","Failed to raise snapshot:",e),await _m(t,e)}}async function _m(t,e,n){if(!Ou(e))throw e;t.vu.add(1),await dm(t),t.bu.set("Offline"),n||(n=()=>Up(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Qc("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await hm(t)})}function km(t,e){return e().catch(n=>_m(t,n,e))}async function Am(t){const e=nu(t),n=Fm(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Em(e);)try{const t=await Vp(e.localStore,r);if(null===t){0===e.Eu.length&&n.jo();break}r=t.batchId,Tm(e,t)}catch(t){await _m(e,t)}Cm(e)&&Im(e)}function Em(t){return bm(t)&&t.Eu.length<10}function Tm(t,e){t.Eu.push(e);const n=Fm(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Cm(t){return bm(t)&&!Fm(t).Uo()&&t.Eu.length>0}function Im(t){Fm(t).start()}async function Lm(t){Fm(t).hu()}async function Pm(t){const e=Fm(t);for(const n of t.Eu)e.uu(n.mutations)}async function Dm(t,e,n){const r=t.Eu.shift(),i=hf.from(r,e,n);await km(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Am(t)}async function Om(t,e){e&&Fm(t).ou&&await async function(t,e){if(gf(n=e.code)&&n!==ru.ABORTED){const n=t.Eu.shift();Fm(t).Qo(),await km(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await Am(t)}var n}(t,e),Cm(t)&&Im(t)}async function Rm(t,e){const n=nu(t);n.asyncQueue.verifyOperationInProgress(),Qc("RemoteStore","RemoteStore received new credentials");const r=bm(n);n.vu.add(3),await dm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await hm(n)}async function Mm(t,e){const n=nu(t);e?(n.vu.delete(2),await hm(n)):e||(n.vu.add(2),await dm(n),n.bu.set("Unknown"))}function jm(t){return t.Su||(t.Su=function(t,e,n){const r=nu(t);return r.fu(),new am(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{uo:xm.bind(null,t),ao:Sm.bind(null,t),nu:Nm.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),ym(t)?vm(t):t.bu.set("Unknown")):(await t.Su.stop(),wm(t))})),t.Su}function Fm(t){return t.Du||(t.Du=function(t,e,n){const r=nu(t);return r.fu(),new om(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{uo:Lm.bind(null,t),ao:Om.bind(null,t),au:Pm.bind(null,t),cu:Dm.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Am(t)):(await t.Du.stop(),t.Eu.length>0&&(Qc("RemoteStore","Stopping write stream with ".concat(t.Eu.length," pending writes")),t.Eu=[]))})),t.Du}class Um{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,a=new Um(t,e,s,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new iu(ru.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(t,e){if(Jc("AsyncQueue","".concat(e,": ").concat(t)),Ou(t))return new iu(ru.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class Vm{constructor(t){this.comparator=t?(e,n)=>t(e,n)||_u.comparator(e.key,n.key):(t,e)=>_u.comparator(t.key,e.key),this.keyedMap=Sd(),this.sortedSet=new Wu(this.comparator)}static emptySet(t){return new Vm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vm))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Vm;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class zm{constructor(){this.Cu=new Wu(_u.comparator)}track(t){const e=t.doc.key,n=this.Cu.get(e);n?0!==t.type&&3===n.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==n.type?this.Cu=this.Cu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Cu=this.Cu.remove(e):1===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):tu():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,n)=>{t.push(n)}),t}}class qm{constructor(t,e,n,r,i,s,a,o,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach(t=>{s.push({type:0,doc:t})}),new qm(t,e,Vm.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hm{constructor(){this.Nu=void 0,this.listeners=[]}}class Wm{constructor(){this.queries=new yd(t=>dd(t),hd),this.onlineState="Unknown",this.ku=new Set}}async function Gm(t,e){const n=nu(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Hm),i)try{s.Nu=await n.onListen(r)}catch(t){const n=Bm(t,"Initialization of query '".concat(fd(e.query),"' failed"));return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Qm(n)}async function Km(t,e){const n=nu(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ym(t,e){const n=nu(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.$u(i)&&(r=!0);e.Nu=i}}r&&Qm(n)}function Xm(t,e,n){const r=nu(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Qm(t){t.ku.forEach(t=>{t.next()})}class Jm{constructor(t,e,n){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new qm(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Ku||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){if(t.docChanges.length>0)return!0;const e=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Uu(t){t=qm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class $m{constructor(t){this.key=t}}class Zm{constructor(t){this.key=t}}class tg{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cd(),this.mutatedKeys=Cd(),this.tc=gd(t),this.ec=new Vm(this.tc)}get nc(){return this.Yu}sc(t,e){const n=e?e.ic:new zm,r=e?e.ec:this.ec;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),u=pd(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const i=t.ic.xu();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tu()}};return n(t)-n(e)}(t.type,e.type)||this.tc(t.doc,e.doc)),this.oc(n);const s=e?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new qm(this.query,t.ec,r,i,t.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Cd(),this.ec.forEach(t=>{this.ac(t.key)&&(this.Zu=this.Zu.add(t.key))});const e=[];return t.forEach(t=>{this.Zu.has(t)||e.push(new Zm(t))}),this.Zu.forEach(n=>{t.has(n)||e.push(new $m(n))}),e}hc(t){this.Yu=t.ir,this.Zu=Cd();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return qm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class eg{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class ng{constructor(t){this.key=t,this.fc=!1}}class rg{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new yd(t=>dd(t),hd),this._c=new Map,this.mc=new Set,this.gc=new Wu(_u.comparator),this.yc=new Map,this.Ic=new kp,this.Tc={},this.Ec=new Map,this.Ac=bp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function ig(t,e){const n=Sg(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const t=await zp(n.localStore,ld(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await sg(n,e,r,"current"===s,t.resumeToken),n.isPrimaryClient&&fm(n.remoteStore,t)}return i}async function sg(t,e,n,r,i){t.Rc=(e,n,r)=>async function(t,e,n,r){let i=e.view.sc(n);i.zi&&(i=await Hp(t.localStore,e.query,!1).then(t=>{let{documents:n}=t;return e.view.sc(n,i)}));const s=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s);return gg(t,e.targetId,a.cc),a.snapshot}(t,e,n,r);const s=await Hp(t.localStore,e,!0),a=new tg(e,s.ir),o=a.sc(s.documents),l=Ef.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=a.applyChanges(o,t.isPrimaryClient,l);gg(t,n,c.cc);const u=new eg(e,n,a);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function ag(t,e){const n=nu(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(t=>!hd(t,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pm(n.remoteStore,r.targetId),pg(n,r.targetId)}).catch(Pu)):(pg(n,r.targetId),await qp(n.localStore,r.targetId,!0))}async function og(t,e){const n=nu(t);try{const t=await function(t,e){const n=nu(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(t,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(t,s.addedDocuments,o)));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(o)?c=c.withResumeToken($u.EMPTY_BYTE_STRING,bu.min()).withLastLimboFreeSnapshotVersion(bu.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(t,c))});let o=wd(),l=Cd();if(e.documentUpdates.forEach(r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Bp(t,s,e.documentUpdates).next(t=>{o=t.nr,l=t.sr})),!r.isEqual(bu.min())){const e=n.Bs.getLastRemoteSnapshotVersion(t).next(e=>n.Bs.setTargetsMetadata(t,t.currentSequenceNumber,r));a.push(e)}return Du.waitFor(a).next(()=>s.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,o,l)).next(()=>o)}).then(t=>(n.Ji=i,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.yc.get(e);r&&(eu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.fc=!0:t.modifiedDocuments.size>0?eu(r.fc):t.removedDocuments.size>0&&(eu(r.fc),r.fc=!1))}),await bg(n,t,e)}catch(t){await Pu(t)}}function lg(t,e,n){const r=nu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=nu(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const i of n.listeners)i.Mu(e)&&(r=!0)}),r&&Qm(n)}(r.eventManager,e),t.length&&r.dc.nu(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cg(t,e,n){const r=nu(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let t=new Wu(_u.comparator);t=t.insert(s,Ah.newNoDocument(s,bu.min()));const n=Cd().add(s),i=new Af(bu.min(),new Map,new Wu(gu),t,n);await og(r,i),r.gc=r.gc.remove(s),r.yc.delete(e),yg(r)}else await qp(r.localStore,e,!1).then(()=>pg(r,e,n)).catch(Pu)}async function ug(t,e){const n=nu(t),r=e.batch.batchId;try{const t=await function(t,e){const n=nu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let a=Du.resolve();return s.forEach(t=>{a=a.next(()=>r.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);eu(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))})}),a.next(()=>t.mutationQueue.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Cd();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,r))})}(n.localStore,e);fg(n,r,null),dg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bg(n,t)}catch(t){await Pu(t)}}async function hg(t,e,n){const r=nu(t);try{const t=await function(t,e){const n=nu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(eu(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r)).next(()=>n.localDocuments.getDocuments(t,r))})}(r.localStore,e);fg(r,e,n),dg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bg(r,t)}catch(n){await Pu(n)}}function dg(t,e){(t.Ec.get(e)||[]).forEach(t=>{t.resolve()}),t.Ec.delete(e)}function fg(t,e,n){const r=nu(t);let i=r.Tc[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function pg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(e=>{t.Ic.containsKey(e)||mg(t,e)})}function mg(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(pm(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),yg(t))}function gg(t,e,n){for(const r of n)r instanceof $m?(t.Ic.addReference(r.key,e),vg(t,r)):r instanceof Zm?(Qc("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||mg(t,r.key)):tu()}function vg(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Qc("SyncEngine","New document in limbo: "+n),t.mc.add(r),yg(t))}function yg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new _u(xu.fromString(e)),r=t.Ac.next();t.yc.set(r,new ng(n)),t.gc=t.gc.insert(n,r),fm(t.remoteStore,new dp(ld(nd(n.path)),r,"TargetPurposeLimboResolution",Ru.ct))}}async function bg(t,e,n){const r=nu(t),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((t,o)=>{a.push(r.Rc(o,e,n).then(t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=Op.Li(o.targetId,t);s.push(e)}}))}),await Promise.all(a),r.dc.nu(i),await async function(t,e){const n=nu(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Du.forEach(e,e=>Du.forEach(e.Fi,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Du.forEach(e.Bi,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(t){if(!Ou(t))throw t;Qc("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,s))}async function wg(t,e){const n=nu(t);if(!n.currentUser.isEqual(e)){Qc("SyncEngine","User change. New user:",e.toKey());const t=await Fp(n.localStore,e);n.currentUser=e,function(t){t.Ec.forEach(t=>{t.forEach(t=>{t.reject(new iu(ru.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ec.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await bg(n,t.er)}}function xg(t,e){const n=nu(t),r=n.yc.get(e);if(r&&r.fc)return Cd().add(r.key);{let t=Cd();const r=n._c.get(e);if(!r)return t;for(const e of r){const r=n.wc.get(e);t=t.unionWith(r.view.nc)}return t}}function Sg(t){const e=nu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=og.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cg.bind(null,e),e.dc.nu=Ym.bind(null,e.eventManager),e.dc.Pc=Xm.bind(null,e.eventManager),e}function Ng(t){const e=nu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ug.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hg.bind(null,e),e}class _g{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=rm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return jp(this.persistence,new Rp,t.initialUser,this.serializer)}createPersistence(t){return new Lp(Dp.zs,this.serializer)}createSharedClientState(t){return new Kp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>lg(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=wg.bind(null,this.syncEngine),await Mm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Wm}createDatastore(t){const e=rm(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new em(r));var r;return function(t,e,n,r){return new lm(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>lg(this.syncEngine,t,0),s=Xp.D()?new Xp:new Yp,new um(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,a){const o=new rg(t,e,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=nu(t);Qc("RemoteStore","RemoteStore shutting down."),e.vu.add(5),await dm(e),e.Pu.shutdown(),e.bu.set("Unknown")}(this.remoteStore)}}class Ag{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Jc("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Eg{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Gc.UNAUTHENTICATED,this.clientId=mu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async t=>{Qc("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(Qc("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new iu(ru.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(ui){const n=Bm(ui,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),Qc("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async t=>{r.isEqual(t)||(await Fp(e.localStore,t),r=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lg(t);Qc("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(t=>Rm(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>Rm(e.remoteStore,n)),t._onlineComponents=e}function Ig(t){return"FirebaseError"===t.name?t.code===ru.FAILED_PRECONDITION||t.code===ru.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function Lg(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Qc("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(ui){const n=ui;if(!Ig(n))throw n;$c("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new _g)}}else Qc("FirestoreClient","Using default OfflineComponentProvider"),await Tg(t,new _g);return t._offlineComponents}async function Pg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Qc("FirestoreClient","Using user provided OnlineComponentProvider"),await Cg(t,t._uninitializedComponentsProvider._online)):(Qc("FirestoreClient","Using default OnlineComponentProvider"),await Cg(t,new kg))),t._onlineComponents}function Dg(t){return Pg(t).then(t=>t.syncEngine)}async function Og(t){const e=await Pg(t),n=e.eventManager;return n.onListen=ig.bind(null,e.syncEngine),n.onUnlisten=ag.bind(null,e.syncEngine),n}function Rg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new su;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const s=new Ag({next:s=>{e.enqueueAndForget(()=>Km(t,a));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new iu(ru.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new iu(ru.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),a=new Jm(nd(n.path),s,{includeMetadataChanges:!0,Ku:!0});return Gm(t,a)}(await Og(t),t.asyncQueue,e,n,r)),r.promise}function Mg(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new su;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const s=new Ag({next:n=>{e.enqueueAndForget(()=>Km(t,a)),n.fromCache&&"server"===r.source?i.reject(new iu(ru.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),a=new Jm(n,s,{includeMetadataChanges:!0,Ku:!0});return Gm(t,a)}(await Og(t),t.asyncQueue,e,n,r)),r.promise}function jg(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Fg=new Map;function Ug(t,e,n){if(!n)throw new iu(ru.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Bg(t){if(!_u.isDocumentKey(t))throw new iu(ru.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Vg(t){if(_u.isDocumentKey(t))throw new iu(ru.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function zg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":tu()}function qg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new iu(ru.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zg(t);throw new iu(ru.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}class Hg{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new iu(ru.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new iu(ru.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new iu(ru.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jg(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new iu(ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new iu(ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new iu(ru.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,n=t.experimentalLongPollingOptions,e.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,n}}class Wg{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new iu(ru.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new iu(ru.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hg(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new ou;switch(t.type){case"firstParty":return new hu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new iu(ru.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Fg.get(t);e&&(Qc("ComponentProvider","Removing Datastore"),Fg.delete(t),e.terminate())}(this),Promise.resolve()}}class Gg{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gg(this.firestore,t,this._key)}}class Kg{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Kg(this.firestore,t,this._query)}}class Yg extends Kg{constructor(t,e,n){super(t,e,nd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gg(this.firestore,null,new _u(t))}withConverter(t){return new Yg(this.firestore,t,this._path)}}function Xg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=I(t),Ug("collection","path",e),t instanceof Wg){const n=xu.fromString(e,...r);return Vg(n),new Yg(t,null,n)}{if(!(t instanceof Gg||t instanceof Yg))throw new iu(ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xu.fromString(e,...r));return Vg(n),new Yg(t.firestore,null,n)}}function Qg(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=I(t),1===arguments.length&&(e=mu.A()),Ug("doc","path",e),t instanceof Wg){const n=xu.fromString(e,...r);return Bg(n),new Gg(t,null,new _u(n))}{if(!(t instanceof Gg||t instanceof Yg))throw new iu(ru.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xu.fromString(e,...r));return Bg(n),new Gg(t.firestore,t instanceof Yg?t.converter:null,new _u(n))}}class Jg{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new im(this,"async_queue_retry"),this.Xc=()=>{const t=nm();t&&Qc("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const t=nm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=nm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new su;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(hi){if(!Ou(hi))throw hi;Qc("AsyncQueue","Operation failed with retryable error: "+hi)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(t=>{this.Wc=t,this.Hc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Jc("INTERNAL UNHANDLED ERROR: ",e),t}).then(t=>(this.Hc=!1,t))));return this.Gc=e,e}enqueueAfterDelay(t,e,n){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=Um.createAndSchedule(this,t,e,n,t=>this.na(t));return this.zc.push(r),r}Zc(){this.Wc&&tu()}verifyOperationInProgress(){}async sa(){let t;do{t=this.Gc,await t}while(t!==this.Gc)}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}class $g extends Wg{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Jg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ev(this),this._firestoreClient.terminate()}}function Zg(t,e){const n="string"==typeof t?t:e||"(default)",r=Vt("object"==typeof t?t:Gt(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=f("firestore");t&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(t=qg(t,Wg))._getSettings(),a="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&$c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Gc.MOCK_USER;else{e=v(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new iu(ru.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gc(s)}t._authCredentials=new lu(new au(e,n))}}(r,...t)}return r}function tv(t){return t._firestoreClient||ev(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ev(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new ah(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,jg(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Eg(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class nv{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nv($u.fromBase64String(t))}catch(t){throw new iu(ru.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new nv($u.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class rv{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new iu(ru.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nu(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class iv{constructor(t){this._methodName=t}}class sv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new iu(ru.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new iu(ru.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return gu(this._lat,t._lat)||gu(this._long,t._long)}}const av=/^__.*__$/;class ov{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new rf(t,this.data,this.fieldMask,e,this.fieldTransforms):new nf(t,this.data,e,this.fieldTransforms)}}class lv{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new rf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tu()}}class uv{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new uv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:n,la:!1});return r.fa(t),r}da(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:n,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return kv(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(cv(this.ca)&&av.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class hv{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||rm(t)}ya(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uv({ca:t,methodName:e,ga:n,path:Nu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dv(t){const e=t._freezeSettings(),n=rm(t._databaseId);return new hv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fv(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);xv("Data must be an object, but it was:",a,r);const o=bv(r,a);let l,c;if(s.merge)l=new Qu(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Sv(e,r,n);if(!a.contains(i))throw new iu(ru.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Av(t,i)||t.push(i)}l=new Qu(t),c=a.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=a.fieldTransforms;return new ov(new _h(o),l,c)}class pv extends iv{_toFieldTransform(t){if(2!==t.ca)throw 1===t.ca?t._a("".concat(this._methodName,"() can only appear at the top level of your update data")):t._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pv}}function mv(t,e,n,r){const i=t.ya(1,e,n);xv("Data must be an object, but it was:",i,r);const s=[],a=_h.empty();qu(r,(t,r)=>{const o=_v(e,t,n);r=I(r);const l=i.da(o);if(r instanceof pv)s.push(o);else{const t=yv(r,l);null!=t&&(s.push(o),a.set(o,t))}});const o=new Qu(s);return new lv(a,o,i.fieldTransforms)}function gv(t,e,n,r,i,s){const a=t.ya(1,e,n),o=[Sv(e,r,n)],l=[i];if(s.length%2!=0)throw new iu(ru.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(Sv(e,s[d])),l.push(s[d+1]);const c=[],u=_h.empty();for(let d=o.length-1;d>=0;--d)if(!Av(c,o[d])){const t=o[d];let e=l[d];e=I(e);const n=a.da(t);if(e instanceof pv)c.push(t);else{const r=yv(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new Qu(c);return new lv(u,h,a.fieldTransforms)}function vv(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yv(n,t.ya(r?4:3,e))}function yv(t,e){if(wv(t=I(t)))return xv("Unsupported field value:",e,t),bv(t,e);if(t instanceof iv)return function(t,e){if(!cv(e.ca))throw e._a("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e._a("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=yv(i,e.wa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=I(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Od(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=yu.fromDate(t);return{timestampValue:Bf(e.serializer,n)}}if(t instanceof yu){const n=new yu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bf(e.serializer,n)}}if(t instanceof sv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nv)return{bytesValue:Vf(e.serializer,t._byteString)};if(t instanceof Gg){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e._a("Unsupported field value: ".concat(zg(t)))}(t,e)}function bv(t,e){const n={};return Hu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qu(t,(t,r)=>{const i=yv(r,e.ha(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function wv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof yu||t instanceof sv||t instanceof nv||t instanceof Gg||t instanceof iv)}function xv(t,e,n){if(!wv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=zg(n);throw"an object"===r?e._a(t+" a custom object"):e._a(t+" "+r)}}function Sv(t,e,n){if((e=I(e))instanceof rv)return e._internalPath;if("string"==typeof e)return _v(t,e);throw kv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nv=new RegExp("[~\\*/\\[\\]]");function _v(t,e,n){if(e.search(Nv)>=0)throw kv("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new rv(...e.split("."))._internalPath}catch(vi){throw kv("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function kv(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(e,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new iu(ru.INVALID_ARGUMENT,o+t+l)}function Av(t,e){return t.some(t=>t.isEqual(e))}class Ev{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Tv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Cv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Tv extends Ev{data(){return super.data()}}function Cv(t,e){return"string"==typeof e?_v(t,e):e instanceof rv?e._internalPath:e._delegate._internalPath}function Iv(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new iu(ru.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lv{}class Pv extends Lv{}function Dv(t,e){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];e instanceof Lv&&n.push(e),n=n.concat(i),function(t){const e=t.filter(t=>t instanceof Mv).length,n=t.filter(t=>t instanceof Ov).length;if(e>1||e>0&&n>0)throw new iu(ru.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Ov extends Pv{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Ov(t,e,n)}_apply(t){const e=this._parse(t);return Uv(t._query,e),new Kg(t.firestore,t.converter,cd(t._query,e))}_parse(t){const e=dv(t.firestore),n=function(t,e,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new iu(ru.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Fv(a,s);const e=[];for(const n of a)e.push(jv(r,t,n));o={arrayValue:{values:e}}}else o=jv(r,t,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Fv(a,s),o=vv(n,"where",a,"in"===s||"not-in"===s);return Dh.create(i,s,o)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Rv(t,e,n){const r=e,i=Cv("where",t);return Ov._create(i,r,n)}class Mv extends Lv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Mv(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:Oh.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Uv(n,i),n=cd(n,i)}(t._query,e),new Kg(t.firestore,t.converter,cd(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jv(t,e,n){if("string"==typeof(n=I(n))){if(""===n)throw new iu(ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ad(e)&&-1!==n.indexOf("/"))throw new iu(ru.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=e.path.child(xu.fromString(n));if(!_u.isDocumentKey(r))throw new iu(ru.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gh(t,new _u(r))}if(n instanceof Gg)return gh(t,n._key);throw new iu(ru.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zg(n),"."))}function Fv(t,e){if(!Array.isArray(t)||0===t.length)throw new iu(ru.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Uv(t,e){if(e.isInequality()){const n=sd(t),r=e.field;if(null!==n&&!n.isEqual(r))throw new iu(ru.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=id(t);null!==i&&Bv(t,r,i)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new iu(ru.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new iu(ru.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Bv(t,e,n){if(!n.isEqual(e))throw new iu(ru.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(e.toString(),"' and so you must also use '").concat(e.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Vv{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ch(t)){case 0:return null;case 1:return t.booleanValue;case 2:return eh(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(nh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw tu()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return qu(t,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertGeoPoint(t){return new sv(eh(t.latitude),eh(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ih(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(sh(t));default:return null}}convertTimestamp(t){const e=th(t);return new yu(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=xu.fromString(t);eu(hp(n));const r=new oh(n.get(1),n.get(3)),i=new _u(n.popFirst(5));return r.isEqual(e)||Jc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}function zv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qv{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hv extends Ev{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Cv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Wv extends Hv{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class Gv{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new qv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Wv(this._firestore,this._userDataWriter,n.key,n,new qv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new iu(ru.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const r=new Wv(t._firestore,t._userDataWriter,n.doc.key,n.doc,new qv(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new qv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Kv(e.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tu()}}class Yv extends Vv{constructor(t){super(),this.firestore=t}convertBytes(t){return new nv(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gg(this.firestore,null,e)}}function Xv(t){t=qg(t,Kg);const e=qg(t.firestore,$g),n=tv(e),r=new Yv(e);return Iv(t._query),Mg(n,t._query).then(n=>new Gv(e,r,t,n))}function Qv(t,e,n){t=qg(t,Gg);const r=qg(t.firestore,$g),i=dv(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(e=I(e))||e instanceof rv?gv(i,"updateDoc",t._key,e,n,o):mv(i,"updateDoc",t._key,e),Jv(r,[s.toMutation(t._key,Yd.exists(!0))])}function Jv(t,e){return function(t,e){const n=new su;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const r=Ng(t);try{const t=await function(t,e){const n=nu(t),r=yu.now(),i=e.reduce((t,e)=>t.add(e.key),Cd());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let o=wd(),l=Cd();return n.Zi.getEntries(t,i).next(t=>{o=t,o.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,o)).next(i=>{s=i;const a=[];for(const t of e){const e=tf(t,s.get(t.key).overlayedDocument);null!=e&&a.push(new rf(t.key,e,kh(e.value.mapValue),Yd.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)}).next(e=>{a=e;const r=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Nd(s)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Tc[t.currentUser.toKey()];r||(r=new Wu(gu)),r=r.insert(e,n),t.Tc[t.currentUser.toKey()]=r}(r,t.batchId,n),await bg(r,t.changes),await Am(r.remoteStore)}catch(t){const e=Bm(t,"Failed to persist write");n.reject(e)}}(await Dg(t),e,n)),n.promise}(tv(t),e)}function $v(t,e,n){const r=n.docs.get(e._key),i=new Yv(t);return new Hv(t,i,e._key,r,new qv(n.hasPendingWrites,n.fromCache),e.converter)}!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){Kc=t}(Ht),Bt(new L("firestore",(t,n)=>{let{instanceIdentifier:r,options:i}=n;const s=t.getProvider("app").getImmediate(),a=new $g(new cu(t.getProvider("auth-internal")),new fu(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new iu(ru.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(t.options.projectId,e)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Kt(Wc,"3.13.0",t),Kt(Wc,"3.13.0","esm2017")}();const Zv="firebasestorage.googleapis.com",ty="storageBucket";class ey extends w{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(iy(t),"Firebase Storage: ".concat(e," (").concat(iy(t),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ey.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return iy(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ny,ry;function iy(t){return"storage/"+t}function sy(){return new ey(ny.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ay(){return new ey(ny.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oy(){return new ey(ny.CANCELED,"User canceled the upload/download.")}function ly(t){return new ey(ny.INVALID_ARGUMENT,t)}function cy(){return new ey(ny.APP_DELETED,"The Firebase app was deleted.")}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ny||(ny={}));class uy{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=uy.makeFromUrl(t,e)}catch(ui){return new uy(t,"")}if(""===n.path)return n;throw r=t,new ey(ny.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const a=e.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(e===Zv?"(?:storage.googleapis.com|storage.cloud.google.com)":e,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const e=o[l],r=e.regex.exec(t);if(r){const t=r[e.indices.bucket];let i=r[e.indices.path];i||(i=""),n=new uy(t,i),e.postModify(n);break}}if(null==n)throw function(t){return new ey(ny.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class hy{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(){}}function dy(t,e,n,r){if(r<e)throw ly("Invalid value for '".concat(t,"'. Expected ").concat(e," or greater."));if(r>n)throw ly("Invalid value for '".concat(t,"'. Expected ").concat(n," or less."))}function fy(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}function py(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||r||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(ry||(ry={}));class my{constructor(t,e,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()})}start_(){const t=(t,e)=>{if(e)return void t(!1,new gy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===ry.NO_ERROR,i=n.getStatus();if(!e||py(i,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===ry.ABORT;return void t(!1,new gy(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new gy(s,n))})},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());!function(t){return void 0!==t}(t)?n():n(t)}catch(ui){r(ui)}else if(null!==i){const t=sy();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?cy():oy())}else{r(ay())}};this.canceled_?e(0,new gy(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(null,n)}}function h(e){i=setTimeout(()=>{i=null,t(f,l())},e)}function d(){s&&clearTimeout(s)}function f(t){if(c)return void d();for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(t)return d(),void u.call(null,t,...n);if(l()||a)return d(),void u.call(null,t,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(t){p||(p=!0,d(),c||(null!==i?(t||(o=2),clearTimeout(i),h(0)):t||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class gy{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function vy(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}class yy{constructor(t,e){this._service=t,this._location=e instanceof uy?e:uy.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new yy(t,e)}get root(){const t=new uy(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vy(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new uy(this._location.bucket,t);return new yy(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new ey(ny.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function by(t,e){const n=null===e||void 0===e?void 0:e[ty];return null==n?null:uy.makeFromBucketSpec(n,t)}class wy{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Zv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?uy.makeFromBucketSpec(r,this._host):by(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=uy.makeFromBucketSpec(this._url,t):this._bucket=by(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){dy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){dy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new yy(this,t)}_makeRequest(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new hy(cy());{const s=function(t,e,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=fy(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(c,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new my(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}(t,this._appId,n,r,e,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const xy="@firebase/storage",Sy="0.11.2",Ny="storage";function _y(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt(),e=arguments.length>1?arguments[1]:void 0;t=I(t);const n=Vt(t,Ny).getImmediate({identifier:e}),r=f("storage");return r&&function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.host="".concat(e,":").concat(n),t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"===typeof i?i:v(i,t.app.options.projectId))}(t,e,n,r)}(n,...r),n}function ky(t,e){let{instanceIdentifier:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new wy(r,i,s,n,Ht)}Bt(new L(Ny,ky,"PUBLIC").setMultipleInstances(!0)),Kt(xy,Sy,""),Kt(xy,Sy,"esm2017");var Ay=n(579);const Ey=(0,r.createContext)(),Ty=()=>{const t=(0,r.useContext)(Ey);if(!t)throw new Error("useFirebase must be used within a FirebaseProvider");return t};let Cy=!1,Iy=null;const Ly=t=>{let{children:e}=t;const[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=!0;return(async()=>{try{if(Cy&&Iy)return console.log("Using existing Firebase instance"),void(t&&(i(Iy),a(!1)));const e={apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_API_KEY||"AIzaSyBXuWQFOkG53URHYb9GV2vByjJyxR8F6EI",authDomain:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_AUTH_DOMAIN||"salary-f5268.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_PROJECT_ID||"salary-f5268",storageBucket:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_STORAGE_BUCKET||"salary-f5268.firebasestorage.app",messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID||"561516501982",appId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_APP_ID||"1:561516501982:web:ae8d8084ff20a4cb1f5b4f",measurementId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_FIREBASE_MEASUREMENT_ID||"G-HX8JVK3H77"};let n;console.log("Initializing Firebase...");Array.from(jt.values()).length>0?(console.log("Firebase app already exists, using existing app"),n=Gt()):(console.log("Creating new Firebase app"),n=Wt(e));const r=oi(n),s=Zg(n),o=_y(n);console.log("Firebase initialized successfully"),Iy={app:n,auth:r,db:s,storage:o},Cy=!0,t&&(i(Iy),a(!1))}catch(WT){console.error("Firebase initialization error:",WT),t&&(l(WT),a(!1))}})(),()=>{t=!1}},[]),(0,Ay.jsx)(Ey.Provider,{value:{firebase:n,loading:s,error:o},children:e})},Py=(0,r.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Dy=(0,r.createContext)({});const Oy=(0,r.createContext)(null),Ry="undefined"!==typeof document,My=Ry?r.useLayoutEffect:r.useEffect,jy=(0,r.createContext)({strict:!1});function Fy(t,e,n,i){const s=(0,r.useContext)(Dy).visualElement,a=(0,r.useContext)(jy),o=(0,r.useContext)(Oy),l=(0,r.useContext)(Py).reducedMotion,c=(0,r.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(t,{visualState:e,parent:s,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;return My(()=>{u&&u.render()}),My(()=>{u&&u.animationState&&u.animationState.animateChanges()}),My(()=>()=>u&&u.notify("Unmount"),[]),u}function Uy(t){return"object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function By(t){return"string"===typeof t||Array.isArray(t)}function Vy(t){return"object"===typeof t&&"function"===typeof t.start}const zy=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function qy(t){return Vy(t.animate)||zy.some(e=>By(t[e]))}function Hy(t){return Boolean(qy(t)||t.variants)}function Wy(t){const{initial:e,animate:n}=function(t,e){if(qy(t)){const{initial:e,animate:n}=t;return{initial:!1===e||By(e)?e:void 0,animate:By(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)(Dy));return(0,r.useMemo)(()=>({initial:e,animate:n}),[Gy(e),Gy(n)])}function Gy(t){return Array.isArray(t)?t.join(" "):t}const Ky=t=>({isEnabled:e=>t.some(t=>!!e[t])}),Yy={measureLayout:Ky(["layout","layoutId","drag"]),animation:Ky(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Ky(["exit"]),drag:Ky(["drag","dragControls"]),focus:Ky(["whileFocus"]),hover:Ky(["whileHover","onHoverStart","onHoverEnd"]),tap:Ky(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Ky(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Ky(["whileInView","onViewportEnter","onViewportLeave"])};function Xy(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}const Qy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Jy=1;const $y=(0,r.createContext)({});class Zy extends r.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:e}=this.props;return t&&t.setProps(e),null}componentDidUpdate(){}render(){return this.props.children}}const tb=(0,r.createContext)({}),eb=Symbol.for("motionComponentSymbol");function nb(t){let{preloadedFeatures:e,createVisualElement:n,projectionNodeConstructor:i,useRender:s,useVisualState:a,Component:o}=t;e&&function(t){for(const e in t)"projectionNodeConstructor"===e?Yy.projectionNodeConstructor=t[e]:Yy[e].Component=t[e]}(e);const l=(0,r.forwardRef)(function(t,l){const c=H(H(H({},(0,r.useContext)(Py)),t),{},{layoutId:rb(t)}),{isStatic:u}=c;let h=null;const d=Wy(t),f=u?void 0:Xy(()=>{if(Qy.hasEverUpdated)return Jy++}),p=a(t,u);if(!u&&Ry){d.visualElement=Fy(o,p,c,n);const t=(0,r.useContext)(jy).strict,s=(0,r.useContext)(tb);d.visualElement&&(h=d.visualElement.loadFeatures(c,t,e,f,i||Yy.projectionNodeConstructor,s))}return r.createElement(Zy,{visualElement:d.visualElement,props:c},h,r.createElement(Dy.Provider,{value:d},s(o,t,f,function(t,e,n){return(0,r.useCallback)(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"===typeof n?n(r):Uy(n)&&(n.current=r))},[e])}(p,d.visualElement,l),p,u,d.visualElement)))});return l[eb]=o,l}function rb(t){let{layoutId:e}=t;const n=(0,r.useContext)($y).id;return n&&void 0!==e?n+"-"+e:e}function ib(t){function e(e){return nb(t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const sb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ab(t){return"string"===typeof t&&!t.includes("-")&&!!(sb.indexOf(t)>-1||/[A-Z]/.test(t))}const ob={};const lb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cb=new Set(lb);function ub(t,e){let{layout:n,layoutId:r}=e;return cb.has(t)||t.startsWith("origin")||(n||void 0!==r)&&(!!ob[t]||"opacity"===t)}const hb=t=>!!(null===t||void 0===t?void 0:t.getVelocity),db={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fb=(t,e)=>lb.indexOf(t)-lb.indexOf(e);function pb(t){return t.startsWith("--")}const mb=(t,e)=>e&&"number"===typeof t?e.transform(t):t,gb=(t,e,n)=>Math.min(Math.max(n,t),e),vb={test:t=>"number"===typeof t,parse:parseFloat,transform:t=>t},yb=H(H({},vb),{},{transform:t=>gb(0,1,t)}),bb=H(H({},vb),{},{default:1}),wb=t=>Math.round(1e5*t)/1e5,xb=/(-)?([\d]*\.?[\d])+/g,Sb=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Nb=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _b(t){return"string"===typeof t}const kb=t=>({test:e=>_b(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>"".concat(e).concat(t)}),Ab=kb("deg"),Eb=kb("%"),Tb=kb("px"),Cb=kb("vh"),Ib=kb("vw"),Lb=H(H({},Eb),{},{parse:t=>Eb.parse(t)/100,transform:t=>Eb.transform(100*t)}),Pb=H(H({},vb),{},{transform:Math.round}),Db={borderWidth:Tb,borderTopWidth:Tb,borderRightWidth:Tb,borderBottomWidth:Tb,borderLeftWidth:Tb,borderRadius:Tb,radius:Tb,borderTopLeftRadius:Tb,borderTopRightRadius:Tb,borderBottomRightRadius:Tb,borderBottomLeftRadius:Tb,width:Tb,maxWidth:Tb,height:Tb,maxHeight:Tb,size:Tb,top:Tb,right:Tb,bottom:Tb,left:Tb,padding:Tb,paddingTop:Tb,paddingRight:Tb,paddingBottom:Tb,paddingLeft:Tb,margin:Tb,marginTop:Tb,marginRight:Tb,marginBottom:Tb,marginLeft:Tb,rotate:Ab,rotateX:Ab,rotateY:Ab,rotateZ:Ab,scale:bb,scaleX:bb,scaleY:bb,scaleZ:bb,skew:Ab,skewX:Ab,skewY:Ab,distance:Tb,translateX:Tb,translateY:Tb,translateZ:Tb,x:Tb,y:Tb,z:Tb,perspective:Tb,transformPerspective:Tb,opacity:yb,originX:Lb,originY:Lb,originZ:Tb,zIndex:Pb,fillOpacity:yb,strokeOpacity:yb,numOctaves:Pb};function Ob(t,e,n,r){const{style:i,vars:s,transform:a,transformKeys:o,transformOrigin:l}=t;o.length=0;let c=!1,u=!1,h=!0;for(const d in e){const t=e[d];if(pb(d)){s[d]=t;continue}const n=Db[d],r=mb(t,n);if(cb.has(d)){if(c=!0,a[d]=r,o.push(d),!h)continue;t!==(n.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,l[d]=r):i[d]=r}if(e.transform||(c||r?i.transform=function(t,e,n,r){let{transform:i,transformKeys:s}=t,{enableHardwareAcceleration:a=!0,allowTransformNone:o=!0}=e,l="";s.sort(fb);for(const c of s)l+="".concat(db[c]||c,"(").concat(i[c],") ");return a&&!i.z&&(l+="translateZ(0)"),l=l.trim(),r?l=r(i,n?"":l):o&&n&&(l="none"),l}(t,n,h,r):i.transform&&(i.transform="none")),u){const{originX:t="50%",originY:e="50%",originZ:n=0}=l;i.transformOrigin="".concat(t," ").concat(e," ").concat(n)}}const Rb=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function Mb(t,e,n){for(const r in e)hb(e[r])||ub(r,n)||(t[r]=e[r])}function jb(t,e,n){const i={};return Mb(i,t.style||{},t),Object.assign(i,function(t,e,n){let{transformTemplate:i}=t;return(0,r.useMemo)(()=>{const t={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return Ob(t,e,{enableHardwareAcceleration:!n},i),Object.assign({},t.vars,t.style)},[e])}(t,e,n)),t.transformValues?t.transformValues(i):i}function Fb(t,e,n){const r={},i=jb(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),r.style=i,r}const Ub=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll","whileInView","onViewportEnter","onViewportLeave","viewport","whileTap","onTap","onTapStart","onTapCancel","animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView","onPan","onPanStart","onPanSessionStart","onPanEnd"]);function Bb(t){return Ub.has(t)}let Vb=t=>!Bb(t);try{(zb=require("@emotion/is-prop-valid").default)&&(Vb=t=>t.startsWith("on")?!Bb(t):zb(t))}catch(RL){}var zb;function qb(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hb(t,e,n){return"string"===typeof t?t:Tb.transform(e+n*t)}const Wb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gb={offset:"strokeDashoffset",array:"strokeDasharray"};const Kb=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function Yb(t,e,n,r,i){let{attrX:s,attrY:a,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0}=e;if(Ob(t,qb(e,Kb),n,i),r)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:d,style:f,dimensions:p}=t;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(void 0!==o||void 0!==l||f.transform)&&(f.transformOrigin=function(t,e,n){const r=Hb(e,t.x,t.width),i=Hb(n,t.y,t.height);return"".concat(r," ").concat(i)}(p,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==s&&(d.x=s),void 0!==a&&(d.y=a),void 0!==c&&function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.pathLength=1;const s=i?Wb:Gb;t[s.offset]=Tb.transform(-r);const a=Tb.transform(e),o=Tb.transform(n);t[s.array]="".concat(a," ").concat(o)}(d,c,u,h,!1)}const Xb=()=>H(H({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}}),Qb=t=>"string"===typeof t&&"svg"===t.toLowerCase();function Jb(t,e,n,i){const s=(0,r.useMemo)(()=>{const n=Xb();return Yb(n,e,{enableHardwareAcceleration:!1},Qb(i),t.transformTemplate),H(H({},n.attrs),{},{style:H({},n.style)})},[e]);if(t.style){const e={};Mb(e,t.style,t),s.style=H(H({},e),s.style)}return s}function $b(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e,n,i,s,a,o)=>{let{latestValues:l}=a;const c=(ab(e)?Jb:Fb)(n,l,o,e),u=function(t,e,n){const r={};for(const i in t)(Vb(i)||!0===n&&Bb(i)||!e&&!Bb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"===typeof e,t),h=H(H(H({},u),c),{},{ref:s});return i&&(h["data-projection-id"]=i),(0,r.createElement)(e,h)}}const Zb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tw(t,e,n,r){let{style:i,vars:s}=e;Object.assign(t.style,i,r&&r.getProjectionStyles(n));for(const a in s)t.style.setProperty(a,s[a])}const ew=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nw(t,e,n,r){tw(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ew.has(i)?i:Zb(i),e.attrs[i])}function rw(t){const{style:e}=t,n={};for(const r in e)(hb(e[r])||ub(r,t))&&(n[r]=e[r]);return n}function iw(t){const e=rw(t);for(const n in t)if(hb(t[n])){e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]}return e}function sw(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),"string"===typeof e&&(e=t.variants&&t.variants[e]),"function"===typeof e&&(e=e(void 0!==n?n:t.custom,r,i)),e}const aw=t=>Array.isArray(t),ow=t=>aw(t)?t[t.length-1]||0:t;function lw(t){const e=hb(t)?t.get():t;return(t=>Boolean(t&&"object"===typeof t&&t.mix&&t.toValue))(e)?e.toValue():e}const cw=["transitionEnd","transition"];const uw=t=>(e,n)=>{const i=(0,r.useContext)(Dy),s=(0,r.useContext)(Oy),a=()=>function(t,e,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:a}=t;const o={latestValues:hw(e,n,r,i),renderState:s()};return a&&(o.mount=t=>a(e,t,o)),o}(t,e,i,s);return n?a():Xy(a)};function hw(t,e,n,r){const i={},s=r(t);for(const d in s)i[d]=lw(s[d]);let{initial:a,animate:o}=t;const l=qy(t),c=Hy(t);e&&c&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===o&&(o=e.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const h=u?o:a;if(h&&"boolean"!==typeof h&&!Vy(h)){(Array.isArray(h)?h:[h]).forEach(e=>{const n=sw(t,e);if(!n)return;const{transitionEnd:r,transition:s}=n,a=qb(n,cw);for(const t in a){let e=a[t];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[t]=e)}for(const t in r)i[t]=r[t]})}return i}const dw={useVisualState:uw({scrapeMotionValuesFromProps:iw,createRenderState:Xb,onMount:(t,e,n)=>{let{renderState:r,latestValues:i}=n;try{r.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(ui){r.dimensions={x:0,y:0,width:0,height:0}}Yb(r,i,{enableHardwareAcceleration:!1},Qb(e.tagName),t.transformTemplate),nw(e,r)}})},fw={useVisualState:uw({scrapeMotionValuesFromProps:rw,createRenderState:Rb})};var pw;function mw(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function gw(t,e,n,i){(0,r.useEffect)(()=>{const r=t.current;if(n&&r)return mw(r,e,n,i)},[t,e,n,i])}function vw(t){return"undefined"!==typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function yw(t){return!!t.touches}!function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"}(pw||(pw={}));const bw={pageX:0,pageY:0};function ww(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";const n=t.touches[0]||t.changedTouches[0]||bw;return{x:n[e+"X"],y:n[e+"Y"]}}function xw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:t[e+"X"],y:t[e+"Y"]}}function Sw(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:yw(t)?ww(t,e):xw(t,e)}}const Nw=function(t){const e=e=>t(e,Sw(e));return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(n=e,t=>{const e=t instanceof MouseEvent;(!e||e&&0===t.button)&&n(t)}):e;var n},_w={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},kw={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Aw(t){return Ry&&null===window.onpointerdown?t:Ry&&null===window.ontouchstart?kw[t]:Ry&&null===window.onmousedown?_w[t]:t}function Ew(t,e,n,r){return mw(t,Aw(e),Nw(n,"pointerdown"===e),r)}function Tw(t,e,n,r){return gw(t,Aw(e),n&&Nw(n,"pointerdown"===e),r)}function Cw(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const Iw=Cw("dragHorizontal"),Lw=Cw("dragVertical");function Pw(t){let e=!1;if("y"===t)e=Lw();else if("x"===t)e=Iw();else{const t=Iw(),n=Lw();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function Dw(){const t=Pw(!0);return!t||(t(),!1)}function Ow(t,e,n){return(r,i)=>{vw(r)&&!Dw()&&(t.animationState&&t.animationState.setActive(pw.Hover,e),n&&n(r,i))}}const Rw=(t,e)=>!!e&&(t===e||Rw(t,e.parentElement));function Mw(t){return(0,r.useEffect)(()=>()=>t(),[])}const jw=(t,e)=>n=>e(t(n)),Fw=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(jw)};const Uw=new Set;function Bw(t,e,n){t||Uw.has(e)||(console.warn(e),n&&console.warn(n),Uw.add(e))}const Vw=["root"],zw=new WeakMap,qw=new WeakMap,Hw=t=>{const e=zw.get(t.target);e&&e(t)},Ww=t=>{t.forEach(Hw)};function Gw(t,e,n){const r=function(t){let{root:e}=t,n=qb(t,Vw);const r=e||document;qw.has(r)||qw.set(r,{});const i=qw.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(Ww,H({root:e},n))),i[s]}(e);return zw.set(t,n),r.observe(t),()=>{zw.delete(t),r.unobserve(t)}}const Kw={some:0,all:1};function Yw(t,e,n,i){let{root:s,margin:a,amount:o="some",once:l}=i;(0,r.useEffect)(()=>{if(!t||!n.current)return;const r={root:null===s||void 0===s?void 0:s.current,rootMargin:a,threshold:"number"===typeof o?o:Kw[o]};return Gw(n.current,r,t=>{const{isIntersecting:r}=t;if(e.isInView===r)return;if(e.isInView=r,l&&!r&&e.hasEnteredView)return;r&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(pw.InView,r);const i=n.getProps(),s=r?i.onViewportEnter:i.onViewportLeave;s&&s(t)})},[t,s,a,o])}function Xw(t,e,n,i){let{fallback:s=!0}=i;(0,r.useEffect)(()=>{t&&s&&requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:t}=n.getProps();t&&t(null),n.animationState&&n.animationState.setActive(pw.InView,!0)})},[t])}const Qw=t=>e=>(t(e),null),Jw={inView:Qw(function(t){let{visualElement:e,whileInView:n,onViewportEnter:i,onViewportLeave:s,viewport:a={}}=t;const o=(0,r.useRef)({hasEnteredView:!1,isInView:!1});let l=Boolean(n||i||s);a.once&&o.current.hasEnteredView&&(l=!1),("undefined"===typeof IntersectionObserver?Xw:Yw)(l,o.current,e,a)}),tap:Qw(function(t){let{onTap:e,onTapStart:n,onTapCancel:i,whileTap:s,visualElement:a}=t;const o=e||n||i||s,l=(0,r.useRef)(!1),c=(0,r.useRef)(null),u={passive:!(n||e||i||m)};function h(){c.current&&c.current(),c.current=null}function d(){return h(),l.current=!1,a.animationState&&a.animationState.setActive(pw.Tap,!1),!Dw()}function f(t,n){d()&&(Rw(a.current,t.target)?e&&e(t,n):i&&i(t,n))}function p(t,e){d()&&i&&i(t,e)}function m(t,e){h(),l.current||(l.current=!0,c.current=Fw(Ew(window,"pointerup",f,u),Ew(window,"pointercancel",p,u)),a.animationState&&a.animationState.setActive(pw.Tap,!0),n&&n(t,e))}Tw(a,"pointerdown",o?m:void 0,u),Mw(h)}),focus:Qw(function(t){let{whileFocus:e,visualElement:n}=t;const{animationState:r}=n;gw(n,"focus",e?()=>{r&&r.setActive(pw.Focus,!0)}:void 0),gw(n,"blur",e?()=>{r&&r.setActive(pw.Focus,!1)}:void 0)}),hover:Qw(function(t){let{onHoverStart:e,onHoverEnd:n,whileHover:r,visualElement:i}=t;Tw(i,"pointerenter",e||r?Ow(i,!0,e):void 0,{passive:!e}),Tw(i,"pointerleave",n||r?Ow(i,!1,n):void 0,{passive:!n})})};function $w(){const t=(0,r.useContext)(Oy);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=(0,r.useId)();(0,r.useEffect)(()=>i(s),[]);return!e&&n?[!1,()=>n&&n(s)]:[!0]}function Zw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tx=t=>/^\-?\d*\.?\d+$/.test(t),ex=t=>/^0[^.\s]+$/.test(t),nx={delta:0,timestamp:0},rx=1/60*1e3,ix="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),sx="undefined"!==typeof window?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(ix()),rx);let ax=!0,ox=!1,lx=!1;const cx=["read","update","preRender","render","postRender"],ux=cx.reduce((t,e)=>(t[e]=function(t){let e=[],n=[],r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:function(t){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,o=s?e:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(t),-1===o.indexOf(t)&&(o.push(t),s&&i&&(r=e.length)),t},cancel:t=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1),a.delete(t)},process:l=>{if(i)s=!0;else{if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let n=0;n<r;n++){const r=e[n];r(l),a.has(r)&&(o.schedule(r),t())}i=!1,s&&(s=!1,o.process(l))}}};return o}(()=>ox=!0),t),{}),hx=cx.reduce((t,e)=>{const n=ux[e];return t[e]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ox||gx(),n.schedule(t,e,r)},t},{}),dx=cx.reduce((t,e)=>(t[e]=ux[e].cancel,t),{}),fx=cx.reduce((t,e)=>(t[e]=()=>ux[e].process(nx),t),{}),px=t=>ux[t].process(nx),mx=t=>{ox=!1,nx.delta=ax?rx:Math.max(Math.min(t-nx.timestamp,40),1),nx.timestamp=t,lx=!0,cx.forEach(px),lx=!1,ox&&(ax=!1,sx(mx))},gx=()=>{ox=!0,ax=!0,lx||sx(mx)};function vx(t,e){-1===t.indexOf(e)&&t.push(e)}function yx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bx{constructor(){this.subscriptions=[]}add(t){return vx(this.subscriptions,t),()=>yx(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function wx(t,e){return e?t*(1e3/e):0}class xx{constructor(t){var e=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="7.10.3",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.prev=e.current,e.current=t;const{delta:r,timestamp:i}=nx;e.lastUpdated!==i&&(e.timeDelta=r,e.lastUpdated=i,hx.postRender(e.scheduleVelocityCheck)),e.prev!==e.current&&e.events.change&&e.events.change.notify(e.current),e.events.velocityChange&&e.events.velocityChange.notify(e.getVelocity()),n&&e.events.renderRequest&&e.events.renderRequest.notify(e.current)},this.scheduleVelocityCheck=()=>hx.postRender(this.velocityCheck),this.velocityCheck=t=>{let{timestamp:e}=t;e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,e){return this.events[t]||(this.events[t]=new bx),this.events[t].add(e)}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t){this.passiveEffect=t}set(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=t,this.timeDelta=n}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?wx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.stopAnimation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.stopAnimation&&(this.stopAnimation(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.clearListeners(),this.stop()}}function Sx(t,e){return new xx(t,e)}const Nx=(t,e)=>n=>Boolean(_b(n)&&Nb.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),_x=(t,e,n)=>r=>{if(!_b(r))return r;const[i,s,a,o]=r.match(xb);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},kx=H(H({},vb),{},{transform:t=>Math.round((t=>gb(0,255,t))(t))}),Ax={test:Nx("rgb","red"),parse:_x("red","green","blue"),transform:t=>{let{red:e,green:n,blue:r,alpha:i=1}=t;return"rgba("+kx.transform(e)+", "+kx.transform(n)+", "+kx.transform(r)+", "+wb(yb.transform(i))+")"}};const Ex={test:Nx("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ax.transform},Tx={test:Nx("hsl","hue"),parse:_x("hue","saturation","lightness"),transform:t=>{let{hue:e,saturation:n,lightness:r,alpha:i=1}=t;return"hsla("+Math.round(e)+", "+Eb.transform(wb(n))+", "+Eb.transform(wb(r))+", "+wb(yb.transform(i))+")"}},Cx={test:t=>Ax.test(t)||Ex.test(t)||Tx.test(t),parse:t=>Ax.test(t)?Ax.parse(t):Tx.test(t)?Tx.parse(t):Ex.parse(t),transform:t=>_b(t)?t:t.hasOwnProperty("red")?Ax.transform(t):Tx.transform(t)},Ix="${c}",Lx="${n}";function Px(t){"number"===typeof t&&(t="".concat(t));const e=[];let n=0,r=0;const i=t.match(Sb);i&&(n=i.length,t=t.replace(Sb,Ix),e.push(...i.map(Cx.parse)));const s=t.match(xb);return s&&(r=s.length,t=t.replace(xb,Lx),e.push(...s.map(vb.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function Dx(t){return Px(t).values}function Ox(t){const{values:e,numColors:n,tokenised:r}=Px(t),i=e.length;return t=>{let e=r;for(let r=0;r<i;r++)e=e.replace(r<n?Ix:Lx,r<n?Cx.transform(t[r]):wb(t[r]));return e}}const Rx=t=>"number"===typeof t?0:t;const Mx={test:function(t){var e,n;return isNaN(t)&&_b(t)&&((null===(e=t.match(xb))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Sb))||void 0===n?void 0:n.length)||0)>0},parse:Dx,createTransformer:Ox,getAnimatableNone:function(t){const e=Dx(t);return Ox(t)(e.map(Rx))}},jx=new Set(["brightness","contrast","saturate","opacity"]);function Fx(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(xb)||[];if(!r)return t;const i=n.replace(r,"");let s=jx.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Ux=/([a-z-]*)\(.*?\)/g,Bx=H(H({},Mx),{},{getAnimatableNone:t=>{const e=t.match(Ux);return e?e.map(Fx).join(" "):t}}),Vx=H(H({},Db),{},{color:Cx,backgroundColor:Cx,outlineColor:Cx,fill:Cx,stroke:Cx,borderColor:Cx,borderTopColor:Cx,borderRightColor:Cx,borderBottomColor:Cx,borderLeftColor:Cx,filter:Bx,WebkitFilter:Bx}),zx=t=>Vx[t];function qx(t,e){var n;let r=zx(t);return r!==Bx&&(r=Mx),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,e)}const Hx=t=>e=>e.test(t),Wx=[vb,Tb,Eb,Ab,Ib,Cb,{test:t=>"auto"===t,parse:t=>t}],Gx=t=>Wx.find(Hx(t)),Kx=[...Wx,Cx,Mx],Yx=t=>Kx.find(Hx(t));function Xx(t,e,n){const r=t.getProps();return sw(r,e,void 0!==n?n:r.custom,function(t){const e={};return t.values.forEach((t,n)=>e[n]=t.get()),e}(t),function(t){const e={};return t.values.forEach((t,n)=>e[n]=t.getVelocity()),e}(t))}const Qx=["transitionEnd","transition"];function Jx(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sx(n))}function $x(t,e){const n=Xx(t,e);let r=n?t.makeTargetAnimatable(n,!1):{},{transitionEnd:i={},transition:s={}}=r,a=qb(r,Qx);a=H(H({},a),i);for(const o in a){Jx(t,o,ow(a[o]))}}function Zx(t,e){if(!e)return;return(e[t]||e.default||e).from}function tS(t){return Boolean(hb(t)&&t.add)}function eS(t,e){const{MotionAppearAnimations:n}=window,r=((t,e)=>"".concat(t,": ").concat(e))(t,cb.has(e)?"transform":e),i=n&&n.get(r);return i?(hx.render(()=>{try{i.cancel(),n.delete(r)}catch(ui){}}),i.currentTime||0):0}const nS="data-"+Zb("framerAppearId");var rS=function(){};const iS=t=>1e3*t,sS=!1,aS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oS=t=>e=>1-t(1-e),lS=t=>t*t,cS=oS(lS),uS=aS(lS),hS=(t,e,n)=>-n*t+n*e+t;function dS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}const fS=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},pS=[Ex,Ax,Tx];function mS(t){const e=(t=>pS.find(e=>e.test(t)))(t);Boolean(e),"'".concat(t,"' is not an animatable color. Use the equivalent color code instead.");let n=e.parse(t);return e===Tx&&(n=function(t){let{hue:e,saturation:n,lightness:r,alpha:i}=t;e/=360,n/=100,r/=100;let s=0,a=0,o=0;if(n){const t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;s=dS(i,t,e+1/3),a=dS(i,t,e),o=dS(i,t,e-1/3)}else s=a=o=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:i}}(n)),n}const gS=(t,e)=>{const n=mS(t),r=mS(e),i=H({},n);return t=>(i.red=fS(n.red,r.red,t),i.green=fS(n.green,r.green,t),i.blue=fS(n.blue,r.blue,t),i.alpha=hS(n.alpha,r.alpha,t),Ax.transform(i))};function vS(t,e){return"number"===typeof t?n=>hS(t,e,n):Cx.test(t)?gS(t,e):wS(t,e)}const yS=(t,e)=>{const n=[...t],r=n.length,i=t.map((t,n)=>vS(t,e[n]));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}},bS=(t,e)=>{const n=H(H({},t),e),r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=vS(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}},wS=(t,e)=>{const n=Mx.createTransformer(e),r=Px(t),i=Px(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fw(yS(r.values,i.values),n):("Complex values '".concat(t,"' and '").concat(e,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),n=>"".concat(n>0?e:t))},xS=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},SS=(t,e)=>n=>hS(t,e,n);function NS(t,e,n){const r=[],i=n||function(t){return"number"===typeof t?SS:"string"===typeof t?Cx.test(t)?gS:wS:Array.isArray(t)?yS:"object"===typeof t?bS:SS}(t[0]),s=t.length-1;for(let a=0;a<s;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]:e;n=Fw(t,n)}r.push(n)}return r}function _S(t,e){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=t.length;e.length,!r||!Array.isArray(r)||r.length,t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=NS(e,r,i),o=a.length,l=e=>{let n=0;if(o>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=xS(t[n],t[n+1],e);return a[n](r)};return n?e=>l(gb(t[0],t[s-1],e)):l}const kS=t=>t,AS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t;function ES(t,e,n,r){if(t===e&&n===r)return kS;const i=e=>function(t,e,n,r,i){let s,a,o=0;do{a=e+(n-e)/2,s=AS(a,r,i)-t,s>0?n=a:e=a}while(Math.abs(s)>1e-7&&++o<12);return a}(e,0,1,t,n);return t=>0===t||1===t?t:AS(i(t),e,r)}const TS=t=>1-Math.sin(Math.acos(t)),CS=oS(TS),IS=aS(CS),LS=ES(.33,1.53,.69,.99),PS=oS(LS),DS=aS(PS),OS={linear:kS,easeIn:lS,easeInOut:uS,easeOut:cS,circIn:TS,circInOut:IS,circOut:CS,backIn:PS,backInOut:DS,backOut:LS,anticipate:t=>(t*=2)<1?.5*PS(t):.5*(2-Math.pow(2,-10*(t-1)))},RS=t=>{if(Array.isArray(t)){t.length;const[e,n,r,i]=t;return ES(e,n,r,i)}return"string"===typeof t?("Invalid easing type '".concat(t,"'"),OS[t]):t};function MS(t){let{keyframes:e,ease:n=uS,times:r,duration:i=300}=t;e=[...e];const s=MS[0],a=(t=>Array.isArray(t)&&"number"!==typeof t[0])(n)?n.map(RS):RS(n),o={done:!1,value:s},l=function(t,e){return t.map(t=>t*e)}(r&&r.length===MS.length?r:function(t){const e=t.length;return t.map((t,n)=>0!==n?n/(e-1):0)}(e),i);function c(){return _S(l,e,{ease:Array.isArray(a)?a:(t=e,n=a,t.map(()=>n||uS).splice(0,t.length-1))});var t,n}let u=c();return{next:t=>(o.value=u(t),o.done=t>=i,o),flipTarget:()=>{e.reverse(),u=c()}}}const jS=.001;function FS(t){let e,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:a=1}=t,o=1-i;o=gb(.05,1,o),r=gb(.01,10,r/1e3),o<1?(e=t=>{const e=t*o,n=e*r,i=e-s,a=BS(t,o),l=Math.exp(-n);return jS-i/a*l},n=t=>{const n=t*o*r,i=n*s+s,a=Math.pow(o,2)*Math.pow(t,2)*r,l=Math.exp(-n),c=BS(Math.pow(t,2),o);return(-e(t)+jS>0?-1:1)*((i-a)*l)/c}):(e=t=>Math.exp(-t*r)*((t-s)*r+1)-.001,n=t=>Math.exp(-t*r)*(r*r*(s-t)));const l=function(t,e,n){let r=n;for(let i=1;i<US;i++)r-=t(r)/e(r);return r}(e,n,5/r);if(r*=1e3,isNaN(l))return{stiffness:100,damping:10,duration:r};{const t=Math.pow(l,2)*a;return{stiffness:t,damping:2*o*Math.sqrt(a*t),duration:r}}}const US=12;function BS(t,e){return t*Math.sqrt(1-e*e)}const VS=["keyframes","restSpeed","restDelta"],zS=["duration","bounce"],qS=["stiffness","damping","mass"];function HS(t,e){return e.some(e=>void 0!==t[e])}function WS(t){let{keyframes:e,restSpeed:n=2,restDelta:r=.01}=t,i=qb(t,VS),s=e[0],a=e[e.length-1];const o={done:!1,value:s},{stiffness:l,damping:c,mass:u,velocity:h,duration:d,isResolvedFromDuration:f}=function(t){let e=H({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!HS(t,qS)&&HS(t,zS)){const n=FS(t);e=H(H(H({},e),n),{},{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(i);let p=GS,m=h?-h/1e3:0;const g=c/(2*Math.sqrt(l*u));function v(){const t=a-s,e=Math.sqrt(l/u)/1e3;if(void 0===r&&(r=Math.min(Math.abs(a-s)/100,.4)),g<1){const n=BS(e,g);p=r=>{const i=Math.exp(-g*e*r);return a-i*((m+g*e*t)/n*Math.sin(n*r)+t*Math.cos(n*r))}}else if(1===g)p=n=>a-Math.exp(-e*n)*(t+(m+e*t)*n);else{const n=e*Math.sqrt(g*g-1);p=r=>{const i=Math.exp(-g*e*r),s=Math.min(n*r,300);return a-i*((m+g*e*t)*Math.sinh(s)+n*t*Math.cosh(s))/n}}}return v(),{next:t=>{const e=p(t);if(f)o.done=t>=d;else{let i=m;if(0!==t)if(g<1){const n=Math.max(0,t-5);i=wx(e-p(n),t-n)}else i=0;const s=Math.abs(i)<=n,l=Math.abs(a-e)<=r;o.done=s&&l}return o.value=o.done?a:e,o},flipTarget:()=>{m=-m,[s,a]=[a,s],v()}}}WS.needsInterpolation=(t,e)=>"string"===typeof t||"string"===typeof e;const GS=t=>0;const KS=["duration","driver","elapsed","repeat","repeatType","repeatDelay","keyframes","autoplay","onPlay","onStop","onComplete","onRepeat","onUpdate","type"],YS={decay:function(t){let{keyframes:e=[0],velocity:n=0,power:r=.8,timeConstant:i=350,restDelta:s=.5,modifyTarget:a}=t;const o=e[0],l={done:!1,value:o};let c=r*n;const u=o+c,h=void 0===a?u:a(u);return h!==u&&(c=h-o),{next:t=>{const e=-c*Math.exp(-t/i);return l.done=!(e>s||e<-s),l.value=l.done?h:h+e,l},flipTarget:()=>{}}},keyframes:MS,tween:MS,spring:WS};function XS(t,e){return t-e-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)}const QS=t=>{const e=e=>{let{delta:n}=e;return t(n)};return{start:()=>hx.update(e,!0),stop:()=>dx.update(e)}};function JS(t){let{duration:e,driver:n=QS,elapsed:r=0,repeat:i=0,repeatType:s="loop",repeatDelay:a=0,keyframes:o,autoplay:l=!0,onPlay:c,onStop:u,onComplete:h,onRepeat:d,onUpdate:f,type:p="keyframes"}=t,m=qb(t,KS);var g,v;let y,b,w,x=0,S=e,N=!1,_=!0;const k=YS[o.length>2?"keyframes":p],A=o[0],E=o[o.length-1];(null===(v=(g=k).needsInterpolation)||void 0===v?void 0:v.call(g,A,E))&&(w=_S([0,100],[A,E],{clamp:!1}),o=[0,100]);const T=k(H(H({},m),{},{duration:e,keyframes:o}));function C(){x++,"reverse"===s?(_=x%2===0,r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?e-(t-e)+n:XS(e+-t,e,n)}(r,S,a,_)):(r=XS(r,S,a),"mirror"===s&&T.flipTarget()),N=!1,d&&d()}function I(t){if(_||(t=-t),r+=t,!N){const t=T.next(Math.max(0,r));b=t.value,w&&(b=w(b)),N=_?t.done:r<=0}f&&f(b),N&&(0===x&&(S=void 0!==S?S:r),x<i?function(t,e,n,r){return r?t>=e+n:t<=-n}(r,S,a,_)&&C():(y.stop(),h&&h()))}return l&&(c&&c(),y=n(I),y.start()),{stop:()=>{u&&u(),y.stop()},sample:t=>T.next(Math.max(0,t))}}const $S=t=>{let[e,n,r,i]=t;return"cubic-bezier(".concat(e,", ").concat(n,", ").concat(r,", ").concat(i,")")},ZS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$S([0,.65,.55,1]),circOut:$S([.55,0,1,.45]),backIn:$S([.31,.01,.66,-.59]),backOut:$S([.33,1.53,.69,.99])};function tN(t){if(t)return Array.isArray(t)?$S(t):ZS[t]}const eN=["onUpdate","onComplete"];function nN(t,e,n){let{onUpdate:r,onComplete:i}=n,s=qb(n,eN),{keyframes:a,duration:o=.3,elapsed:l=0,ease:c}=s;if("spring"===s.type||!(!(u=s.ease)||Array.isArray(u)||"string"===typeof u&&ZS[u])){const t=JS(s);let e={done:!1,value:a[0]};const n=[];let r=0;for(;!e.done;)e=t.sample(r),n.push(e.value),r+=10;a=n,o=r-10,c="linear"}var u;const h=function(t,e,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.animate({[e]:n,offset:l},{delay:r,duration:i,easing:tN(o),fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(t.owner.current,e,a,H(H({},s),{},{delay:-l,duration:o,ease:c}));return h.onfinish=()=>{t.set(a[a.length-1]),i&&i()},()=>{const{currentTime:e}=h;if(e){const n=JS(s);t.setWithVelocity(n.sample(e-10).value,n.sample(e).value,10)}hx.update(()=>h.cancel())}}function rN(t,e){const n=performance.now(),r=i=>{let{timestamp:s}=i;const a=s-n;a>=e&&(dx.read(r),t(a-e))};return hx.read(r,!0),()=>dx.read(r)}function iN(t){let{keyframes:e,elapsed:n,onUpdate:r,onComplete:i}=t;const s=()=>(r&&r(e[e.length-1]),i&&i(),()=>{});return n?rN(s,-n):s()}const sN=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),aN=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),oN=()=>({type:"keyframes",ease:"linear",duration:.3}),lN={type:"keyframes",duration:.8},cN={x:sN,y:sN,z:sN,rotate:sN,rotateX:sN,rotateY:sN,rotateZ:sN,scaleX:aN,scaleY:aN,scale:aN,opacity:oN,backgroundColor:oN,color:oN,default:aN},uN=(t,e)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Mx.test(e)||e.startsWith("url("))),hN=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"];function dN(t){return 0===t||"string"===typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function fN(t){return"number"===typeof t?0:qx("",t)}function pN(t,e){return t[e]||t.default||t}const mN={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},gN={},vN={};for(const ML in mN)vN[ML]=()=>(void 0===gN[ML]&&(gN[ML]=mN[ML]()),gN[ML]);const yN=new Set(["opacity"]),bN=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=pN(r,t)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o-=iS(a);const l=function(t,e,n,r){const i=uN(e,n);let s=void 0!==r.from?r.from:t.get();return"none"===s&&i&&"string"===typeof n?s=qx(e,n):dN(s)&&"string"===typeof n?s=fN(n):!Array.isArray(n)&&dN(n)&&"string"===typeof s&&(n=fN(s)),Array.isArray(n)?(null===n[0]&&(n[0]=s),n):[s,n]}(e,t,n,s),c=l[0],u=l[l.length-1],h=uN(t,c),d=uN(t,u);"You are trying to animate ".concat(t,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property.");let f=H(H({keyframes:l,velocity:e.getVelocity()},s),{},{elapsed:o,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}});if(!h||!d||sS||!1===s.type)return iN(f);if("inertia"===s.type){const t=function(t){let{keyframes:e,velocity:n=0,min:r,max:i,power:s=.8,timeConstant:a=750,bounceStiffness:o=500,bounceDamping:l=10,restDelta:c=1,modifyTarget:u,driver:h,onUpdate:d,onComplete:f,onStop:p}=t;const m=e[0];let g;function v(t){return void 0!==r&&t<r||void 0!==i&&t>i}function y(t){return void 0===r?i:void 0===i||Math.abs(r-t)<Math.abs(i-t)?r:i}function b(t){null===g||void 0===g||g.stop(),g=JS(H(H({keyframes:[0,1],velocity:0},t),{},{driver:h,onUpdate:e=>{var n;null===d||void 0===d||d(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:f,onStop:p}))}function w(t){b(H({type:"spring",stiffness:o,damping:l,restDelta:c},t))}if(v(m))w({velocity:n,keyframes:[m,y(m)]});else{let t=s*n+m;"undefined"!==typeof u&&(t=u(t));const e=y(t),i=e===r?-1:1;let o,l;const h=t=>{o=l,l=t,n=wx(t-o,nx.delta),(1===i&&t>e||-1===i&&t<e)&&w({keyframes:[t,e],velocity:n})};b({type:"decay",keyframes:[m,0],velocity:n,timeConstant:a,power:s,restDelta:c,modifyTarget:u,onUpdate:v(t)?h:void 0})}return{stop:()=>null===g||void 0===g?void 0:g.stop()}}(f);return()=>t.stop()}(function(t){let{when:e,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c}=t,u=qb(t,hN);return!!Object.keys(u).length})(s)||(f=H(H({},f),((t,e)=>{let{keyframes:n}=e;return n.length>2?lN:(cN[t]||cN.default)(n[1])})(t,f))),f.duration&&(f.duration=iS(f.duration)),f.repeatDelay&&(f.repeatDelay=iS(f.repeatDelay));const p=e.owner,m=p&&p.current;if(vN.waapi()&&yN.has(t)&&!f.repeatDelay&&"mirror"!==f.repeatType&&0!==f.damping&&p&&m instanceof HTMLElement&&!p.getProps().onUpdate)return nN(e,t,f);{const t=JS(f);return()=>t.stop()}}},wN=["transition","transitionEnd"];function xN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Xx(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>SN(t,i,n):()=>Promise.resolve(),o=(null===(r=t.variantChildren)||void 0===r?void 0:r.size)?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const a=[],o=(t.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(t.variantChildren).sort(NN).forEach((t,r)=>{a.push(xN(t,e,H(H({},s),{},{delay:n+l(r)})).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(a)}(t,e,i+r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[t,e]="beforeChildren"===l?[a,o]:[o,a];return t().then(e)}return Promise.all([a(),o(n.delay)])}function SN(t,e){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let a=t.makeTargetAnimatable(e),{transition:o=t.getDefaultTransition(),transitionEnd:l}=a,c=qb(a,wN);const u=t.getValue("willChange");r&&(o=r);const h=[],d=i&&(null===(s=t.animationState)||void 0===s?void 0:s.getState()[i]);for(const f in c){const e=t.getValue(f),r=c[f];if(!e||void 0===r||d&&_N(d,f))continue;let i=H({delay:n,elapsed:0},o);if(t.shouldReduceMotion&&cb.has(f)&&(i=H(H({},i),{},{type:!1,delay:0})),!e.hasAnimated){const e=t.getProps()[nS];e&&(i.elapsed=eS(e,f))}let s=e.start(bN(f,e,r,i));tS(u)&&(u.add(f),s=s.then(()=>u.remove(f))),h.push(s)}return Promise.all(h).then(()=>{l&&$x(t,l)})}function NN(t,e){return t.sortNodePosition(e)}function _N(t,e){let{protectedKeys:n,needsAnimating:r}=t;const i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}const kN=["transition","transitionEnd"],AN=[pw.Animate,pw.InView,pw.Focus,pw.Hover,pw.Tap,pw.Drag,pw.Exit],EN=[...AN].reverse(),TN=AN.length;function CN(t){return e=>Promise.all(e.map(e=>{let{animation:n,options:r}=e;return function(t,e){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map(e=>xN(t,e,r));n=Promise.all(i)}else if("string"===typeof e)n=xN(t,e,r);else{const i="function"===typeof e?Xx(t,e,r.custom):e;n=SN(t,i,r)}return n.then(()=>t.notify("AnimationComplete",e))}(t,n,r)}))}function IN(t){let e=CN(t);const n={[pw.Animate]:PN(!0),[pw.InView]:PN(),[pw.Hover]:PN(),[pw.Tap]:PN(),[pw.Drag]:PN(),[pw.Focus]:PN(),[pw.Exit]:PN()};let r=!0;const i=(e,n)=>{const r=Xx(t,n);if(r){const{transition:t,transitionEnd:n}=r,i=qb(r,kN);e=H(H(H({},e),i),n)}return e};function s(s,a){const o=t.getProps(),l=t.getVariantContext(!0)||{},c=[],u=new Set;let h={},d=1/0;for(let e=0;e<TN;e++){const f=EN[e],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=By(m),v=f===a?p.isActive:null;!1===v&&(d=e);let y=m===l[f]&&m!==o[f]&&g;if(y&&r&&t.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=H({},h),!p.isActive&&null===v||!m&&!p.prevProp||Vy(m)||"boolean"===typeof m)continue;const b=LN(p.prevProp,m);let w=b||f===a&&p.isActive&&!y&&g||e>d&&g;const x=Array.isArray(m)?m:[m];let S=x.reduce(i,{});!1===v&&(S={});const{prevResolvedValues:N={}}=p,_=H(H({},N),S),k=t=>{w=!0,u.delete(t),p.needsAnimating[t]=!0};for(const t in _){const e=S[t],n=N[t];h.hasOwnProperty(t)||(e!==n?aw(e)&&aw(n)?!Zw(e,n)||b?k(t):p.protectedKeys[t]=!0:void 0!==e?k(t):u.add(t):void 0!==e&&u.has(t)?k(t):p.protectedKeys[t]=!0)}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(h=H(H({},h),S)),r&&t.blockInitialAnimation&&(w=!1),w&&!y&&c.push(...x.map(t=>({animation:t,options:H({type:f},s)})))}if(u.size){const e={};u.forEach(n=>{const r=t.getBaseTarget(n);void 0!==r&&(e[n]=r)}),c.push({animation:e})}let f=Boolean(c.length);return r&&!1===o.initial&&!t.manuallyAnimateOnMount&&(f=!1),r=!1,f?e(c):Promise.resolve()}return{animateChanges:s,setActive:function(e,r,i){var a;if(n[e].isActive===r)return Promise.resolve();null===(a=t.variantChildren)||void 0===a||a.forEach(t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)}),n[e].isActive=r;const o=s(i,e);for(const t in n)n[t].protectedKeys={};return o},setAnimateFunction:function(n){e=n(t)},getState:()=>n}}function LN(t,e){return"string"===typeof e?e!==t:!!Array.isArray(e)&&!Zw(e,t)}function PN(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}const DN={animation:Qw(t=>{let{visualElement:e,animate:n}=t;e.animationState||(e.animationState=IN(e)),Vy(n)&&(0,r.useEffect)(()=>n.subscribe(e),[n])}),exit:Qw(t=>{const{custom:e,visualElement:n}=t,[i,s]=$w(),a=(0,r.useContext)(Oy);(0,r.useEffect)(()=>{n.isPresent=i;const t=n.animationState&&n.animationState.setActive(pw.Exit,!i,{custom:a&&a.custom||e});t&&!i&&t.then(s)},[i])})},ON=(t,e)=>Math.abs(t-e);class RN{constructor(t,e){let{transformPagePoint:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=FN(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=ON(t.x,e.x),r=ON(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=nx;this.history.push(H(H({},r),{},{timestamp:i}));const{onStart:s,onMove:a}=this.handlers;e||(s&&s(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=MN(e,this.transformPagePoint),vw(t)&&0===t.buttons?this.handlePointerUp(t,e):hx.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r}=this.handlers,i=FN(MN(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,i),r&&r(t,i)},yw(t)&&t.touches.length>1)return;this.handlers=e,this.transformPagePoint=n;const r=MN(Sw(t),this.transformPagePoint),{point:i}=r,{timestamp:s}=nx;this.history=[H(H({},i),{},{timestamp:s})];const{onSessionStart:a}=e;a&&a(t,FN(r,this.history)),this.removeListeners=Fw(Ew(window,"pointermove",this.handlePointerMove),Ew(window,"pointerup",this.handlePointerUp),Ew(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dx.update(this.updatePoint)}}function MN(t,e){return e?{point:e(t.point)}:t}function jN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function FN(t,e){let{point:n}=t;return{point:n,delta:jN(n,BN(e)),offset:jN(n,UN(e)),velocity:VN(e,.1)}}function UN(t){return t[0]}function BN(t){return t[t.length-1]}function VN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=BN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>iS(e)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(0===s)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function zN(t){return t.max-t.min}function qN(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(t-e)<=n}function HN(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;t.origin=r,t.originPoint=hS(e.min,e.max,t.origin),t.scale=zN(n)/zN(e),(qN(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=hS(n.min,n.max,t.origin)-t.originPoint,(qN(t.translate)||isNaN(t.translate))&&(t.translate=0)}function WN(t,e,n,r){HN(t.x,e.x,n.x,null===r||void 0===r?void 0:r.originX),HN(t.y,e.y,n.y,null===r||void 0===r?void 0:r.originY)}function GN(t,e,n){t.min=n.min+e.min,t.max=t.min+zN(e)}function KN(t,e,n){t.min=e.min-n.min,t.max=t.min+zN(e)}function YN(t,e,n){KN(t.x,e.x,n.x),KN(t.y,e.y,n.y)}function XN(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function QN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const JN=.35;function $N(t,e,n){return{min:ZN(t,e),max:ZN(t,n)}}function ZN(t,e){return"number"===typeof t?t:t[e]||0}const t_=()=>({x:{min:0,max:0},y:{min:0,max:0}});function e_(t){return[t("x"),t("y")]}function n_(t){let{top:e,left:n,right:r,bottom:i}=t;return{x:{min:n,max:r},y:{min:e,max:i}}}function r_(t){return void 0===t||1===t}function i_(t){let{scale:e,scaleX:n,scaleY:r}=t;return!r_(e)||!r_(n)||!r_(r)}function s_(t){return i_(t)||a_(t)||t.z||t.rotate||t.rotateX||t.rotateY}function a_(t){return o_(t.x)||o_(t.y)}function o_(t){return t&&"0%"!==t}function l_(t,e,n){return n+e*(t-n)}function c_(t,e,n,r,i){return void 0!==i&&(t=l_(t,i,r)),l_(t,n,r)+e}function u_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;t.min=c_(t.min,e,n,r,i),t.max=c_(t.max,e,n,r,i)}function h_(t,e){let{x:n,y:r}=e;u_(t.x,n.translate,n.scale,n.originPoint),u_(t.y,r.translate,r.scale,r.originPoint)}function d_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function f_(t,e){t.min=t.min+e,t.max=t.max+e}function p_(t,e,n){let[r,i,s]=n;const a=void 0!==e[s]?e[s]:.5,o=hS(t.min,t.max,a);u_(t,e[r],e[i],o,e.scale)}const m_=["x","scaleX","originX"],g_=["y","scaleY","originY"];function v_(t,e){p_(t.x,e,m_),p_(t.y,e,g_)}function y_(t,e){return n_(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const b_=new WeakMap;class w_{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t){let{snapToCursor:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!1===this.visualElement.isPresent)return;this.panSession=new RN(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(Sw(t,"page").point)},onStart:(t,e)=>{var n;const{drag:r,dragPropagation:i,onDragStart:s}=this.getProps();(!r||i||(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pw(r),this.openGlobalLock))&&(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),e_(t=>{var e,n;let r=this.getAxisMotionValue(t).get()||0;if(Eb.test(r)){const i=null===(n=null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout)||void 0===n?void 0:n.layoutBox[t];if(i){r=zN(i)*(parseFloat(r)/100)}}this.originPoint[t]=r}),null===s||void 0===s||s(t,e),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(pw.Drag,!0))},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(a),void(null!==this.currentDirection&&(null===i||void 0===i||i(this.currentDirection)));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),null===s||void 0===s||s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();null===i||void 0===i||i(t,e)}cancel(){var t,e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(pw.Drag,!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!x_(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=function(t,e,n){let{min:r,max:i}=e;return void 0!==r&&t<r?t=n?hS(r,t,n.min):Math.max(t,r):void 0!==i&&t>i&&(t=n?hS(i,t,n.max):Math.min(t,i)),t}(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;t&&Uy(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(t,e){let{top:n,left:r,bottom:i,right:s}=e;return{x:XN(t.x,r,s),y:XN(t.y,n,i)}}(n.layoutBox,t),this.elastic=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JN;return!1===t?t=0:!0===t&&(t=JN),{x:$N(t,"left","right"),y:$N(t,"top","bottom")}}(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&e_(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(n.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Uy(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=y_(t,n),{scroll:i}=e;return i&&(f_(r.x,i.offset.x),f_(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(t,e){return{x:QN(t.x,e.x),y:QN(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function(t){let{x:e,y:n}=t;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=n_(t))}return s}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=e_(a=>{if(!x_(a,e,this.currentDirection))return;let l=(null===o||void 0===o?void 0:o[a])||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h=H(H({type:"inertia",velocity:n?t[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,h)});return Promise.all(l).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(bN(t,n,0,e))}stopAnimation(){e_(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var e;const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps()[n];return r||this.visualElement.getValue(t,(null===(e=this.visualElement.getProps().initial)||void 0===e?void 0:e[t])||0)}snapToCursor(t){e_(e=>{const{drag:n}=this.getProps();if(!x_(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[e];i.set(t[e]-hS(n,s,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};e_(t=>{const e=this.getAxisMotionValue(t);if(e){const n=e.get();i[t]=function(t,e){let n=.5;const r=zN(t),i=zN(e);return i>r?n=xS(e.min,e.max-r,t.min):r>i&&(n=xS(t.min,t.max-i,e.min)),gb(0,1,n)}({min:n,max:n},this.constraints[t])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",null===(t=r.root)||void 0===t||t.updateScroll(),r.updateLayout(),this.resolveConstraints(),e_(t=>{if(!x_(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(hS(r,s,i[t]))})}addListeners(){var t;if(!this.visualElement.current)return;b_.set(this.visualElement,this);const e=Ew(this.visualElement.current,"pointerdown",t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)}),n=()=>{const{dragConstraints:t}=this.getProps();Uy(t)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(null===(t=r.root)||void 0===t||t.updateScroll(),r.updateLayout()),n();const s=mw(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n}=t;this.isDragging&&n&&(e_(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),i(),null===a||void 0===a||a()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=JN,dragMomentum:a=!0}=t;return H(H({},t),{},{drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a})}}function x_(t,e,n){return(!0===e||e===t)&&(null===n||n===t)}const S_={pan:Qw(function(t){let{onPan:e,onPanStart:n,onPanEnd:i,onPanSessionStart:s,visualElement:a}=t;const o=e||n||i||s,l=(0,r.useRef)(null),{transformPagePoint:c}=(0,r.useContext)(Py),u={onSessionStart:s,onStart:n,onMove:e,onEnd:(t,e)=>{l.current=null,i&&i(t,e)}};(0,r.useEffect)(()=>{null!==l.current&&l.current.updateHandlers(u)}),Tw(a,"pointerdown",o&&function(t){l.current=new RN(t,u,{transformPagePoint:c})}),Mw(()=>l.current&&l.current.end())}),drag:Qw(function(t){const{dragControls:e,visualElement:n}=t,i=Xy(()=>new w_(n));(0,r.useEffect)(()=>e&&e.subscribe(i),[i,e]),(0,r.useEffect)(()=>i.addListeners(),[i])})};function N_(t){return"string"===typeof t&&t.startsWith("var(--")}const __=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function k_(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.');const[r,i]=function(t){const e=__.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():N_(i)?k_(i,e,n+1):i}function A_(t,e,n){let r=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(e),e));const i=t.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n=H({},n)),t.values.forEach(t=>{const e=t.get();if(!N_(e))return;const n=k_(e,i);n&&t.set(n)});for(const s in r){const t=r[s];if(!N_(t))continue;const e=k_(t,i);e&&(r[s]=e,n&&void 0===n[s]&&(n[s]=t))}return{target:r,transitionEnd:n}}const E_=new Set(["width","height","top","left","right","bottom","x","y"]),T_=t=>E_.has(t),C_=(t,e)=>{t.set(e,!1),t.set(e)},I_=t=>t===vb||t===Tb;var L_;!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(L_||(L_={}));const P_=(t,e)=>parseFloat(t.split(", ")[e]),D_=(t,e)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return P_(s[1],e);{const e=i.match(/^matrix\((.+)\)$/);return e?P_(e[1],t):0}},O_=new Set(["x","y","z"]),R_=lb.filter(t=>!O_.has(t));const M_={width:(t,e)=>{let{x:n}=t,{paddingLeft:r="0",paddingRight:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(t,e)=>{let{y:n}=t,{paddingTop:r="0",paddingBottom:i="0"}=e;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(t,e)=>{let{top:n}=e;return parseFloat(n)},left:(t,e)=>{let{left:n}=e;return parseFloat(n)},bottom:(t,e)=>{let{y:n}=t,{top:r}=e;return parseFloat(r)+(n.max-n.min)},right:(t,e)=>{let{x:n}=t,{left:r}=e;return parseFloat(r)+(n.max-n.min)},x:D_(4,13),y:D_(5,14)},j_=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=H({},e),r=H({},r);const i=Object.keys(e).filter(T_);let s=[],a=!1;const o=[];if(i.forEach(i=>{const l=t.getValue(i);if(!t.hasValue(i))return;let c=n[i],u=Gx(c);const h=e[i];let d;if(aw(h)){const t=h.length,e=null===h[0]?1:0;c=h[e],u=Gx(c);for(let n=e;n<t;n++)d?rS(Gx(h[n])):(d=Gx(h[n]),rS(d===u||I_(u)&&I_(d)))}else d=Gx(h);if(u!==d)if(I_(u)&&I_(d)){const t=l.get();"string"===typeof t&&l.set(parseFloat(t)),"string"===typeof h?e[i]=parseFloat(h):Array.isArray(h)&&d===Tb&&(e[i]=h.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===c||0===h)?0===c?l.set(d.transform(c)):e[i]=u.transform(h):(a||(s=function(t){const e=[];return R_.forEach(n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}(t),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:e[i],C_(l,h))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,i=((t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&e.setStaticValue("display",t.display||"block"),n.forEach(t=>{o[t]=M_[t](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(n=>{const r=e.getValue(n);C_(r,o[n]),t[n]=M_[n](l,s)}),t})(e,t,o);return s.length&&s.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),t.render(),Ry&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:e,transitionEnd:r}};function F_(t,e,n,r){return(t=>Object.keys(t).some(T_))(e)?j_(t,e,n,r):{target:e,transitionEnd:r}}const U_={current:null},B_={current:!1};const V_=["willChange"],z_=Object.keys(Yy),q_=z_.length,H_=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W_{constructor(t){let{parent:e,props:n,reducedMotionConfig:r,visualState:i}=t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>hx.render(this.render,!1,!0);const{latestValues:a,renderState:o}=i;this.latestValues=a,this.baseTarget=H({},a),this.initialValues=n.initial?H({},a):{},this.renderState=o,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=qy(n),this.isVariantNode=Hy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const l=this.scrapeMotionValuesFromProps(n),{willChange:c}=l,u=qb(l,V_);for(const h in u){const t=u[h];void 0!==a[h]&&hb(t)&&(t.set(a[h],!1),tS(c)&&c.add(h))}}scrapeMotionValuesFromProps(t){return{}}mount(t){var e;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=null===(e=this.parent)||void 0===e?void 0:e.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),B_.current||function(){if(B_.current=!0,Ry)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>U_.current=t.matches;t.addListener(e),e()}else U_.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||U_.current),this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,e,n;null===(t=this.projection)||void 0===t||t.unmount(),dx.update(this.notifyUpdate),dx.render(this.render),this.valueSubscriptions.forEach(t=>t()),null===(e=this.removeFromVariantTree)||void 0===e||e.call(this),null===(n=this.parent)||void 0===n||n.children.delete(this);for(const r in this.events)this.events[r].clear();this.current=null}bindToMotionValue(t,e){const n=cb.has(t),r=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&hx.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),i()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures(t,e,n,i,s,a){const o=[];for(let l=0;l<q_;l++){const e=z_[l],{isEnabled:n,Component:i}=Yy[e];n(t)&&i&&o.push((0,r.createElement)(i,H(H({key:e},t),{},{visualElement:this})))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:n,drag:r,dragConstraints:o,layoutScroll:l}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(r)||o&&Uy(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof n?n:"both",initialPromotionConfig:a,layoutScroll:l})}return o}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(t,this.props,e)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=t;for(let e=0;e<H_.length;e++){const n=H_[e];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=t["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(hb(s))t.addValue(i,s),tS(r)&&r.add(i);else if(hb(a))t.addValue(i,Sx(s,{owner:t})),tS(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const e=t.getValue(i);!e.hasAnimated&&e.set(s)}else{const e=t.getStaticValue(i);t.addValue(i,Sx(void 0!==e?e:s))}}for(const i in n)void 0===e[i]&&t.removeValue(i);return e}(this,this.scrapeMotionValuesFromProps(t),this.prevMotionValues)}getProps(){return this.props}getVariant(t){var e;return null===(e=this.props.variants)||void 0===e?void 0:e[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:null===(t=this.parent)||void 0===t?void 0:t.getClosestVariantNode()}getVariantContext(){var t,e;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return null===(t=this.parent)||void 0===t?void 0:t.getVariantContext();if(!this.isControllingVariants){const t=(null===(e=this.parent)||void 0===e?void 0:e.getVariantContext())||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const n={};for(let r=0;r<K_;r++){const t=G_[r],e=this.props[t];(By(e)||!1===e)&&(n[t]=e)}return n}addVariantChild(t){var e;const n=this.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),()=>n.variantChildren.delete(t)}addValue(t,e){this.hasValue(t)&&this.removeValue(t),this.values.set(t,e),this.latestValues[t]=e.get(),this.bindToMotionValue(t,e)}removeValue(t){var e;this.values.delete(t),null===(e=this.valueSubscriptions.get(t))||void 0===e||e(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=Sx(e,{owner:this}),this.addValue(t,n)),n}readValue(t){return void 0===this.latestValues[t]&&this.current?this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(e=sw(this.props,n))||void 0===e?void 0:e[t]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||hb(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new bx),this.events[t].add(e)}notify(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(e=this.events[t])||void 0===e||e.notify(...r)}}const G_=["initial",...AN],K_=G_.length,Y_=["transition","transitionEnd"];class X_ extends W_{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]}removeValueFromRenderState(t,e){let{vars:n,style:r}=e;delete n[t],delete r[t]}makeTargetAnimatableFromInstance(t,e,n){let{transition:r,transitionEnd:i}=t,s=qb(t,Y_),{transformValues:a}=e,o=function(t,e,n){var r;const i={};for(const s in t){const t=Zx(s,e);i[s]=void 0!==t?t:null===(r=n.getValue(s))||void 0===r?void 0:r.get()}return i}(s,r||{},this);if(a&&(i&&(i=a(i)),s&&(s=a(s)),o&&(o=a(o))),n){!function(t,e,n){var r,i;const s=Object.keys(e).filter(e=>!t.hasValue(e)),a=s.length;if(a)for(let o=0;o<a;o++){const a=s[o],l=e[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:t.readValue(a))&&void 0!==i?i:e[a]),void 0!==c&&null!==c&&("string"===typeof c&&(tx(c)||ex(c))?c=parseFloat(c):!Yx(c)&&Mx.test(l)&&(c=qx(a,l)),t.addValue(a,Sx(c,{owner:t})),void 0===n[a]&&(n[a]=c),null!==c&&t.setBaseTarget(a,c))}}(this,s,o);const t=((t,e,n,r)=>{const i=A_(t,e,r);return F_(t,e=i.target,n,r=i.transitionEnd)})(this,s,o,i);i=t.transitionEnd,s=t.target}return H({transition:r,transitionEnd:i},s)}}class Q_ extends X_{readValueFromInstance(t,e){if(cb.has(e)){const t=zx(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(pb(e)?r.getPropertyValue(e):r[e])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(t,e){let{transformPagePoint:n}=e;return y_(t,n)}build(t,e,n,r){Ob(t,e,n,r.transformTemplate)}scrapeMotionValuesFromProps(t){return rw(t)}renderInstance(t,e,n,r){tw(t,e,n,r)}}class J_ extends X_{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){var n;return cb.has(e)?(null===(n=zx(e))||void 0===n?void 0:n.default)||0:(e=ew.has(e)?e:Zb(e),t.getAttribute(e))}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(t){return iw(t)}build(t,e,n,r){Yb(t,e,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,n,r){nw(t,e,0,r)}mount(t){this.isSVGTag=Qb(t.tagName),super.mount(t)}}const $_=(t,e)=>ab(t)?new J_(e,{enableHardwareAcceleration:!1}):new Q_(e,{enableHardwareAcceleration:!0});function Z_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tk={correct:(t,e)=>{if(!e.target)return t;if("string"===typeof t){if(!Tb.test(t))return t;t=parseFloat(t)}const n=Z_(t,e.target.x),r=Z_(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},ek="_$css",nk={correct:(t,e)=>{let{treeScale:n,projectionDelta:r}=e;const i=t,s=t.includes("var("),a=[];s&&(t=t.replace(__,t=>(a.push(t),ek)));const o=Mx.parse(t);if(o.length>5)return i;const l=Mx.createTransformer(t),c="number"!==typeof o[0]?1:0,u=r.x.scale*n.x,h=r.y.scale*n.y;o[0+c]/=u,o[1+c]/=h;const d=hS(u,h,.5);"number"===typeof o[2+c]&&(o[2+c]/=d),"number"===typeof o[3+c]&&(o[3+c]/=d);let f=l(o);if(s){let t=0;f=f.replace(ek,()=>{const e=a[t];return t++,e})}return f}};class rk extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var s;s=ik,Object.assign(ob,s),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(H(H({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Qy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||t.layoutDependency!==e||void 0===e?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||hx.postRender(()=>{var t;(null===(t=s.getStack())||void 0===t?void 0:t.members.length)||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),(null===e||void 0===e?void 0:e.group)&&e.group.remove(r),(null===n||void 0===n?void 0:n.deregister)&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;null===t||void 0===t||t()}render(){return null}}const ik={borderRadius:H(H({},tk),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:tk,borderTopRightRadius:tk,borderBottomLeftRadius:tk,borderBottomRightRadius:tk,boxShadow:nk},sk={measureLayout:function(t){const[e,n]=$w(),i=(0,r.useContext)($y);return r.createElement(rk,H(H({},t),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(tb),isPresent:e,safeToRemove:n}))}};const ak=["TopLeft","TopRight","BottomLeft","BottomRight"],ok=ak.length,lk=t=>"string"===typeof t?parseFloat(t):t,ck=t=>"number"===typeof t||Tb.test(t);function uk(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const hk=fk(0,.5,CS),dk=fk(.5,.95,kS);function fk(t,e,n){return r=>r<t?0:r>e?1:n(xS(t,e,r))}function pk(t,e){t.min=e.min,t.max=e.max}function mk(t,e){pk(t.x,e.x),pk(t.y,e.y)}function gk(t,e,n,r,i){return t=l_(t-=e,1/n,r),void 0!==i&&(t=l_(t,1/i,r)),t}function vk(t,e,n,r,i){let[s,a,o]=n;!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:t;Eb.test(e)&&(e=parseFloat(e),e=hS(a.min,a.max,e/100)-a.min);if("number"!==typeof e)return;let o=hS(s.min,s.max,r);t===s&&(o-=e),t.min=gk(t.min,e,n,o,i),t.max=gk(t.max,e,n,o,i)}(t,e[s],e[a],e[o],e.scale,r,i)}const yk=["x","scaleX","originX"],bk=["y","scaleY","originY"];function wk(t,e,n,r){vk(t.x,e,yk,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),vk(t.y,e,bk,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function xk(t){return 0===t.translate&&1===t.scale}function Sk(t){return xk(t.x)&&xk(t.y)}function Nk(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function _k(t){return zN(t.x)/zN(t.y)}class kk{constructor(){this.members=[]}add(t){vx(this.members,t),t.scheduleRender()}remove(t){if(yx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex(e=>t===e);if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){var n;const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),(null===(n=t.root)||void 0===n?void 0:n.isUpdating)&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;!1===i&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var e,n,r,i,s;null===(n=(e=t.options).onExitComplete)||void 0===n||n.call(e),null===(s=null===(r=t.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===s||s.call(i)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ak(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===e.x&&1===e.y||(r+="scale(".concat(1/e.x,", ").concat(1/e.y,") ")),n){const{rotate:t,rotateX:e,rotateY:i}=n;t&&(r+="rotate(".concat(t,"deg) ")),e&&(r+="rotateX(".concat(e,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const a=t.x.scale*e.x,o=t.y.scale*e.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const Ek=(t,e)=>t.depth-e.depth;class Tk{constructor(){this.children=[],this.isDirty=!1}add(t){vx(this.children,t),this.isDirty=!0}remove(t){yx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ek),this.isDirty=!1,this.children.forEach(t)}}const Ck=["","X","Y","Z"];let Ik=0;function Lk(t){let{attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=t;return class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();this.id=Ik++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Ok),this.nodes.forEach(Uk),this.nodes.forEach(Bk)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tk)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new bx),this.eventHandlers.get(t).add(e)}notifyListeners(t){const e=this.eventHandlers.get(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===e||void 0===e||e.notify(...r)}hasListeners(t){return this.eventHandlers.has(t)}registerPotentialNode(t,e){this.potentialNodes.set(t,e)}mount(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;const{layoutId:i,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),n&&(s||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=rN(r,250),Qy.hasAnimatedSinceResize&&(Qy.hasAnimatedSinceResize=!1,this.nodes.forEach(Fk))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||s)&&this.addEventListener("didUpdate",t=>{let{delta:e,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=t;var s,o,l,c,u;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const h=null!==(o=null!==(s=this.options.transition)&&void 0!==s?s:a.getDefaultTransition())&&void 0!==o?o:Gk,{onLayoutAnimationStart:d,onLayoutAnimationComplete:f}=a.getProps(),p=!this.targetLayout||!Nk(this.targetLayout,i)||r,m=!n&&r;if((null===(l=this.resumeFrom)||void 0===l?void 0:l.instance)||m||n&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,m);const t=H(H({},pN(h,"layout")),{},{onPlay:d,onComplete:f});a.shouldReduceMotion&&(t.delay=0,t.type=!1),this.startAnimation(t)}else n||0!==this.animationProgress||Fk(this),this.isLead()&&(null===(u=(c=this.options).onExitComplete)||void 0===u||u.call(c));this.targetLayout=i})}unmount(){var t,e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(e=this.parent)||void 0===e||e.children.delete(this),this.instance=void 0,dx.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var t;return this.isAnimationBlocked||(null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimationBlocked())||!1}startUpdate(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(Vk),this.animationId++)}willUpdate(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,n,r;if(this.root.isUpdateBlocked())return void(null===(n=(e=this.options).onExitComplete)||void 0===n||n.call(e));if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const t=this.path[o];t.shouldResetTransform=!0,t.updateScroll("snapshot")}const{layoutId:i,layout:s}=this.options;if(void 0===i&&!s)return;const a=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===a||void 0===a?void 0:a(this.latestValues,""),this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Mk);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Kk),this.potentialNodes.clear()),this.nodes.forEach(jk),this.nodes.forEach(Pk),this.nodes.forEach(Dk),this.clearAllSnapshots(),fx.update(),fx.preRender(),fx.render())}clearAllSnapshots(){this.nodes.forEach(Rk),this.sharedNodes.forEach(zk)}scheduleUpdateProjection(){hx.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){hx.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){var t;if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),null===(t=this.options.visualElement)||void 0===t||t.notify("LayoutMeasure",this.layout.layoutBox,null===e||void 0===e?void 0:e.layoutBox)}updateScroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){var t;if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Sk(this.projectionDelta),r=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),a=i!==this.prevTransformTemplateValue;e&&(n||s_(this.latestValues)||a)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),Yk((r=n).x),Yk(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const e=t.measureViewportBox(),{scroll:n}=this.root;return n&&(f_(e.x,n.offset.x),f_(e.y,n.offset.y)),e}removeElementScroll(t){const e={x:{min:0,max:0},y:{min:0,max:0}};mk(e,t);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){mk(e,t);const{scroll:n}=this.root;n&&(f_(e.x,-n.offset.x),f_(e.y,-n.offset.y))}f_(e.x,i.offset.x),f_(e.y,i.offset.y)}}return e}applyTransform(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};mk(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&v_(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),s_(t.latestValues)&&v_(n,t.latestValues)}return s_(this.latestValues)&&v_(n,this.latestValues),n}removeTransform(t){var e;const n={x:{min:0,max:0},y:{min:0,max:0}};mk(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];if(!t.instance)continue;if(!s_(t.latestValues))continue;i_(t.latestValues)&&t.updateSnapshot();const i=t_();mk(i,t.measurePageBox()),wk(n,t.latestValues,null===(e=t.snapshot)||void 0===e?void 0:e.layoutBox,i)}return s_(this.latestValues)&&wk(n,this.latestValues),n}setTargetDelta(t){this.targetDelta=t,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(t){this.options=H(H(H({},this.options),t),{},{crossfade:void 0===t.crossfade||t.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var t;const e=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:n,layoutId:r}=this.options;if(this.layout&&(n||r)){if(!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout?(this.relativeParent=t,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},YN(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),mk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var i,s,a;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(t=this.relativeParent)||void 0===t?void 0:t.target)?(i=this.target,s=this.relativeTarget,a=this.relativeParent.target,GN(i.x,s.x,a.x),GN(i.y,s.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):mk(this.target,this.layout.layoutBox),h_(this.target,this.targetDelta)):mk(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target?(this.relativeParent=t,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},YN(this.relativeTargetOrigin,this.target,t.target),mk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!i_(this.parent.latestValues)&&!a_(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var t;const{isProjectionDirty:e,isTransformDirty:n}=this;this.isProjectionDirty=this.isTransformDirty=!1;const r=this.getLead(),i=Boolean(this.resumingFrom)||this!==r;let s=!0;if(e&&(s=!1),i&&n&&(s=!1),s)return;const{layout:a,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!o)return;mk(this.layoutCorrected,this.layout.layoutBox),function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i,s;const a=n.length;if(!a)return;let o,l;e.x=e.y=1;for(let c=0;c<a;c++)o=n[c],l=o.projectionDelta,"contents"!==(null===(s=null===(i=o.instance)||void 0===i?void 0:i.style)||void 0===s?void 0:s.display)&&(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&v_(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,h_(t,l)),r&&s_(o.latestValues)&&v_(t,o.latestValues));e.x=d_(e.x),e.y=d_(e.y)}(this.layoutCorrected,this.treeScale,this.path,i);const{target:l}=r;if(!l)return;this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.treeScale.x,u=this.treeScale.y,h=this.projectionTransform;WN(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Ak(this.projectionDelta,this.treeScale),this.projectionTransform===h&&this.treeScale.x===c&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,n,r;null===(n=(e=this.options).scheduleRender)||void 0===n||n.call(e),t&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,r;const i=this.snapshot,s=(null===i||void 0===i?void 0:i.latestValues)||{},a=H({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e;const l={x:{min:0,max:0},y:{min:0,max:0}},c=(null===i||void 0===i?void 0:i.source)!==(null===(n=this.layout)||void 0===n?void 0:n.source),u=((null===(r=this.getStack())||void 0===r?void 0:r.members.length)||0)<=1,h=Boolean(c&&!u&&!0===this.options.crossfade&&!this.path.some(Wk));this.animationProgress=0,this.mixTargetDelta=e=>{var n;const r=e/1e3;qk(o.x,t.x,r),qk(o.y,t.y,r),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(null===(n=this.relativeParent)||void 0===n?void 0:n.layout)&&(YN(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(t,e,n,r){Hk(t.x,e.x,n.x,r),Hk(t.y,e.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,l,r)),c&&(this.animationValues=a,function(t,e,n,r,i,s){i?(t.opacity=hS(0,void 0!==n.opacity?n.opacity:1,hk(r)),t.opacityExit=hS(void 0!==e.opacity?e.opacity:1,0,dk(r))):s&&(t.opacity=hS(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ok;a++){const i="border".concat(ak[a],"Radius");let s=uk(e,i),o=uk(n,i);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||ck(s)===ck(o)?(t[i]=Math.max(hS(lk(s),lk(o),r),0),(Eb.test(o)||Eb.test(s))&&(t[i]+="%")):t[i]=o)}(e.rotate||n.rotate)&&(t.rotate=hS(e.rotate||0,n.rotate||0,r))}(a,s,this.latestValues,r,h,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(0)}startAnimation(t){var e,n;this.notifyListeners("animationStart"),null===(e=this.currentAnimation)||void 0===e||e.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(dx.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hx.update(()=>{Qy.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=hb(t)?t:Sx(t);return r.start(bN("",r,e,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}(0,1e3,H(H({},t),{},{onUpdate:e=>{var n;this.mixTargetDelta(e),null===(n=t.onUpdate)||void 0===n||n.call(t,e)},onComplete:()=>{var e;null===(e=t.onComplete)||void 0===e||e.call(t),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(t=this.getStack())||void 0===t||t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&Xk(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const e=zN(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=zN(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}mk(e,n),v_(e,i),WN(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){var n,r,i;this.sharedNodes.has(t)||this.sharedNodes.set(t,new kk);this.sharedNodes.get(t).add(e),e.promote({transition:null===(n=e.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=e.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,e)})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote(){let{needsReset:t,transition:e,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(e=!0),!e)return;const r={};for(let i=0;i<Ck.length;i++){const e="rotate"+Ck[i];n[e]&&(r[e]=n[e],t.setStaticValue(e,0))}null===t||void 0===t||t.render();for(const i in r)t.setStaticValue(i,r[i]);t.scheduleRender()}getProjectionStyles(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e,n,r;const i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";const s=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=lw(t.pointerEvents)||"",i.transform=s?s(this.latestValues,""):"none",i;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=lw(t.pointerEvents)||""),this.hasProjected&&!s_(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1),e}const o=a.animationValues||a.latestValues;this.applyTransformsToTarget(),i.transform=Ak(this.projectionDeltaWithTransform,this.treeScale,o),s&&(i.transform=s(o,i.transform));const{x:l,y:c}=this.projectionDelta;i.transformOrigin="".concat(100*l.origin,"% ").concat(100*c.origin,"% 0"),a.animationValues?i.opacity=a===this?null!==(r=null!==(n=o.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:i.opacity=a===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in ob){if(void 0===o[u])continue;const{correct:t,applyTo:e}=ob[u],n=t(o[u],a);if(e){const t=e.length;for(let r=0;r<t;r++)i[e[r]]=n}else i[u]=n}return this.options.layoutId&&(i.pointerEvents=a===this?lw(t.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(Mk),this.root.sharedNodes.clear()}}}function Pk(t){t.updateLayout()}function Dk(t){var e,n,r;const i=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=t.layout,{animationType:r}=t.options,s=i.source!==t.layout.source;"size"===r?e_(t=>{const n=s?i.measuredBox[t]:i.layoutBox[t],r=zN(n);n.min=e[t].min,n.max=n.min+r}):Xk(r,i.layoutBox,e)&&e_(t=>{const n=s?i.measuredBox[t]:i.layoutBox[t],r=zN(e[t]);n.max=n.min+r});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};WN(a,e,i.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?WN(o,t.applyTransform(n,!0),i.measuredBox):WN(o,e,i.layoutBox);const l=!Sk(a);let c=!1;if(!t.resumeFrom){const n=t.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:t,layout:r}=n;if(t&&r){const n={x:{min:0,max:0},y:{min:0,max:0}};YN(n,i.layoutBox,t.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};YN(s,e,r.layoutBox),Nk(n,s)||(c=!0)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:i,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else t.isLead()&&(null===(r=(n=t.options).onExitComplete)||void 0===r||r.call(n));t.options.transition=void 0}function Ok(t){t.isProjectionDirty||(t.isProjectionDirty=Boolean(t.parent&&t.parent.isProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=Boolean(t.parent&&t.parent.isTransformDirty))}function Rk(t){t.clearSnapshot()}function Mk(t){t.clearMeasurements()}function jk(t){const{visualElement:e}=t.options;(null===e||void 0===e?void 0:e.getProps().onBeforeLayoutMeasure)&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Uk(t){t.resolveTargetDelta()}function Bk(t){t.calcProjection()}function Vk(t){t.resetRotation()}function zk(t){t.removeLeadSnapshot()}function qk(t,e,n){t.translate=hS(e.translate,0,n),t.scale=hS(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hk(t,e,n,r){t.min=hS(e.min,n.min,r),t.max=hS(e.max,n.max,r)}function Wk(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Gk={duration:.45,ease:[.4,0,.1,1]};function Kk(t,e){let n=t.root;for(let i=t.path.length-1;i>=0;i--)if(Boolean(t.path[i].instance)){n=t.path[i];break}const r=(n&&n!==t.root?n.instance:document).querySelector('[data-projection-id="'.concat(e,'"]'));r&&t.mount(r,!0)}function Yk(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Xk(t,e,n){return"position"===t||"preserve-aspect"===t&&!qN(_k(e),_k(n),.2)}const Qk=Lk({attachResizeListener:(t,e)=>mw(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jk={current:void 0},$k=Lk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jk.current){const t=new Qk(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Jk.current=t}return Jk.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Zk=H(H(H(H({},DN),Jw),S_),sk),tA=ib((t,e)=>function(t,e,n,r,i){let{forwardMotionProps:s=!1}=e;return H(H({},ab(t)?dw:fw),{},{preloadedFeatures:n,useRender:$b(s),createVisualElement:r,projectionNodeConstructor:i,Component:t})}(t,e,Zk,$_,$k));var eA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nA=["color","size","strokeWidth","absoluteStrokeWidth","children"];var rA=(t,e)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,u=qb(n,nA);return(0,r.createElement)("svg",H(H({ref:i},eA),{},{width:a,height:a,stroke:s,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((h=t,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...e.map(t=>{let[e,n]=t;return(0,r.createElement)(e,n)}),...(Array.isArray(c)?c:[c])||[]]);var h});return n.displayName="".concat(t),n};const iA=rA("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),sA=rA("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),aA=rA("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),oA=t=>{let{onComplete:e}=t;const[n,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{const t=setInterval(()=>{i(n=>n>=100?(clearInterval(t),setTimeout(()=>e(),500),100):n+2)},50);return()=>clearInterval(t)},[e]),(0,Ay.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center z-50",children:(0,Ay.jsxs)("div",{className:"text-center text-white",children:[(0,Ay.jsx)(tA.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1,ease:"easeOut"},className:"mb-8",children:(0,Ay.jsxs)("div",{className:"relative",children:[(0,Ay.jsx)("div",{className:"w-24 h-24 mx-auto bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:(0,Ay.jsx)(iA,{size:48,className:"text-white"})}),(0,Ay.jsx)(tA.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 w-8 h-8 bg-warning-400 rounded-full flex items-center justify-center",children:(0,Ay.jsx)(sA,{size:16,className:"text-white"})})]})}),(0,Ay.jsx)(tA.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-4xl font-bold mb-2",children:"AttendanceHub"}),(0,Ay.jsx)(tA.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"text-xl text-white/80 mb-8",children:"Smart Office Attendance System"}),(0,Ay.jsxs)(tA.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.6},className:"flex justify-center space-x-8 mb-12",children:[(0,Ay.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ay.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mb-2",children:(0,Ay.jsx)(aA,{size:24,className:"text-white"})}),(0,Ay.jsx)("span",{className:"text-sm text-white/70",children:"GPS Tracking"})]}),(0,Ay.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ay.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mb-2",children:(0,Ay.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ay.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})})}),(0,Ay.jsx)("span",{className:"text-sm text-white/70",children:"Biometric"})]}),(0,Ay.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Ay.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mb-2",children:(0,Ay.jsx)(sA,{size:24,className:"text-white"})}),(0,Ay.jsx)("span",{className:"text-sm text-white/70",children:"Real-time"})]})]}),(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"w-64 mx-auto",children:[(0,Ay.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,Ay.jsx)("span",{children:"Loading..."}),(0,Ay.jsxs)("span",{children:[n,"%"]})]}),(0,Ay.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,Ay.jsx)(tA.div,{className:"bg-white h-2 rounded-full",initial:{width:0},animate:{width:"".concat(n,"%")},transition:{duration:.1}})})]}),(0,Ay.jsx)(tA.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.5},className:"mt-8",children:(0,Ay.jsx)("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(t=>(0,Ay.jsx)(tA.div,{className:"w-2 h-2 bg-white rounded-full",animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,delay:.2*t}},t))})})]})})},lA=rA("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),cA=rA("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),uA=rA("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),hA=rA("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dA=rA("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fA=()=>{const[t,e]=(0,r.useState)(!0),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)({email:"",password:"",displayName:""}),{firebase:c,loading:u,error:h}=Ty(),d=t=>{l(e=>H(H({},e),{},{[t.target.name]:t.target.value}))};return u?(0,Ay.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:(0,Ay.jsxs)("div",{className:"text-center text-white",children:[(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,Ay.jsx)("p",{children:"Loading authentication..."})]})}):h?(0,Ay.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:(0,Ay.jsxs)("div",{className:"text-center text-white",children:[(0,Ay.jsx)("div",{className:"text-red-300 mb-4",children:"Authentication Error"}),(0,Ay.jsx)("p",{children:"Please check your Firebase configuration"}),(0,Ay.jsx)("p",{className:"text-sm mt-2",children:h.message})]})}):(0,Ay.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,Ay.jsxs)("div",{className:"bg-primary-600 px-8 py-6 text-center",children:[(0,Ay.jsx)(tA.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Ay.jsx)(iA,{size:32,className:"text-white"})}),(0,Ay.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"AttendanceHub"}),(0,Ay.jsx)("p",{className:"text-primary-100",children:"Smart Office Attendance System"})]}),(0,Ay.jsxs)("div",{className:"px-8 py-6",children:[(0,Ay.jsxs)("div",{className:"text-center mb-6",children:[(0,Ay.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:t?"Welcome Back":"Create Account"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:t?"Sign in to your account":"Join our attendance system"})]}),(0,Ay.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==c&&void 0!==c&&c.auth){a(!0);try{if(t)await(n=c.auth,r=o.email,i=o.password,Gn(I(n),Ln.credential(r,i))),_s.success("Welcome back!");else{const t=await async function(t,e,n){var r;const i=vn(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const t=await pn(i,s,"signUpPassword");a=Fn(i,t)}else a=Fn(i,s).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const t=await pn(i,s,"signUpPassword");return Fn(i,t)}return Promise.reject(t)});const o=await a.catch(t=>Promise.reject(t)),l=await Un._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(c.auth,o.email,o.password);o.displayName&&await Kn(t.user,{displayName:o.displayName}),_s.success("Account created successfully!")}}catch(s){console.error("Auth error:",s);let t="An error occurred";switch(s.code){case"auth/user-not-found":t="No account found with this email";break;case"auth/wrong-password":t="Incorrect password";break;case"auth/email-already-in-use":t="Email is already registered";break;case"auth/weak-password":t="Password should be at least 6 characters";break;case"auth/invalid-email":t="Invalid email address";break;default:t=s.message}_s.error(t)}finally{a(!1)}var n,r,i}else _s.error("Authentication service not available. Please wait and try again.")},className:"space-y-4",children:[!t&&(0,Ay.jsxs)(tA.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,Ay.jsxs)("div",{className:"relative",children:[(0,Ay.jsx)(lA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,Ay.jsx)("input",{type:"text",name:"displayName",value:o.displayName,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name",required:!t})]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Ay.jsxs)("div",{className:"relative",children:[(0,Ay.jsx)(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,Ay.jsx)("input",{type:"email",name:"email",value:o.email,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Ay.jsxs)("div",{className:"relative",children:[(0,Ay.jsx)(uA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,Ay.jsx)("input",{type:n?"text":"password",name:"password",value:o.password,onChange:d,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),(0,Ay.jsx)("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?(0,Ay.jsx)(hA,{size:20}):(0,Ay.jsx)(dA,{size:20})})]})]}),(0,Ay.jsx)(tA.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s?(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):t?"Sign In":"Create Account"})]}),(0,Ay.jsx)("div",{className:"mt-6 text-center",children:(0,Ay.jsxs)("p",{className:"text-gray-600",children:[t?"Don't have an account?":"Already have an account?",(0,Ay.jsx)("button",{onClick:()=>e(!t),className:"ml-2 text-primary-600 hover:text-primary-700 font-medium",children:t?"Sign Up":"Sign In"})]})}),(0,Ay.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,Ay.jsx)("p",{className:"text-xs text-gray-600 text-center mb-2",children:"Demo Credentials:"}),(0,Ay.jsx)("p",{className:"text-xs text-gray-600 text-center",children:"Email: demo@company.com"}),(0,Ay.jsx)("p",{className:"text-xs text-gray-600 text-center",children:"Password: demo123"})]})]})]})})},pA=rA("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),mA=rA("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),gA=rA("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),vA=rA("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yA=rA("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),bA=t=>{let{activeTab:e,setActiveTab:n,user:r}=t;const{firebase:i}=Ty(),s=[{id:"dashboard",label:"Dashboard",icon:pA},{id:"calendar",label:"Calendar",icon:mA},{id:"reports",label:"Reports",icon:gA},{id:"settings",label:"Settings",icon:vA}];return(0,Ay.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Ay.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Ay.jsx)("div",{className:"flex items-center",children:(0,Ay.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,Ay.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center mr-3",children:(0,Ay.jsx)(pA,{className:"text-white",size:20})}),(0,Ay.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"AttendanceHub"})]})}),(0,Ay.jsx)("div",{className:"hidden md:block",children:(0,Ay.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:s.map(t=>{const r=t.icon,i=e===t.id;return(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(t.id),className:"\n                      flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200\n                      ".concat(i?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50","\n                    "),children:[(0,Ay.jsx)(r,{className:"mr-2",size:16}),t.label]},t.id)})})}),(0,Ay.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ay.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ay.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Ay.jsx)(lA,{className:"text-gray-600",size:16})}),(0,Ay.jsx)("div",{className:"hidden md:block",children:(0,Ay.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===r||void 0===r?void 0:r.displayName)||(null===r||void 0===r?void 0:r.email)})})]}),(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{try{await(t=i.auth,I(t).signOut()),_s.success("Signed out successfully")}catch(e){console.error("Error signing out:",e),_s.error("Failed to sign out")}var t},className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors duration-200",children:[(0,Ay.jsx)(yA,{className:"mr-2",size:16}),(0,Ay.jsx)("span",{className:"hidden md:inline",children:"Sign Out"})]})]})]}),(0,Ay.jsx)("div",{className:"md:hidden",children:(0,Ay.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:s.map(t=>{const r=t.icon,i=e===t.id;return(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(t.id),className:"\n                    flex items-center w-full px-3 py-2 rounded-md text-base font-medium transition-colors duration-200\n                    ".concat(i?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50","\n                  "),children:[(0,Ay.jsx)(r,{className:"mr-3",size:20}),t.label]},t.id)})})})]})})},wA=rA("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xA=rA("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var SA=n(2284);function NA(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function _A(t){NA(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===(0,SA.A)(t)&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function kA(t){if(NA(1,arguments),!function(t){return NA(1,arguments),t instanceof Date||"object"===(0,SA.A)(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!==typeof t)return!1;var e=_A(t);return!isNaN(Number(e))}function AA(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function EA(t,e){return NA(2,arguments),function(t,e){NA(2,arguments);var n=_A(t).getTime(),r=AA(e);return new Date(n+r)}(t,-AA(e))}function TA(t){NA(1,arguments);var e=_A(t),n=e.getUTCDay(),r=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function CA(t){NA(1,arguments);var e=_A(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=TA(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var a=TA(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function IA(t){NA(1,arguments);var e=_A(t),n=TA(e).getTime()-function(t){NA(1,arguments);var e=CA(t),n=new Date(0);return n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0),TA(n)}(e).getTime();return Math.round(n/6048e5)+1}var LA={};function PA(){return LA}function DA(t,e){var n,r,i,s,a,o,l,c;NA(1,arguments);var u=PA(),h=AA(null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==s?s:null===e||void 0===e||null===(a=e.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=_A(t),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function OA(t,e){var n,r,i,s,a,o,l,c;NA(1,arguments);var u=_A(t),h=u.getUTCFullYear(),d=PA(),f=AA(null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==s?s:null===e||void 0===e||null===(a=e.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=DA(p,e),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var v=DA(g,e);return u.getTime()>=m.getTime()?h+1:u.getTime()>=v.getTime()?h:h-1}function RA(t,e){NA(1,arguments);var n=_A(t),r=DA(n,e).getTime()-function(t,e){var n,r,i,s,a,o,l,c;NA(1,arguments);var u=PA(),h=AA(null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==s?s:null===e||void 0===e||null===(a=e.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),d=OA(t,e),f=new Date(0);return f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0),DA(f,e)}(n,e).getTime();return Math.round(r/6048e5)+1}function MA(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}const jA={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return MA("yy"===e?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):MA(n+1,2)},d:function(t,e){return MA(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return MA(t.getUTCHours()%12||12,e.length)},H:function(t,e){return MA(t.getUTCHours(),e.length)},m:function(t,e){return MA(t.getUTCMinutes(),e.length)},s:function(t,e){return MA(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds();return MA(Math.floor(r*Math.pow(10,n-3)),e.length)}};var FA="midnight",UA="noon",BA="morning",VA="afternoon",zA="evening",qA="night",HA={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return jA.y(t,e)},Y:function(t,e,n,r){var i=OA(t,r),s=i>0?i:1-i;return"YY"===e?MA(s%100,2):"Yo"===e?n.ordinalNumber(s,{unit:"year"}):MA(s,e.length)},R:function(t,e){return MA(CA(t),e.length)},u:function(t,e){return MA(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return MA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return MA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return jA.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return MA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=RA(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):MA(i,e.length)},I:function(t,e,n){var r=IA(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):MA(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):jA.d(t,e)},D:function(t,e,n){var r=function(t){NA(1,arguments);var e=_A(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=n-e.getTime();return Math.floor(r/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):MA(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return MA(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return MA(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return MA(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getUTCHours();switch(r=12===i?UA:0===i?FA:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getUTCHours();switch(r=i>=17?zA:i>=12?VA:i>=4?BA:qA,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jA.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):jA.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):MA(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):MA(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):jA.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):jA.s(t,e)},S:function(t,e){return jA.S(t,e)},X:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();if(0===i)return"Z";switch(e){case"X":return GA(i);case"XXXX":case"XX":return KA(i);default:return KA(i,":")}},x:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return GA(i);case"xxxx":case"xx":return KA(i);default:return KA(i,":")}},O:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WA(i,":");default:return"GMT"+KA(i,":")}},z:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WA(i,":");default:return"GMT"+KA(i,":")}},t:function(t,e,n,r){var i=r._originalDate||t;return MA(Math.floor(i.getTime()/1e3),e.length)},T:function(t,e,n,r){return MA((r._originalDate||t).getTime(),e.length)}};function WA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(0===s)return n+String(i);var a=e||"";return n+String(i)+a+MA(s,2)}function GA(t,e){return t%60===0?(t>0?"-":"+")+MA(Math.abs(t)/60,2):KA(t,e)}function KA(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t);return r+MA(Math.floor(i/60),2)+n+MA(i%60,2)}const YA=HA;var XA=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},QA=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},JA={p:QA,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return XA(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",XA(i,e)).replace("{{time}}",QA(s,e))}};const $A=JA;var ZA=["D","DD"],tE=["YY","YYYY"];function eE(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const rE=function(t,e,n){var r,i=nE[t];return r="string"===typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function iE(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const sE={date:iE({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:iE({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:iE({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var aE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const oE=function(t,e,n,r){return aE[t]};function lE(t){return function(e,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;r=t.formattingValues[s]||t.formattingValues[i]}else{var a=t.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}var cE={ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lE({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lE({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:lE({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lE({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lE({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function uE(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var a,o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return}(l,function(t){return t.test(o)}):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n;return}(l,function(t){return t.test(o)});return a=t.valueCallback?t.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:e.slice(o.length)}}}var hE;const dE={code:"en-US",formatDistance:rE,formatLong:sE,formatRelative:oE,localize:cE,match:{ordinalNumber:(hE={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(hE.matchPattern);if(!n)return null;var r=n[0],i=t.match(hE.parsePattern);if(!i)return null;var s=hE.valueCallback?hE.valueCallback(i[0]):i[0];return{value:s=e.valueCallback?e.valueCallback(s):s,rest:t.slice(r.length)}}),era:uE({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:uE({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:uE({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:uE({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:uE({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var fE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mE=/^'([^]*?)'?$/,gE=/''/g,vE=/[a-zA-Z]/;function yE(t,e,n){var r,i,s,a,o,l,c,u,h,d,f,p,m,g,v,y,b,w;NA(2,arguments);var x=String(e),S=PA(),N=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:S.locale)&&void 0!==r?r:dE,_=AA(null!==(s=null!==(a=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==o?o:S.firstWeekContainsDate)&&void 0!==a?a:null===(h=S.locale)||void 0===h||null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=AA(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==p?p:null===(b=S.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var A=_A(t);if(!kA(A))throw new RangeError("Invalid time value");var E=function(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}(A),T=EA(A,E),C={firstWeekContainsDate:_,weekStartsOn:k,locale:N,_originalDate:A};return x.match(pE).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,$A[e])(t,N.formatLong):t}).join("").match(fE).map(function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(t){var e=t.match(mE);if(!e)return t;return e[1].replace(gE,"'")}(r);var s,a=YA[i];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(s=r,-1===tE.indexOf(s))||eE(r,e,String(t)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(t){return-1!==ZA.indexOf(t)}(r)||eE(r,e,String(t)),a(T,r,N.localize,C);if(i.match(vE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r}).join("")}const bE=()=>{const[t,e]=(0,r.useState)({latitude:null,longitude:null,error:null,loading:!0}),n=()=>{e(t=>H(H({},t),{},{loading:!0,error:null})),navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{e({latitude:t.coords.latitude,longitude:t.coords.longitude,error:null,loading:!1})},t=>{let n="Unable to retrieve location";switch(t.code){case t.PERMISSION_DENIED:n="Location access denied by user";break;case t.POSITION_UNAVAILABLE:n="Location information unavailable";break;case t.TIMEOUT:n="Location request timed out";break;default:n="An unknown error occurred"}e(t=>H(H({},t),{},{error:n,loading:!1}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):e(t=>H(H({},t),{},{error:"Geolocation is not supported by this browser",loading:!1}))};return(0,r.useEffect)(()=>{n()},[]),H(H({},t),{},{getCurrentLocation:n})},wE=()=>{const[t,e]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),s=()=>new Promise(t=>{setTimeout(()=>{e(!1);if(Math.random()>.1)t({success:!0,method:"mock"});else{const e="Fingerprint not recognized. Please try again.";i(e),t({success:!1,error:e})}},2e3)});return{authenticateFingerprint:async()=>{e(!0),i(null);try{if(!window.PublicKeyCredential)throw new Error("WebAuthn is not supported in this browser");if(!await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable())return await s();const t=await navigator.credentials.create({publicKey:{challenge:new Uint8Array(32),rp:{name:"Office Attendance System",id:window.location.hostname},user:{id:new Uint8Array(16),name:"user@company.com",displayName:"Office User"},pubKeyCredParams:[{type:"public-key",alg:-7}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"direct"}});if(t)return e(!1),{success:!0,credential:t};throw new Error("Authentication failed")}catch(WT){return console.error("Fingerprint authentication error:",WT),i(WT.message),e(!1),{success:!1,error:WT.message}}},verifyFingerprint:async()=>{e(!0),i(null);try{if(!window.PublicKeyCredential)return await s();const t=await navigator.credentials.get({publicKey:{challenge:new Uint8Array(32),timeout:6e4,userVerification:"required"}});if(t)return e(!1),{success:!0,credential:t};throw new Error("Authentication failed")}catch(WT){return console.error("Fingerprint verification error:",WT),await s()}},isAuthenticating:t,error:n}},xE=function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200;const s=((t,e,n,r)=>{const i=t*Math.PI/180,s=n*Math.PI/180,a=(n-t)*Math.PI/180,o=(r-e)*Math.PI/180,l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(i)*Math.cos(s)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3})(t,e,n,r);return{isWithin:s<=i,distance:Math.round(s),radiusMeters:i}},SE={latitude:40.7128,longitude:-74.006,radius:200},NE=t=>t<1e3?"".concat(t,"m"):"".concat((t/1e3).toFixed(1),"km");Math.pow(10,8);var _E=6e4,kE=36e5;function AE(t,e){var n;NA(1,arguments);var r=AA(null!==(n=null===e||void 0===e?void 0:e.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var i,s=function(t){var e,n={},r=t.split(EE.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?e=r[0]:(n.date=r[0],e=r[1],EE.timeZoneDelimiter.test(n.date)&&(n.date=t.split(EE.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length)));if(e){var i=EE.timezone.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}(t);if(s.date){var a=function(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:t.slice((r[1]||r[2]).length)}}(s.date,r);i=function(t,e){if(null===e)return new Date(NaN);var n=t.match(TE);if(!n)return new Date(NaN);var r=!!n[4],i=LE(n[1]),s=LE(n[2])-1,a=LE(n[3]),o=LE(n[4]),l=LE(n[5])-1;if(r)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,o,l)?function(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=7*(e-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}(e,o,l):new Date(NaN);var c=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(DE[e]||(OE(t)?29:28))}(e,s,a)&&function(t,e){return e>=1&&e<=(OE(t)?366:365)}(e,i)?(c.setUTCFullYear(e,s,Math.max(i,a)),c):new Date(NaN)}(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o,l=i.getTime(),c=0;if(s.time&&(c=function(t){var e=t.match(CE);if(!e)return NaN;var n=PE(e[1]),r=PE(e[2]),i=PE(e[3]);if(!function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,r,i))return NaN;return n*kE+r*_E+1e3*i}(s.time),isNaN(c)))return new Date(NaN);if(!s.timezone){var u=new Date(l+c),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return o=function(t){if("Z"===t)return 0;var e=t.match(IE);if(!e)return 0;var n="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,i))return NaN;return n*(r*kE+i*_E)}(s.timezone),isNaN(o)?new Date(NaN):new Date(l+c+o)}var EE={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},TE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,CE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LE(t){return t?parseInt(t):1}function PE(t){return t&&parseFloat(t.replace(",","."))||0}var DE=[31,null,31,30,31,30,31,31,30,31,30,31];function OE(t){return t%400===0||t%4===0&&t%100!==0}var RE={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}};function ME(t,e,n){NA(2,arguments);var r,i=function(t,e){return NA(2,arguments),_A(t).getTime()-_A(e).getTime()}(t,e)/_E;return((r=null===n||void 0===n?void 0:n.roundingMethod)?RE[r]:RE.trunc)(i)}const jE={officialInTime:"09:00",officialOutTime:"18:00",halfDayHours:4,lateMarkMinutes:15,shortDayHours:6},FE=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jE;if(!t)return"absent";const r=AE(t),i=new Date(r),[s,a]=n.officialInTime.split(":");i.setHours(parseInt(s),parseInt(a),0,0);const o=ME(r,i)>n.lateMarkMinutes;if(!e)return o?"late-incomplete":"incomplete";const l=ME(AE(e),r)/60;return l>=8?o?"late-full":"full":l>=n.halfDayHours?o?"late-half":"half":"short"},UE=t=>{const e=Math.floor(t),n=Math.round(60*(t-e));return 0===e?"".concat(n,"m"):0===n?"".concat(e,"h"):"".concat(e,"h ").concat(n,"m")},BE=t=>{const e={full:{color:"success",label:"Full Day",bgColor:"bg-success-50",textColor:"text-success-600"},half:{color:"warning",label:"Half Day",bgColor:"bg-warning-50",textColor:"text-warning-600"},short:{color:"danger",label:"Short Day",bgColor:"bg-danger-50",textColor:"text-danger-600"},"late-full":{color:"warning",label:"Late (Full)",bgColor:"bg-warning-50",textColor:"text-warning-600"},"late-half":{color:"warning",label:"Late (Half)",bgColor:"bg-warning-50",textColor:"text-warning-600"},"late-incomplete":{color:"danger",label:"Late (Incomplete)",bgColor:"bg-danger-50",textColor:"text-danger-600"},incomplete:{color:"warning",label:"Incomplete",bgColor:"bg-warning-50",textColor:"text-warning-600"},absent:{color:"danger",label:"Absent",bgColor:"bg-danger-50",textColor:"text-danger-600"},holiday:{color:"primary",label:"Holiday",bgColor:"bg-primary-50",textColor:"text-primary-600"}};return e[t]||e.absent},VE=t=>{const e={totalDays:t.length,fullDays:0,halfDays:0,shortDays:0,lateDays:0,absentDays:0,incompleteDays:0,totalWorkedHours:0};return t.forEach(t=>{const n=FE(t.inTime,t.outTime),r=((t,e)=>{if(!t||!e)return 0;const n=AE(t),r=ME(AE(e),n);return Math.max(0,r/60)})(t.inTime,t.outTime);switch(e.totalWorkedHours+=r,n){case"full":e.fullDays++;break;case"half":e.halfDays++;break;case"short":e.shortDays++;break;case"late-full":e.fullDays++,e.lateDays++;break;case"late-half":e.halfDays++,e.lateDays++;break;case"late-incomplete":e.incompleteDays++,e.lateDays++;break;case"incomplete":e.incompleteDays++;break;case"absent":e.absentDays++}}),e};function zE(t){NA(1,arguments);var e=_A(t);return e.setDate(1),e.setHours(0,0,0,0),e}function qE(t){NA(1,arguments);var e=_A(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}const HE=async(t,e,n,r,i)=>{try{const s=new Date,a=yE(s,"yyyy-MM-dd"),o=Dv(Xg(i,"attendance"),Rv("userId","==",t),Rv("date","==",a)),l=await Xv(o);if(l.empty&&"in"===e){const e={userId:t,date:a,inTime:s.toISOString(),outTime:null,location:{latitude:n.latitude,longitude:n.longitude,address:n.address||"Unknown"},authMethod:(null===r||void 0===r?void 0:r.method)||"manual",fingerprintVerified:(null===r||void 0===r?void 0:r.verified)||!1,manualReason:(null===r||void 0===r?void 0:r.reason)||null,createdAt:s.toISOString(),updatedAt:s.toISOString()},o=await function(t,e){const n=qg(t.firestore,$g),r=Qg(t),i=zv(t.converter,e);return Jv(n,[fv(dv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Yd.exists(!1))]).then(()=>r)}(Xg(i,"attendance"),e);return H({id:o.id},e)}if(l.empty||"out"!==e)throw new Error("in"===e?"Already punched in today":"No punch-in record found for today");{const t=l.docs[0],e={outTime:s.toISOString(),outLocation:{latitude:n.latitude,longitude:n.longitude,address:n.address||"Unknown"},outAuthMethod:(null===r||void 0===r?void 0:r.method)||"manual",outFingerprintVerified:(null===r||void 0===r?void 0:r.verified)||!1,outManualReason:(null===r||void 0===r?void 0:r.reason)||null,updatedAt:s.toISOString()};return await Qv(Qg(i,"attendance",t.id),e),H(H({id:t.id},t.data()),e)}}catch(s){throw console.error("Error marking attendance:",s),s}},WE=async(t,e)=>{try{const n=yE(new Date,"yyyy-MM-dd"),r=Dv(Xg(e,"attendance"),Rv("userId","==",t),Rv("date","==",n)),i=await Xv(r);if(i.empty)return null;const s=i.docs[0];return H({id:s.id},s.data())}catch(n){throw console.error("Error getting today attendance:",n),n}},GE=async(t,e,n,r)=>{try{const i=yE(zE(new Date(e,n-1)),"yyyy-MM-dd"),s=yE(qE(new Date(e,n-1)),"yyyy-MM-dd"),a=Dv(Xg(r,"attendance"),Rv("userId","==",t)),o=await Xv(a),l=[];return o.forEach(t=>{const e=t.data();e.date>=i&&e.date<=s&&l.push(H({id:t.id},e))}),l.sort((t,e)=>e.date.localeCompare(t.date)),l}catch(i){throw console.error("Error getting monthly attendance:",i),i}},KE=async(t,e)=>{try{const n=Qg(e,"settings",t),r=await function(t){t=qg(t,Gg);const e=qg(t.firestore,$g);return Rg(tv(e),t._key).then(n=>$v(e,t,n))}(n);if(r.exists())return r.data();{const t={officeTimings:jE,officeLocation:SE,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return await function(t,e,n){t=qg(t,Gg);const r=qg(t.firestore,$g),i=zv(t.converter,e,n);return Jv(r,[fv(dv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Yd.none())])}(n,t),t}}catch(n){throw console.error("Error getting office settings:",n),n}};function YE(){const t=(0,r.useRef)(!1);return My(()=>(t.current=!0,()=>{t.current=!1}),[]),t}class XE extends r.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QE(t){let{children:e,isPresent:n}=t;const i=(0,r.useId)(),s=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:t,height:e,top:r,left:o}=a.current;if(n||!s.current||!t||!e)return;s.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(e,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),r.createElement(XE,{isPresent:n,childRef:s,sizeRef:a},r.cloneElement(e,{ref:s}))}const JE=t=>{let{children:e,initial:n,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:l}=t;const c=Xy($E),u=(0,r.useId)(),h=(0,r.useMemo)(()=>({id:u,initial:n,isPresent:i,custom:a,onExitComplete:t=>{c.set(t,!0);for(const e of c.values())if(!e)return;s&&s()},register:t=>(c.set(t,!1),()=>c.delete(t))}),o?void 0:[i]);return(0,r.useMemo)(()=>{c.forEach((t,e)=>c.set(e,!1))},[i]),r.useEffect(()=>{!i&&!c.size&&s&&s()},[i]),"popLayout"===l&&(e=r.createElement(QE,{isPresent:i},e)),r.createElement(Oy.Provider,{value:h},e)};function $E(){return new Map}const ZE=t=>t.key||"";const tT=t=>{let{children:e,custom:n,initial:i=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=t;a&&(l="wait",Bw(!1,"Replace exitBeforeEnter with mode='wait'"));let[c]=function(){const t=YE(),[e,n]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{t.current&&n(e+1)},[e]);return[(0,r.useCallback)(()=>hx.postRender(i),[i]),e]}();const u=(0,r.useContext)($y).forceRender;u&&(c=u);const h=YE(),d=function(t){const e=[];return r.Children.forEach(t,t=>{(0,r.isValidElement)(t)&&e.push(t)}),e}(e);let f=d;const p=new Set,m=(0,r.useRef)(f),g=(0,r.useRef)(new Map).current,v=(0,r.useRef)(!0);if(My(()=>{v.current=!1,function(t,e){t.forEach(t=>{const n=ZE(t);e.set(n,t)})}(d,g),m.current=f}),Mw(()=>{v.current=!0,g.clear(),p.clear()}),v.current)return r.createElement(r.Fragment,null,f.map(t=>r.createElement(JE,{key:ZE(t),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:o,mode:l},t)));f=[...f];const y=m.current.map(ZE),b=d.map(ZE),w=y.length;for(let r=0;r<w;r++){const t=y[r];-1===b.indexOf(t)&&p.add(t)}return"wait"===l&&p.size&&(f=[]),p.forEach(t=>{if(-1!==b.indexOf(t))return;const e=g.get(t);if(!e)return;const i=y.indexOf(t);f.splice(i,0,r.createElement(JE,{key:ZE(e),isPresent:!1,onExitComplete:()=>{g.delete(t),p.delete(t);const e=m.current.findIndex(e=>e.key===t);if(m.current.splice(e,1),!p.size){if(m.current=d,!1===h.current)return;c(),s&&s()}},custom:n,presenceAffectsLayout:o,mode:l},e))}),f=f.map(t=>{const e=t.key;return p.has(e)?t:r.createElement(JE,{key:ZE(t),isPresent:!0,presenceAffectsLayout:o,mode:l},t)}),r.createElement(r.Fragment,null,p.size?f:f.map(t=>(0,r.cloneElement)(t)))},eT=rA("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),nT=rA("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]),rT=rA("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iT=t=>{let{isOpen:e,onClose:n,onSuccess:i,action:s}=t;const[a,o]=(0,r.useState)("fingerprint"),[l,c]=(0,r.useState)("idle"),[u,h]=(0,r.useState)(""),{verifyFingerprint:d,isAuthenticating:f,error:p}=wE(),m=async()=>{c("authenticating");try{(await d()).success?(c("success"),setTimeout(()=>{i({method:"fingerprint",verified:!0})},1500)):c("error")}catch(WT){c("error")}},g=()=>{o("fingerprint"),c("idle"),h(""),n()},v=(()=>{if("manual"===a)switch(l){case"success":return{icon:eT,title:"Manual Entry Recorded!",message:"Punch ".concat(s," recorded successfully"),iconColor:"text-success-600",bgColor:"bg-success-50"};case"error":return{icon:xA,title:"Please provide a reason",message:"Reason is required for manual attendance",iconColor:"text-danger-600",bgColor:"bg-danger-50"};default:return{icon:lA,title:"Manual Attendance",message:"Please provide a reason for manual entry",iconColor:"text-gray-600",bgColor:"bg-gray-50"}}else switch(l){case"authenticating":return{icon:nT,title:"Authenticating...",message:"Please place your finger on the scanner",iconColor:"text-primary-600",bgColor:"bg-primary-50"};case"success":return{icon:eT,title:"Authentication Successful!",message:"Punch ".concat(s," recorded successfully"),iconColor:"text-success-600",bgColor:"bg-success-50"};case"error":return{icon:xA,title:"Authentication Failed",message:p||"Please try again",iconColor:"text-danger-600",bgColor:"bg-danger-50"};default:return{icon:nT,title:"Fingerprint Authentication",message:"Touch the fingerprint sensor to continue",iconColor:"text-gray-600",bgColor:"bg-gray-50"}}})();return(0,Ay.jsx)(tT,{children:e&&(0,Ay.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,Ay.jsx)(tA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:"authenticating"!==l?g:void 0}),(0,Ay.jsxs)(tA.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:["authenticating"!==l&&(0,Ay.jsx)("button",{onClick:g,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ay.jsx)(rT,{size:20})}),(0,Ay.jsxs)("div",{className:"p-8",children:["idle"===l&&(0,Ay.jsxs)("div",{className:"mb-6",children:[(0,Ay.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4 text-center",children:"Choose Authentication Method"}),(0,Ay.jsxs)("div",{className:"flex gap-3",children:[(0,Ay.jsxs)("button",{onClick:()=>o("fingerprint"),className:"flex-1 p-4 rounded-lg border-2 transition-all ".concat("fingerprint"===a?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"),children:[(0,Ay.jsx)(nT,{className:"mx-auto mb-2",size:24}),(0,Ay.jsx)("p",{className:"text-sm font-medium",children:"Fingerprint"})]}),(0,Ay.jsxs)("button",{onClick:()=>o("manual"),className:"flex-1 p-4 rounded-lg border-2 transition-all ".concat("manual"===a?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"),children:[(0,Ay.jsx)(lA,{className:"mx-auto mb-2",size:24}),(0,Ay.jsx)("p",{className:"text-sm font-medium",children:"Manual"})]})]})]}),(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full ".concat(v.bgColor," flex items-center justify-center"),children:(0,Ay.jsx)(tA.div,{animate:"authenticating"===l?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:1.5,repeat:"authenticating"===l?1/0:0},children:(0,Ay.jsx)(v.icon,{className:v.iconColor,size:40})})}),(0,Ay.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:v.title}),(0,Ay.jsx)("p",{className:"text-gray-600 mb-6",children:v.message}),"manual"===a&&"idle"===l&&(0,Ay.jsx)("div",{className:"mb-6",children:(0,Ay.jsx)("textarea",{value:u,onChange:t=>h(t.target.value),placeholder:"Please provide a reason for manual attendance (e.g., fingerprint scanner not working, forgot to scan, etc.)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:3})}),(0,Ay.jsxs)("div",{className:"flex gap-3 justify-center",children:["idle"===l&&"fingerprint"===a&&(0,Ay.jsx)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"btn-primary",children:"Start Authentication"}),"idle"===l&&"manual"===a&&(0,Ay.jsx)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{u.trim()?(c("success"),setTimeout(()=>{i({method:"manual",verified:!1,reason:u.trim()})},1e3)):c("error")},disabled:!u.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Mark Attendance"}),"error"===l&&(0,Ay.jsx)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:"fingerprint"===a?m:()=>c("idle"),className:"btn-primary",children:"Try Again"}),"authenticating"!==l&&"success"!==l&&(0,Ay.jsx)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,className:"btn-secondary",children:"Cancel"})]}),"authenticating"===l&&(0,Ay.jsx)("div",{className:"mt-6",children:(0,Ay.jsx)("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(t=>(0,Ay.jsx)(tA.div,{className:"w-2 h-2 bg-primary-600 rounded-full",animate:{y:[0,-8,0]},transition:{duration:.6,repeat:1/0,delay:.2*t}},t))})})]})]})]})]})})},sT=t=>{let{title:e,value:n,icon:r,color:i,bgColor:s,textColor:a}=t;return(0,Ay.jsx)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:"card",children:(0,Ay.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),(0,Ay.jsx)("p",{className:"text-2xl font-bold ".concat(a),children:n})]}),(0,Ay.jsx)("div",{className:"p-3 rounded-lg ".concat(s),children:(0,Ay.jsx)(r,{className:a,size:24})})]})})},aT=t=>{let{user:e}=t;const[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(new Date),[f,p]=(0,r.useState)(!0),{firebase:m}=Ty(),{latitude:g,longitude:v,error:y,getCurrentLocation:b}=bE(),{verifyFingerprint:w,isAuthenticating:x}=wE();(0,r.useEffect)(()=>{const t=setInterval(()=>{d(new Date)},1e3);return()=>clearInterval(t)},[]),(0,r.useEffect)(()=>{S()},[e,m]);const S=async()=>{if(null!==m&&void 0!==m&&m.db)try{p(!0);const[t,n]=await Promise.all([WE(e.uid,m.db),KE(e.uid,m.db)]);i(t),a(n)}catch(t){console.error("Error loading dashboard data:",t),_s.error("Failed to load dashboard data")}finally{p(!1)}},N=async t=>{if(!g||!v)return _s.error("Unable to get your location. Please enable GPS and try again."),void b();if(null===s||void 0===s||!s.officeLocation)return void _s.error("Office location not configured. Please contact admin.");const e=xE(g,v,s.officeLocation.latitude,s.officeLocation.longitude,s.officeLocation.radius);e.isWithin?(u(t),l(!0)):_s.error("You are ".concat(NE(e.distance)," away from office. Please come closer to mark attendance."))},_=()=>{if(y)return{status:"error",message:y,color:"text-danger-600"};if(!g||!v)return{status:"loading",message:"Getting location...",color:"text-warning-600"};if(null===s||void 0===s||!s.officeLocation)return{status:"error",message:"Office location not configured",color:"text-danger-600"};const t=xE(g,v,s.officeLocation.latitude,s.officeLocation.longitude,s.officeLocation.radius);return t.isWithin?{status:"success",message:"Inside office zone (".concat(NE(t.distance)," away)"),color:"text-success-600"}:{status:"error",message:"Outside office zone (".concat(NE(t.distance)," away)"),color:"text-danger-600"}},k=()=>{const t=_();return!(null!==n&&void 0!==n&&n.inTime)&&"success"===t.status},A=()=>{const t=_();return(null===n||void 0===n?void 0:n.inTime)&&!(null!==n&&void 0!==n&&n.outTime)&&"success"===t.status},E=_(),T=null!==n&&void 0!==n&&n.inTime?FE(n.inTime,n.outTime,null===s||void 0===s?void 0:s.officeTimings):"absent",C=BE(T),I=(()=>{if(null===n||void 0===n||!n.inTime)return 0;const t=n.outTime||(new Date).toISOString(),e=n.inTime,r=new Date(e),i=new Date(t)-r;return Math.max(0,i/36e5)})();return f?(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):(0,Ay.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,Ay.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,Ay.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e.displayName||e.email]}),(0,Ay.jsx)("p",{className:"text-gray-600",children:yE(h,"EEEE, MMMM do, yyyy \u2022 h:mm:ss a")})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Ay.jsx)(sT,{title:"Today's Status",value:C.label,icon:mA,color:C.color,bgColor:C.bgColor,textColor:C.textColor}),(0,Ay.jsx)(sT,{title:"Hours Worked",value:UE(I),icon:sA,color:"primary",bgColor:"bg-primary-50",textColor:"text-primary-600"}),(0,Ay.jsx)(sT,{title:"Check In",value:null!==n&&void 0!==n&&n.inTime?yE(new Date(n.inTime),"h:mm a"):"--:--",icon:wA,color:"success",bgColor:"bg-success-50",textColor:"text-success-600"}),(0,Ay.jsx)(sT,{title:"Check Out",value:null!==n&&void 0!==n&&n.outTime?yE(new Date(n.outTime),"h:mm a"):"--:--",icon:wA,color:"warning",bgColor:"bg-warning-50",textColor:"text-warning-600"})]}),(0,Ay.jsx)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card mb-8",children:(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Mark Attendance"}),(0,Ay.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,Ay.jsx)(aA,{className:"mr-2 ".concat(E.color),size:20}),(0,Ay.jsx)("span",{className:E.color,children:E.message})]}),(0,Ay.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N("in"),disabled:!k(),className:"flex items-center justify-center px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 ".concat(k()?"bg-success-600 hover:bg-success-700 text-white shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,Ay.jsx)(sA,{className:"mr-2",size:24}),"Punch In"]}),(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>N("out"),disabled:!A(),className:"flex items-center justify-center px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-200 ".concat(A()?"bg-danger-600 hover:bg-danger-700 text-white shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,Ay.jsx)(sA,{className:"mr-2",size:24}),"Punch Out"]})]}),"success"!==E.status&&(0,Ay.jsx)("div",{className:"mt-4 p-4 bg-warning-50 rounded-lg",children:(0,Ay.jsxs)("div",{className:"flex items-center justify-center text-warning-700",children:[(0,Ay.jsx)(xA,{className:"mr-2",size:20}),(0,Ay.jsx)("span",{children:"You must be within office premises to mark attendance"})]})})]})}),n&&(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[(0,Ay.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Today's Summary"}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Check In Time"}),(0,Ay.jsx)("p",{className:"text-lg font-medium",children:n.inTime?yE(new Date(n.inTime),"h:mm:ss a"):"Not checked in"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Check Out Time"}),(0,Ay.jsx)("p",{className:"text-lg font-medium",children:n.outTime?yE(new Date(n.outTime),"h:mm:ss a"):"Not checked out"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Hours Worked"}),(0,Ay.jsx)("p",{className:"text-lg font-medium",children:UE(I)})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),(0,Ay.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat(C.bgColor," ").concat(C.textColor),children:C.label})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Authentication"}),(0,Ay.jsxs)("div",{className:"space-y-1",children:[(0,Ay.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ay.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(n.fingerprintVerified?"bg-success-500":"bg-warning-500")}),(0,Ay.jsxs)("span",{children:["In: ","fingerprint"===n.authMethod?"Fingerprint":"Manual"]})]}),n.outTime&&(0,Ay.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ay.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(n.outFingerprintVerified?"bg-success-500":"bg-warning-500")}),(0,Ay.jsxs)("span",{children:["Out: ","fingerprint"===n.outAuthMethod?"Fingerprint":"Manual"]})]})]})]})]})]})]}),(0,Ay.jsx)(iT,{isOpen:o,onClose:()=>{l(!1),u(null)},onSuccess:async t=>{if(null!==m&&void 0!==m&&m.db)try{const n={latitude:g,longitude:v,address:"Office Location"},r=await HE(e.uid,c,n,t,m.db);i(r),l(!1),u(null);const s="fingerprint"===t.method?"with fingerprint":"manually";_s.success("Successfully punched ".concat(c," ").concat(s,"!"))}catch(n){console.error("Error marking attendance:",n),_s.error(n.message||"Failed to mark attendance")}else _s.error("Database not available. Please try again.")},action:c})]})},oT=rA("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),lT=rA("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function cT(t,e){NA(2,arguments);var n=_A(t),r=_A(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function uT(t,e){NA(2,arguments);var n=_A(t),r=AA(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());return s.setMonth(n.getMonth()+r+1,0),i>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function hT(t,e){return NA(2,arguments),uT(t,-AA(e))}function dT(t){NA(1,arguments);var e=_A(t);return e.setHours(0,0,0,0),e}function fT(t,e){NA(2,arguments);var n=dT(t),r=dT(e);return n.getTime()===r.getTime()}const pT=t=>{let{user:e}=t;const[n,i]=(0,r.useState)(new Date),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(!0),{firebase:f}=Ty();(0,r.useEffect)(()=>{m()},[n,e,f]),(0,r.useEffect)(()=>{p()},[e,f]);const p=async()=>{if(null!==f&&void 0!==f&&f.db)try{const t=await KE(e.uid,f.db);u(t)}catch(t){console.error("Error loading office settings:",t)}},m=async()=>{if(null!==f&&void 0!==f&&f.db)try{d(!0);const t=n.getFullYear(),r=n.getMonth()+1;console.log("Loading attendance data for:",{userId:e.uid,year:t,month:r});const i=await GE(e.uid,t,r,f.db);console.log("Loaded attendance data:",i),a(i)}catch(t){console.error("Error loading monthly attendance:",t),_s.error("Failed to load attendance data: ".concat(t.message))}finally{d(!1)}else console.log("Firebase DB not available yet")},g=t=>{const e=yE(t,"yyyy-MM-dd");return s.find(t=>t.date===e)},v=t=>{const e=g(t);return e?FE(e.inTime,e.outTime,null===c||void 0===c?void 0:c.officeTimings):"absent"},y=t=>{if(!cT(t,n))return"text-gray-300";const e=v(t);BE(e);switch(e){case"full":case"late-full":return"bg-success-100 text-success-800 border-success-200";case"half":case"late-half":return"bg-warning-100 text-warning-800 border-warning-200";case"short":case"incomplete":case"late-incomplete":return"bg-danger-100 text-danger-800 border-danger-200";case"holiday":return"bg-primary-100 text-primary-800 border-primary-200";default:return"text-gray-600 hover:bg-gray-50"}},b=zE(n),w=qE(n),x=function(t,e){var n;NA(1,arguments);var r=t||{},i=_A(r.start),s=_A(r.end).getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var a=[],o=i;o.setHours(0,0,0,0);var l=Number(null!==(n=null===e||void 0===e?void 0:e.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=s;)a.push(_A(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a}({start:new Date(b.getFullYear(),b.getMonth(),b.getDate()-b.getDay()),end:new Date(w.getFullYear(),w.getMonth(),w.getDate()+(6-w.getDay()))}),S=o?g(o):null,N=o?v(o):null,_=N?BE(N):null;return(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,Ay.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,Ay.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Attendance Calendar"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"View your monthly attendance records"})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ay.jsx)("div",{className:"lg:col-span-2",children:(0,Ay.jsxs)(tA.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"card",children:[(0,Ay.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ay.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:yE(n,"MMMM yyyy")}),(0,Ay.jsxs)("div",{className:"flex space-x-2",children:[(0,Ay.jsx)("button",{onClick:()=>{i(hT(n,1))},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Ay.jsx)(oT,{size:20})}),(0,Ay.jsx)("button",{onClick:()=>{i(uT(n,1))},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Ay.jsx)(lT,{size:20})})]})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>(0,Ay.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:t},t)),x.map(t=>{const e=o&&fT(t,o),r=fT(t,new Date);return(0,Ay.jsx)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>(t=>{cT(t,n)&&l(t)})(t),className:"\n                        p-3 text-sm font-medium rounded-lg border transition-all duration-200\n                        ".concat(y(t),"\n                        ").concat(e?"ring-2 ring-primary-500 ring-offset-2":"","\n                        ").concat(r?"font-bold":"","\n                        ").concat(cT(t,n)?"cursor-pointer":"cursor-default","\n                      "),children:yE(t,"d")},t.toISOString())})]}),(0,Ay.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Ay.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Legend"}),(0,Ay.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,Ay.jsxs)("div",{className:"flex items-center",children:[(0,Ay.jsx)("div",{className:"w-4 h-4 bg-success-100 border border-success-200 rounded mr-2"}),(0,Ay.jsx)("span",{children:"Full Day"})]}),(0,Ay.jsxs)("div",{className:"flex items-center",children:[(0,Ay.jsx)("div",{className:"w-4 h-4 bg-warning-100 border border-warning-200 rounded mr-2"}),(0,Ay.jsx)("span",{children:"Half Day"})]}),(0,Ay.jsxs)("div",{className:"flex items-center",children:[(0,Ay.jsx)("div",{className:"w-4 h-4 bg-danger-100 border border-danger-200 rounded mr-2"}),(0,Ay.jsx)("span",{children:"Absent/Short"})]}),(0,Ay.jsxs)("div",{className:"flex items-center",children:[(0,Ay.jsx)("div",{className:"w-4 h-4 bg-primary-100 border border-primary-200 rounded mr-2"}),(0,Ay.jsx)("span",{children:"Holiday"})]})]})]})]})}),(0,Ay.jsx)("div",{className:"lg:col-span-1",children:(0,Ay.jsxs)(tA.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card",children:[(0,Ay.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?yE(o,"EEEE, MMMM do"):"Select a date"}),o&&S?(0,Ay.jsxs)("div",{className:"space-y-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Status"}),(0,Ay.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat(_.bgColor," ").concat(_.textColor),children:_.label})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Check In"}),(0,Ay.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ay.jsx)(sA,{size:16,className:"mr-1 text-gray-400"}),S.inTime?yE(new Date(S.inTime),"h:mm a"):"--:--"]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Check Out"}),(0,Ay.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ay.jsx)(sA,{size:16,className:"mr-1 text-gray-400"}),S.outTime?yE(new Date(S.outTime),"h:mm a"):"--:--"]})]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Hours Worked"}),(0,Ay.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:UE(S.inTime&&S.outTime?(new Date(S.outTime)-new Date(S.inTime))/36e5:0)})]}),S.location&&(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Location"}),(0,Ay.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,Ay.jsx)(aA,{size:16,className:"mr-1 text-gray-400"}),S.location.address||"Office Location"]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Authentication"}),(0,Ay.jsxs)("div",{className:"space-y-1",children:[(0,Ay.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ay.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(S.fingerprintVerified?"bg-success-500":"bg-warning-500")}),(0,Ay.jsxs)("span",{children:["In: ","fingerprint"===S.authMethod?"Fingerprint":"Manual"]})]}),S.outTime&&(0,Ay.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Ay.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(S.outFingerprintVerified?"bg-success-500":"bg-warning-500")}),(0,Ay.jsxs)("span",{children:["Out: ","fingerprint"===S.outAuthMethod?"Fingerprint":"Manual"]})]}),(S.manualReason||S.outManualReason)&&(0,Ay.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[S.manualReason&&(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("strong",{children:"In reason:"})," ",S.manualReason]}),S.outManualReason&&(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("strong",{children:"Out reason:"})," ",S.outManualReason]})]})]})]})]}):o?(0,Ay.jsxs)("div",{className:"text-center py-8",children:[(0,Ay.jsx)(mA,{className:"mx-auto text-gray-300 mb-3",size:48}),(0,Ay.jsx)("p",{className:"text-gray-500",children:"No attendance record for this date"})]}):(0,Ay.jsxs)("div",{className:"text-center py-8",children:[(0,Ay.jsx)(mA,{className:"mx-auto text-gray-300 mb-3",size:48}),(0,Ay.jsx)("p",{className:"text-gray-500",children:"Click on a date to view details"})]})]})})]})]})})},mT=rA("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var gT=Uint8Array,vT=Uint16Array,yT=Int32Array,bT=new gT([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wT=new gT([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xT=new gT([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ST=function(t,e){for(var n=new vT(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new yT(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},NT=ST(bT,2),_T=NT.b,kT=NT.r;_T[28]=258,kT[258]=28;for(var AT=ST(wT,0),ET=AT.b,TT=AT.r,CT=new vT(32768),IT=0;IT<32768;++IT){var LT=(43690&IT)>>1|(21845&IT)<<1;LT=(61680&(LT=(52428&LT)>>2|(13107&LT)<<2))>>4|(3855&LT)<<4,CT[IT]=((65280&LT)>>8|(255&LT)<<8)>>1}var PT=function(t,e,n){for(var r=t.length,i=0,s=new vT(e);i<r;++i)t[i]&&++s[t[i]-1];var a,o=new vT(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(n){a=new vT(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[CT[h]>>l]=c}else for(a=new vT(r),i=0;i<r;++i)t[i]&&(a[i]=CT[o[t[i]-1]++]>>15-t[i]);return a},DT=new gT(288);for(IT=0;IT<144;++IT)DT[IT]=8;for(IT=144;IT<256;++IT)DT[IT]=9;for(IT=256;IT<280;++IT)DT[IT]=7;for(IT=280;IT<288;++IT)DT[IT]=8;var OT=new gT(32);for(IT=0;IT<32;++IT)OT[IT]=5;var RT=PT(DT,9,0),MT=PT(DT,9,1),jT=PT(OT,5,0),FT=PT(OT,5,1),UT=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},BT=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},VT=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},zT=function(t){return(t+7)/8|0},qT=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new gT(t.subarray(e,n))},HT=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],WT=function(t,e,n){var r=new Error(e||HT[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,WT),!n)throw r;return r},GT=function(t,e,n,r){var i=t.length,s=r?r.length:0;if(!i||e.f&&!e.l)return n||new gT(0);var a=!n,o=a||2!=e.i,l=e.i;a&&(n=new gT(3*i));var c=function(t){var e=n.length;if(t>e){var r=new gT(Math.max(2*e,t));r.set(n),n=r}},u=e.f||0,h=e.p||0,d=e.b||0,f=e.l,p=e.d,m=e.m,g=e.n,v=8*i;do{if(!f){u=BT(t,h,1);var y=BT(t,h+1,3);if(h+=3,!y){var b=t[(I=zT(h)+4)-4]|t[I-3]<<8,w=I+b;if(w>i){l&&WT(0);break}o&&c(d+b),n.set(t.subarray(I,w),d),e.b=d+=b,e.p=h=8*w,e.f=u;continue}if(1==y)f=MT,p=FT,m=9,g=5;else if(2==y){var x=BT(t,h,31)+257,S=BT(t,h+10,15)+4,N=x+BT(t,h+5,31)+1;h+=14;for(var _=new gT(N),k=new gT(19),A=0;A<S;++A)k[xT[A]]=BT(t,h+3*A,7);h+=3*S;var E=UT(k),T=(1<<E)-1,C=PT(k,E,1);for(A=0;A<N;){var I,L=C[BT(t,h,T)];if(h+=15&L,(I=L>>4)<16)_[A++]=I;else{var P=0,D=0;for(16==I?(D=3+BT(t,h,3),h+=2,P=_[A-1]):17==I?(D=3+BT(t,h,7),h+=3):18==I&&(D=11+BT(t,h,127),h+=7);D--;)_[A++]=P}}var O=_.subarray(0,x),R=_.subarray(x);m=UT(O),g=UT(R),f=PT(O,m,1),p=PT(R,g,1)}else WT(1);if(h>v){l&&WT(0);break}}o&&c(d+131072);for(var M=(1<<m)-1,j=(1<<g)-1,F=h;;F=h){var U=(P=f[VT(t,h)&M])>>4;if((h+=15&P)>v){l&&WT(0);break}if(P||WT(2),U<256)n[d++]=U;else{if(256==U){F=h,f=null;break}var B=U-254;if(U>264){var V=bT[A=U-257];B=BT(t,h,(1<<V)-1)+_T[A],h+=V}var z=p[VT(t,h)&j],q=z>>4;z||WT(3),h+=15&z;R=ET[q];if(q>3){V=wT[q];R+=VT(t,h)&(1<<V)-1,h+=V}if(h>v){l&&WT(0);break}o&&c(d+131072);var H=d+B;if(d<R){var W=s-R,G=Math.min(R,H);for(W+d<0&&WT(3);d<G;++d)n[d]=r[W+d]}for(;d<H;++d)n[d]=n[d-R]}}e.l=f,e.p=F,e.b=d,e.f=u,f&&(u=1,e.m=m,e.d=p,e.n=g)}while(!u);return d!=n.length&&a?qT(n,0,d):n.subarray(0,d)},KT=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},YT=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},XT=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:nC,l:0};if(1==i){var a=new gT(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};var d=s[0].s;for(r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new vT(d+1),p=QT(n[u-1],f,0);if(p>e){r=0;var m=0,g=p-e,v=1<<g;for(s.sort(function(t,e){return f[e.s]-f[t.s]||t.f-e.f});r<i;++r){var y=s[r].s;if(!(f[y]>e))break;m+=v-(1<<p-f[y]),f[y]=e}for(m>>=g;m>0;){var b=s[r].s;f[b]<e?m-=1<<e-f[b]++-1:++r}for(;r>=0&&m;--r){var w=s[r].s;f[w]==e&&(--f[w],++m)}p=e}return{t:new gT(f),l:p}},QT=function(t,e,n){return-1==t.s?Math.max(QT(t.l,e,n+1),QT(t.r,e,n+1)):e[t.s]=n},JT=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new vT(++e),r=0,i=t[0],s=1,a=function(t){n[r++]=t},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},$T=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},ZT=function(t,e,n){var r=n.length,i=zT(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<r;++s)t[i+s+4]=n[s];return 8*(i+4+r)},tC=function(t,e,n,r,i,s,a,o,l,c,u){KT(e,u++,n),++i[256];for(var h=XT(i,15),d=h.t,f=h.l,p=XT(s,15),m=p.t,g=p.l,v=JT(d),y=v.c,b=v.n,w=JT(m),x=w.c,S=w.n,N=new vT(19),_=0;_<y.length;++_)++N[31&y[_]];for(_=0;_<x.length;++_)++N[31&x[_]];for(var k=XT(N,7),A=k.t,E=k.l,T=19;T>4&&!A[xT[T-1]];--T);var C,I,L,P,D=c+5<<3,O=$T(i,DT)+$T(s,OT)+a,R=$T(i,d)+$T(s,m)+a+14+3*T+$T(N,A)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&D<=O&&D<=R)return ZT(e,u,t.subarray(l,l+c));if(KT(e,u,1+(R<O)),u+=2,R<O){C=PT(d,f,0),I=d,L=PT(m,g,0),P=m;var M=PT(A,E,0);KT(e,u,b-257),KT(e,u+5,S-1),KT(e,u+10,T-4),u+=14;for(_=0;_<T;++_)KT(e,u+3*_,A[xT[_]]);u+=3*T;for(var j=[y,x],F=0;F<2;++F){var U=j[F];for(_=0;_<U.length;++_){var B=31&U[_];KT(e,u,M[B]),u+=A[B],B>15&&(KT(e,u,U[_]>>5&127),u+=U[_]>>12)}}}else C=RT,I=DT,L=jT,P=OT;for(_=0;_<o;++_){var V=r[_];if(V>255){YT(e,u,C[(B=V>>18&31)+257]),u+=I[B+257],B>7&&(KT(e,u,V>>23&31),u+=bT[B]);var z=31&V;YT(e,u,L[z]),u+=P[z],z>3&&(YT(e,u,V>>5&8191),u+=wT[z])}else YT(e,u,C[V]),u+=I[V]}return YT(e,u,C[256]),u+I[256]},eC=new yT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nC=new gT(0),rC=function(t,e,n,r,i,s){var a=s.z||t.length,o=new gT(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=eC[e-1],d=h>>13,f=8191&h,p=(1<<n)-1,m=s.p||new vT(32768),g=s.h||new vT(p+1),v=Math.ceil(n/3),y=2*v,b=function(e){return(t[e]^t[e+1]<<v^t[e+2]<<y)&p},w=new yT(25e3),x=new vT(288),S=new vT(32),N=0,_=0,k=s.i||0,A=0,E=s.w||0,T=0;k+2<a;++k){var C=b(k),I=32767&k,L=g[C];if(m[I]=L,g[C]=I,E<=k){var P=a-k;if((N>7e3||A>24576)&&(P>423||!c)){u=tC(t,l,0,w,x,S,_,A,T,k-T,u),A=N=_=0,T=k;for(var D=0;D<286;++D)x[D]=0;for(D=0;D<30;++D)S[D]=0}var O=2,R=0,M=f,j=I-L&32767;if(P>2&&C==b(k-j))for(var F=Math.min(d,P)-1,U=Math.min(32767,k),B=Math.min(258,P);j<=U&&--M&&I!=L;){if(t[k+O]==t[k+O-j]){for(var V=0;V<B&&t[k+V]==t[k+V-j];++V);if(V>O){if(O=V,R=j,V>F)break;var z=Math.min(j,V-2),q=0;for(D=0;D<z;++D){var H=k-j+D&32767,W=H-m[H]&32767;W>q&&(q=W,L=H)}}}j+=(I=L)-(L=m[I])&32767}if(R){w[A++]=268435456|kT[O]<<18|TT[R];var G=31&kT[O],K=31&TT[R];_+=bT[G]+wT[K],++x[257+G],++S[K],E=k+O,++N}else w[A++]=t[k],++x[t[k]]}}for(k=Math.max(k,E);k<a;++k)w[A++]=t[k],++x[t[k]];u=tC(t,l,c,w,x,S,_,A,T,k-T,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=g,s.p=m,s.i=k,s.w=E)}else{for(k=s.w||0;k<a+c;k+=65535){var Y=k+65535;Y>=a&&(l[u/8|0]=c,Y=a),u=ZT(l,u+1,t.subarray(k,Y))}s.i=a}return qT(o,0,r+zT(u)+i)},iC=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=0|n.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}t=r,e=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},sC=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new gT(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return rC(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},aC=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},oC=function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=iC();i.p(e.dictionary),aC(t,2,i.d())}},lC=function(t,e){return(8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31)&&WT(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&WT(6,"invalid zlib data: "+(32&t[1]?"need":"unexpected")+" dictionary"),2+(t[1]>>3&4)};function cC(t,e){e||(e={});var n=iC();n.p(t);var r=sC(t,e,e.dictionary?6:2,4);return oC(r,e),aC(r,r.length-4,n.d()),r}function uC(t,e){return GT(t.subarray(lC(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var hC="undefined"!=typeof TextDecoder&&new TextDecoder;try{hC.decode(nC,{stream:!0})}catch(ui){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var dC=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function fC(){dC.console&&"function"==typeof dC.console.log&&dC.console.log.apply(dC.console,arguments)}var pC={log:fC,warn:function(t){dC.console&&("function"==typeof dC.console.warn?dC.console.warn.apply(dC.console,arguments):fC.call(null,arguments))},error:function(t){dC.console&&("function"==typeof dC.console.error?dC.console.error.apply(dC.console,arguments):fC(t))}};function mC(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){wC(r.response,e,n)},r.onerror=function(){pC.error("could not download file")},r.send()}function gC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function vC(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var yC,bC,wC=dC.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,SA.A)(window))||window!==dC?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=dC.URL||dC.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?gC(i.href)?mC(t,e,n):vC(i,i.target="_blank"):vC(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){vC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(gC(t))mC(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){vC(r)})}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!==(0,SA.A)(e)&&(pC.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return mC(t,e,n);var i="application/octet-stream"===t.type,s=/constructor/i.test(dC.HTMLElement)||dC.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,SA.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var t=o.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},o.readAsDataURL(t)}else{var l=dC.URL||dC.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function xC(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}function SC(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=_C(n,r,i,s,e[0],7,-680876936),s=_C(s,n,r,i,e[1],12,-389564586),i=_C(i,s,n,r,e[2],17,606105819),r=_C(r,i,s,n,e[3],22,-1044525330),n=_C(n,r,i,s,e[4],7,-176418897),s=_C(s,n,r,i,e[5],12,1200080426),i=_C(i,s,n,r,e[6],17,-1473231341),r=_C(r,i,s,n,e[7],22,-45705983),n=_C(n,r,i,s,e[8],7,1770035416),s=_C(s,n,r,i,e[9],12,-1958414417),i=_C(i,s,n,r,e[10],17,-42063),r=_C(r,i,s,n,e[11],22,-1990404162),n=_C(n,r,i,s,e[12],7,1804603682),s=_C(s,n,r,i,e[13],12,-40341101),i=_C(i,s,n,r,e[14],17,-1502002290),n=kC(n,r=_C(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=kC(s,n,r,i,e[6],9,-1069501632),i=kC(i,s,n,r,e[11],14,643717713),r=kC(r,i,s,n,e[0],20,-373897302),n=kC(n,r,i,s,e[5],5,-701558691),s=kC(s,n,r,i,e[10],9,38016083),i=kC(i,s,n,r,e[15],14,-660478335),r=kC(r,i,s,n,e[4],20,-405537848),n=kC(n,r,i,s,e[9],5,568446438),s=kC(s,n,r,i,e[14],9,-1019803690),i=kC(i,s,n,r,e[3],14,-187363961),r=kC(r,i,s,n,e[8],20,1163531501),n=kC(n,r,i,s,e[13],5,-1444681467),s=kC(s,n,r,i,e[2],9,-51403784),i=kC(i,s,n,r,e[7],14,1735328473),n=AC(n,r=kC(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=AC(s,n,r,i,e[8],11,-2022574463),i=AC(i,s,n,r,e[11],16,1839030562),r=AC(r,i,s,n,e[14],23,-35309556),n=AC(n,r,i,s,e[1],4,-1530992060),s=AC(s,n,r,i,e[4],11,1272893353),i=AC(i,s,n,r,e[7],16,-155497632),r=AC(r,i,s,n,e[10],23,-1094730640),n=AC(n,r,i,s,e[13],4,681279174),s=AC(s,n,r,i,e[0],11,-358537222),i=AC(i,s,n,r,e[3],16,-722521979),r=AC(r,i,s,n,e[6],23,76029189),n=AC(n,r,i,s,e[9],4,-640364487),s=AC(s,n,r,i,e[12],11,-421815835),i=AC(i,s,n,r,e[15],16,530742520),n=EC(n,r=AC(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=EC(s,n,r,i,e[7],10,1126891415),i=EC(i,s,n,r,e[14],15,-1416354905),r=EC(r,i,s,n,e[5],21,-57434055),n=EC(n,r,i,s,e[12],6,1700485571),s=EC(s,n,r,i,e[3],10,-1894986606),i=EC(i,s,n,r,e[10],15,-1051523),r=EC(r,i,s,n,e[1],21,-2054922799),n=EC(n,r,i,s,e[8],6,1873313359),s=EC(s,n,r,i,e[15],10,-30611744),i=EC(i,s,n,r,e[6],15,-1560198380),r=EC(r,i,s,n,e[13],21,1309151649),n=EC(n,r,i,s,e[4],6,-145523070),s=EC(s,n,r,i,e[11],10,-1120210379),i=EC(i,s,n,r,e[2],15,718787259),r=EC(r,i,s,n,e[9],21,-343485551),t[0]=RC(n,t[0]),t[1]=RC(r,t[1]),t[2]=RC(i,t[2]),t[3]=RC(s,t[3])}function NC(t,e,n,r,i,s){return e=RC(RC(e,t),RC(r,s)),RC(e<<i|e>>>32-i,n)}function _C(t,e,n,r,i,s,a){return NC(e&n|~e&r,t,e,i,s,a)}function kC(t,e,n,r,i,s,a){return NC(e&r|n&~r,t,e,i,s,a)}function AC(t,e,n,r,i,s,a){return NC(e^n^r,t,e,i,s,a)}function EC(t,e,n,r,i,s,a){return NC(n^(e|~r),t,e,i,s,a)}function TC(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)SC(r,CC(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(SC(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,SC(r,i),r}function CC(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}yC=dC.atob.bind(dC),bC=dC.btoa.bind(dC);var IC="0123456789abcdef".split("");function LC(t){for(var e="",n=0;n<4;n++)e+=IC[t>>8*n+4&15]+IC[t>>8*n&15];return e}function PC(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function DC(t){return TC(t).map(PC).join("")}var OC="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=LC(t[e]);return t.join("")}(TC("hello"));function RC(t,e){if(OC){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function MC(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var h=e.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=u,a=o[(o[d]+o[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^a);return p}var jC={print:4,modify:8,copy:16,"annot-forms":32};function FC(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(t){if(void 0!==jC.perm)throw new Error("Invalid permission: "+t);i+=jC[t]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=DC(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=MC(this.encryptionKey,this.padding)}function UC(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function BC(t){if("object"!==(0,SA.A)(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!r],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(n){dC.console&&pC.error("jsPDF PubSub Error",n.message,n)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function VC(t){if(!(this instanceof VC))return new VC(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function zC(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function qC(t,e,n,r,i){if(!(this instanceof qC))return new qC(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,zC.call(this,r,i)}function HC(t,e,n,r,i){if(!(this instanceof HC))return new HC(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,zC.call(this,r,i)}function WC(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;"object"===(0,SA.A)(t=t||{})&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,null!==(u=t.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(!0===s?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=BC;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(t){p=t};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var v=f.__private__.getPageFormat=function(t){return g[t]};i=i||"a4";var y="compat",b="advanced",w=y;function x(){this.saveGraphicsState(),J(new Lt(dt,0,0,-dt,0,cn()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),c="n",w=b}function S(){this.restoreGraphicsState(),c="S",w=y}var N=f.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};f.advancedAPI=function(t){var e=w===y;return e&&x.call(this),"function"!=typeof t||(t(this),e&&S.call(this)),this},f.compatAPI=function(t){var e=w===b;return e&&S.call(this),"function"!=typeof t||(t(this),e&&x.call(this)),this},f.isAdvancedAPI=function(){return w===b};var _,k=function(t){if(w!==b)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=f.roundToPrecision=f.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};_=f.hpf=f.__private__.hpf="number"==typeof l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return A(t,l)}:"smart"===l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return A(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return A(t,16)};var E=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return A(t,2)},T=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return A(t,3)},C=f.scale=f.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?t*dt:w===b?t:void 0},I=function(t){return C(function(t){return w===y?cn()-t:w===b?t:void 0}(t))};f.__private__.setPrecision=f.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var L,P="00000000000000000000000000000000",D=f.__private__.getFileId=function(){return P},O=f.__private__.setFileId=function(t){return P=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():P.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(ye=new FC(u.userPermissions,u.userPassword,u.ownerPassword,P)),P};f.setFileId=function(t){return O(t),this},f.getFileId=function(){return D()};var R=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),s=[n,B(r),"'",B(i),"'"].join("");return["D:",t.getFullYear(),B(t.getMonth()+1),B(t.getDate()),B(t.getHours()),B(t.getMinutes()),B(t.getSeconds()),s].join("")},M=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return new Date(e,n,r,i,s,a,0)},j=f.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=R(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return L=e},F=f.__private__.getCreationDate=function(t){var e=L;return"jsDate"===t&&(e=M(L)),e};f.setCreationDate=function(t){return j(t),this},f.getCreationDate=function(t){return F(t)};var U,B=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},V=f.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},z=0,q=[],H=[],W=0,G=[],K=[],Y=!1,X=H;f.__private__.setCustomOutputDestination=function(t){Y=!0,X=t};var Q=function(t){Y||(X=t)};f.__private__.resetCustomOutputDestination=function(){Y=!1,X=H};var J=f.__private__.out=function(t){return t=t.toString(),W+=t.length+1,X.push(t),X},$=f.__private__.write=function(t){return J(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return tt};var et=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(t){return et=w===b?t/dt:t,this};var nt,rt=f.__private__.getFontSize=f.getFontSize=function(){return w===y?et:et*dt},it=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(t){return it=t,this},f.__private__.getR2L=f.getR2L=function(){return it};var st,at=f.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))nt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');nt=t}else nt=parseInt(t,10)};f.__private__.getZoomMode=function(){return nt};var ot,lt=f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');st=t};f.__private__.getPageMode=function(){return st};var ct=f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');ot=t};f.__private__.getLayoutMode=function(){return ot},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,n){return at(t),ct(e),lt(n),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[t]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in ut)ut.hasOwnProperty(e)&&t[e]&&(ut[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[t]=e};var ht,dt,ft,pt,mt,gt={},vt={},yt=[],bt={},wt={},xt={},St={},Nt=null,_t=0,kt=[],At=new BC(f),Et=t.hotfixes||[],Tt={},Ct={},It=[],Lt=function t(e,n,r,i,s,a){if(!(this instanceof t))return new t(e,n,r,i,s,a);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(s)&&(s=0),isNaN(a)&&(a=0),this._matrix=[e,n,r,i,s,a]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Lt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(t)},Lt.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,s=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new Lt(e,n,r,i,s,a)},Lt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=Math.sqrt(t*t+e*e),o=(t/=a)*n+(e/=a)*r;n-=t*o,r-=e*o;var l=Math.sqrt(n*n+r*r);return o/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,o=-o,a=-a),{scale:new Lt(a,0,0,l,0,0),translate:new Lt(1,0,0,1,i,s),rotate:new Lt(t,e,-e,t,0,0),skew:new Lt(1,0,o,1,0,0)}},Lt.prototype.toString=function(t){return this.join(" ")},Lt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=1/(t*r-e*n),o=r*a,l=-e*a,c=-n*a,u=t*a;return new Lt(o,l,c,u,-o*i-c*s,-l*i-u*s)},Lt.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new en(e,n)},Lt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new en(t.x+t.w,t.y+t.h));return new nn(e.x,e.y,n.x-e.x,n.y-e.y)},Lt.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty;return new Lt(t,e,n,r,i,s)},f.Matrix=Lt;var Pt=f.matrixMult=function(t,e){return e.multiply(t)},Dt=new Lt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Dt;var Ot=function(t,e){if(!wt[t]){var n=(e instanceof qC?"Sh":"P")+(Object.keys(bt).length+1).toString(10);e.id=n,wt[t]=n,bt[n]=e,At.publish("addPattern",e)}};f.ShadingPattern=qC,f.TilingPattern=HC,f.addShadingPattern=function(t,e){return k("addShadingPattern()"),Ot(t,e),this},f.beginTilingPattern=function(t){k("beginTilingPattern()"),sn(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},f.endTilingPattern=function(t,e){k("endTilingPattern()"),e.stream=K[U].join("\n"),Ot(t,e),At.publish("endTilingPattern",e),It.pop().restore()};var Rt=f.__private__.newObject=function(){var t=Mt();return jt(t,!0),t},Mt=f.__private__.newObjectDeferred=function(){return z++,q[z]=function(){return W},z},jt=function(t,e){return e="boolean"==typeof e&&e,q[t]=W,e&&J(t+" 0 obj"),t},Ft=f.__private__.newAdditionalObject=function(){var t={objId:Mt(),content:""};return G.push(t),t},Ut=Mt(),Bt=Mt(),Vt=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},zt=f.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,i=t.ch3,s=t.ch4,a="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new xC(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===s&&n===r&&r===i)if("string"==typeof n)e=n+" "+a[0];else if(2===t.precision)e=E(n/255)+" "+a[0];else e=T(n/255)+" "+a[0];else if(void 0===s||"object"===(0,SA.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)e=[n,r,i,a[1]].join(" ");else if(2===t.precision)e=[E(n/255),E(r/255),E(i/255),a[1]].join(" ");else e=[T(n/255),T(r/255),T(i/255),a[1]].join(" ")}else if("string"==typeof n)e=[n,r,i,s,a[2]].join(" ");else if(2===t.precision)e=[E(n),E(r),E(i),E(s),a[2]].join(" ");else e=[T(n),T(r),T(i),T(s),a[2]].join(" ");return e},qt=f.__private__.getFilters=function(){return a},Ht=f.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||qt(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,s=e.length,a=t.objectId,o=function(t){return t};if(null!==u&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=ye.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],h=(l=void 0!==WC.API.processDataByFilters?WC.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:s})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[d].value),c[d].value="["+f.join(" ")+"]"}}J("<<");for(var m=0;m<c.length;m++)J("/"+c[m].key+" "+c[m].value);J(">>"),0!==l.data.length&&(J("stream"),J(o(l.data)),J("endstream"))},Wt=f.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;jt(r,!0),J("<</Type /Page"),J("/Parent "+t.rootDictionaryObjId+" 0 R"),J("/Resources "+t.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(_(t.mediaBox.bottomLeftX))+" "+parseFloat(_(t.mediaBox.bottomLeftY))+" "+_(t.mediaBox.topRightX)+" "+_(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&J("/CropBox ["+_(t.cropBox.bottomLeftX)+" "+_(t.cropBox.bottomLeftY)+" "+_(t.cropBox.topRightX)+" "+_(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&J("/BleedBox ["+_(t.bleedBox.bottomLeftX)+" "+_(t.bleedBox.bottomLeftY)+" "+_(t.bleedBox.topRightX)+" "+_(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&J("/TrimBox ["+_(t.trimBox.bottomLeftX)+" "+_(t.trimBox.bottomLeftY)+" "+_(t.trimBox.topRightX)+" "+_(t.trimBox.topRightY)+"]"),null!==t.artBox&&J("/ArtBox ["+_(t.artBox.bottomLeftX)+" "+_(t.artBox.bottomLeftY)+" "+_(t.artBox.topRightX)+" "+_(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&J("/UserUnit "+t.userUnit),At.publish("putPage",{objId:r,pageContext:kt[e],pageNumber:e,page:n}),J("/Contents "+i+" 0 R"),J(">>"),J("endobj");var s=n.join("\n");return w===b&&(s+="\nQ"),jt(i,!0),Ht({data:s,filters:qt(),objectId:i}),J("endobj"),r},Gt=f.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=_t;t++)kt[t].objId=Mt(),kt[t].contentsObjId=Mt();for(t=1;t<=_t;t++)n.push(Wt({number:t,data:K[t],objId:kt[t].objId,contentsObjId:kt[t].contentsObjId,mediaBox:kt[t].mediaBox,cropBox:kt[t].cropBox,bleedBox:kt[t].bleedBox,trimBox:kt[t].trimBox,artBox:kt[t].artBox,userUnit:kt[t].userUnit,rootDictionaryObjId:Ut,resourceDictionaryObjId:Bt}));jt(Ut,!0),J("<</Type /Pages");var r="/Kids [";for(e=0;e<_t;e++)r+=n[e]+" 0 R ";J(r+"]"),J("/Count "+_t),J(">>"),J("endobj"),At.publish("postPutPages")},Kt=function(t){At.publish("putFont",{font:t,out:J,newObject:Rt,putStream:Ht}),!0!==t.isAlreadyPutted&&(t.objectNumber=Rt(),J("<<"),J("/Type /Font"),J("/BaseFont /"+UC(t.postScriptName)),J("/Subtype /Type1"),"string"==typeof t.encoding&&J("/Encoding /"+t.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Yt=function(t){t.objectNumber=Rt();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[_(t.x),_(t.y),_(t.x+t.width),_(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");Ht({data:n,additionalKeyValues:e,objectId:t.objectNumber}),J("endobj")},Xt=function(t,e){e||(e=21);var n=Rt(),r=function(t,e){var n,r=[],i=1/(e-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=t[0].offset){var s={offset:0,color:t[0].color};t.unshift(s)}if(1!=t[t.length-1].offset){var a={offset:1,color:t[t.length-1].color};t.push(a)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>t[l+1].offset;)l++;var u=t[l].offset,h=(n-u)/(t[l+1].offset-u),d=t[l].color,f=t[l+1].color;o+=V(Math.round((1-h)*d[0]+h*f[0]).toString(16))+V(Math.round((1-h)*d[1]+h*f[1]).toString(16))+V(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return o.trim()}(t.colors,e),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+e+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ht({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),J("endobj"),t.objectNumber=Rt(),J("<< /ShadingType "+t.type),J("/ColorSpace /DeviceRGB");var s="/Coords ["+_(parseFloat(t.coords[0]))+" "+_(parseFloat(t.coords[1]))+" ";2===t.type?s+=_(parseFloat(t.coords[2]))+" "+_(parseFloat(t.coords[3])):s+=_(parseFloat(t.coords[2]))+" "+_(parseFloat(t.coords[3]))+" "+_(parseFloat(t.coords[4]))+" "+_(parseFloat(t.coords[5])),J(s+="]"),t.matrix&&J("/Matrix ["+t.matrix.toString()+"]"),J("/Function "+n+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Qt=function(t,e){var n=Mt(),r=Rt();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+t.boundingBox.map(_).join(" ")+"]"}),i.push({key:"XStep",value:_(t.xStep)}),i.push({key:"YStep",value:_(t.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),t.matrix&&i.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),Ht({data:t.stream,additionalKeyValues:i,objectId:t.objectNumber}),J("endobj")},Jt=function(t){for(var e in t.objectNumber=Rt(),J("<<"),t)switch(e){case"opacity":J("/ca "+E(t[e]));break;case"stroke-opacity":J("/CA "+E(t[e]))}J(">>"),J("endobj")},$t=function(t){jt(t.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in J("/Font <<"),gt)gt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&J("/"+t+" "+gt[t].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(bt).length>0){for(var t in J("/Shading <<"),bt)bt.hasOwnProperty(t)&&bt[t]instanceof qC&&bt[t].objectNumber>=0&&J("/"+t+" "+bt[t].objectNumber+" 0 R");At.publish("putShadingPatternDict"),J(">>")}}(),function(t){if(Object.keys(bt).length>0){for(var e in J("/Pattern <<"),bt)bt.hasOwnProperty(e)&&bt[e]instanceof f.TilingPattern&&bt[e].objectNumber>=0&&bt[e].objectNumber<t&&J("/"+e+" "+bt[e].objectNumber+" 0 R");At.publish("putTilingPatternDict"),J(">>")}}(t.objectOid),function(){if(Object.keys(xt).length>0){var t;for(t in J("/ExtGState <<"),xt)xt.hasOwnProperty(t)&&xt[t].objectNumber>=0&&J("/"+t+" "+xt[t].objectNumber+" 0 R");At.publish("putGStateDict"),J(">>")}}(),function(){for(var t in J("/XObject <<"),Tt)Tt.hasOwnProperty(t)&&Tt[t].objectNumber>=0&&J("/"+t+" "+Tt[t].objectNumber+" 0 R");At.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Zt=function(){var t=[];(function(){for(var t in gt)gt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&Kt(gt[t])})(),function(){var t;for(t in xt)xt.hasOwnProperty(t)&&Jt(xt[t])}(),function(){for(var t in Tt)Tt.hasOwnProperty(t)&&Yt(Tt[t])}(),function(t){var e;for(e in bt)bt.hasOwnProperty(e)&&(bt[e]instanceof qC?Xt(bt[e]):bt[e]instanceof HC&&Qt(bt[e],t))}(t),At.publish("putResources"),t.forEach($t),$t({resourcesOid:Bt,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources")},te=function(t){vt[t.fontName]=vt[t.fontName]||{},vt[t.fontName][t.fontStyle]=t.id},ee=function(t,e,n,r,i){var s={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return At.publish("addFont",{font:s,instance:this}),gt[s.id]=s,te(s),s.id},ne=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var n,r,i,s,a,o,l,c,u;if(i=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&gt[ht].metadata&&gt[ht].metadata[i]&&gt[ht].metadata[i].encoding&&(s=gt[ht].metadata[i].encoding,!a&&gt[ht].encoding&&(a=gt[ht].encoding),!a&&s.codePages&&(a=s.codePages[0]),"string"==typeof a&&(a=s[a]),a)){for(l=!1,o=[],n=0,r=t.length;n<r;n++)(c=a[t.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(t[n]),o[n].charCodeAt(0)>>8&&(l=!0);t=o.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(o=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(u),o.push(c-(u<<8))}return String.fromCharCode.apply(void 0,o)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},re=f.__private__.beginPage=function(t){K[++_t]=[],kt[_t]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},ae(_t),Q(K[U])},ie=function(t,e){var r,s,a;switch(n=e||n,"string"==typeof t&&(r=v(t.toLowerCase()),Array.isArray(r)&&(s=r[0],a=r[1])),Array.isArray(t)&&(s=t[0]*dt,a=t[1]*dt),isNaN(s)&&(s=i[0],a=i[1]),(s>14400||a>14400)&&(pC.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),a=Math.min(14400,a)),i=[s,a],n.substr(0,1)){case"l":a>s&&(i=[a,s]);break;case"p":s>a&&(i=[a,s])}re(i),Fe(Me),J(Ge),0!==$e&&J($e+" J"),0!==Ze&&J(Ze+" j"),At.publish("addPage",{pageNumber:_t})},se=function(t){t>0&&t<=_t&&(K.splice(t,1),kt.splice(t,1),_t--,U>_t&&(U=_t),this.setPage(U))},ae=function(t){t>0&&t<=_t&&(U=t)},oe=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return K.length-1},le=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:gt[ht].fontName,e=void 0!==e?e:gt[ht].fontStyle,r=t.toLowerCase(),void 0!==vt[r]&&void 0!==vt[r][e]?i=vt[r][e]:void 0!==vt[t]&&void 0!==vt[t][e]?i=vt[t][e]:!1===n.disableWarning&&pC.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=vt.times[e])&&(i=vt.times.normal),i},ce=f.__private__.putInfo=function(){var t=Rt(),e=function(t){return t};for(var n in null!==u&&(e=ye.encryptor(t,0)),J("<<"),J("/Producer ("+ne(e("jsPDF "+WC.version))+")"),ut)ut.hasOwnProperty(n)&&ut[n]&&J("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+ne(e(ut[n]))+")");J("/CreationDate ("+ne(e(L))+")"),J(">>"),J("endobj")},ue=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||Ut;switch(Rt(),J("<<"),J("/Type /Catalog"),J("/Pages "+e+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+nt;"%"===n.substr(n.length-1)&&(nt=parseInt(nt)/100),"number"==typeof nt&&J("/OpenAction [3 0 R /XYZ null null "+E(nt)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}st&&J("/PageMode /"+st),At.publish("putCatalog"),J(">>"),J("endobj")},he=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(z+1)),J("/Root "+z+" 0 R"),J("/Info "+(z-1)+" 0 R"),null!==u&&J("/Encrypt "+ye.oid+" 0 R"),J("/ID [ <"+P+"> <"+P+"> ]"),J(">>")},de=f.__private__.putHeader=function(){J("%PDF-"+p),J("%\xba\xdf\xac\xe0")},fe=f.__private__.putXRef=function(){var t="0000000000";J("xref"),J("0 "+(z+1)),J("0000000000 65535 f ");for(var e=1;e<=z;e++)"function"==typeof q[e]?J((t+q[e]()).slice(-10)+" 00000 n "):void 0!==q[e]?J((t+q[e]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},pe=f.__private__.buildDocument=function(){z=0,W=0,H=[],q=[],G=[],Ut=Mt(),Bt=Mt(),Q(H),At.publish("buildDocument"),de(),Gt(),function(){At.publish("putAdditionalObjects");for(var t=0;t<G.length;t++){var e=G[t];jt(e.objId,!0),J(e.content),J("endobj")}At.publish("postPutAdditionalObjects")}(),Zt(),null!==u&&(ye.oid=Rt(),J("<<"),J("/Filter /Standard"),J("/V "+ye.v),J("/R "+ye.r),J("/U <"+ye.toHexString(ye.U)+">"),J("/O <"+ye.toHexString(ye.O)+">"),J("/P "+ye.P),J(">>"),J("endobj")),ce(),ue();var t=W;return fe(),he(),J("startxref"),J(""+t),J("%%EOF"),Q(K[U]),H.join("\n")},me=f.__private__.getBlob=function(t){return new Blob([Z(t)],{type:"application/pdf"})},ge=f.output=f.__private__.output=function(t){return t.foo=function(){try{return t.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!dC.console)throw new Error(n);dC.console.error(n,t),dC.alert&&alert(n)}},t.foo.bar=t,t.foo}(function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return pe();case"save":f.save(e.filename);break;case"arraybuffer":return Z(pe());case"blob":return me(pe());case"bloburi":case"bloburl":if(void 0!==dC.URL&&"function"==typeof dC.URL.createObjectURL)return dC.URL&&dC.URL.createObjectURL(me(pe()))||void 0;pC.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pe();try{n=bC(r)}catch(t){n=bC(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(dC)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(i=e.pdfObjectUrl,s="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",o=dC.open();return null!==o&&o.document.write(a),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(dC)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=dC.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(dC))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',d=dC.open();if(null!==d&&(d.document.write(h),d.document.title=e.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return dC.document.location.href=this.output("datauristring",e);default:return null}}),ve=function(t){return!0===Array.isArray(Et)&&Et.indexOf(t)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=1==ve("px_scaling")?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);dt=r}var ye=null;j(),O();var be=f.__private__.getPageInfo=f.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:kt[t].objId,pageNumber:t,pageContext:kt[t]}},we=f.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in kt)if(kt[e].objId===t)break;return be(e)},xe=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:kt[U].objId,pageNumber:U,pageContext:kt[U]}};f.addPage=function(){return ie.apply(this,arguments),this},f.setPage=function(){return ae.apply(this,arguments),Q.call(this,K[U]),this},f.insertPage=function(t){return this.addPage(),this.movePage(U,t),this},f.movePage=function(t,e){var n,r;if(t>e){n=K[t],r=kt[t];for(var i=t;i>e;i--)K[i]=K[i-1],kt[i]=kt[i-1];K[e]=n,kt[e]=r,this.setPage(e)}else if(t<e){n=K[t],r=kt[t];for(var s=t;s<e;s++)K[s]=K[s+1],kt[s]=kt[s+1];K[e]=n,kt[e]=r,this.setPage(e)}return this},f.deletePage=function(){return se.apply(this,arguments),this},f.__private__.text=f.text=function(t,e,n,r,i){var s,a,o,l,c,u,h,f,p,m=(r=r||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var g=n;n=e,e=t,t=g}if(arguments[3]instanceof Lt==0?(o=arguments[4],l=arguments[5],"object"===(0,SA.A)(h=arguments[3])&&null!==h||("string"==typeof o&&(l=o,o=null),"string"==typeof h&&(l=h,h=null),"number"==typeof h&&(o=h,h=null),r={flags:h,angle:o,align:l})):(k("The transform parameter of text() with a Matrix value"),p=i),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return m;var v,y="",x="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Re,S=m.internal.scaleFactor;function N(t){return t=t.split("\t").join(Array(r.TabLen||9).join(" ")),ne(t,h)}function A(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function E(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,s=t.concat(),a=[],o=s.length;o--;)"string"==typeof(r=s.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=e(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var T=!1,I=!0;if("string"==typeof t)T=!0;else if(Array.isArray(t)){var L=t.concat();a=[];for(var P,D=L.length;D--;)("string"!=typeof(P=L.shift())||Array.isArray(P)&&"string"!=typeof P[0])&&(I=!1);T=I}if(!1===T)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var O=et/m.internal.scaleFactor,R=O*(x-1);switch(r.baseline){case"bottom":n-=R;break;case"top":n+=O-R;break;case"hanging":n+=O-2*R;break;case"middle":n+=O/2-R}if((u=r.maxWidth||0)>0&&("string"==typeof t?t=m.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(m.splitTextToSize(e,u))},[]))),s={text:t,x:e,y:n,options:r,mutex:{pdfEscape:ne,activeFontKey:ht,fonts:gt,activeFontSize:et}},At.publish("preProcessText",s),t=s.text,o=(r=s.options).angle,p instanceof Lt==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),w===b&&(o=-o);var M=Math.cos(o),j=Math.sin(o);p=new Lt(M,j,-j,M,0,0)}else o&&o instanceof Lt&&(p=o);w!==b||p||(p=Dt),void 0!==(c=r.charSpace||Qe)&&(y+=_(C(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(y+=_(100*f)+" Tz\n"),r.lang;var F=-1,U=void 0!==r.renderingMode?r.renderingMode:r.stroke,B=m.internal.getCurrentPageInfo().pageContext;switch(U){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var V=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==F?y+=F+" Tr\n":-1!==V&&(y+="0 Tr\n"),-1!==F&&(B.usedRenderingMode=F),l=r.align||"left";var z,q=et*x,H=m.internal.pageSize.getWidth(),W=gt[ht];c=r.charSpace||Qe,u=r.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[],K=function(t){return m.getStringUnitWidth(t,{font:W,charSpace:c,fontSize:et,doKerning:!1})*et/S};if("[object Array]"===Object.prototype.toString.call(t)){var Y;a=A(t),"left"!==l&&(z=a.map(K));var X,Q=0;if("right"===l){e-=z[0],t=[],D=a.length;for(var $=0;$<D;$++)0===$?(X=ze(e),Y=qe(n)):(X=C(Q-z[$]),Y=-q),t.push([a[$],X,Y]),Q=z[$]}else if("center"===l){e-=z[0]/2,t=[],D=a.length;for(var Z=0;Z<D;Z++)0===Z?(X=ze(e),Y=qe(n)):(X=C((Q-z[Z])/2),Y=-q),t.push([a[Z],X,Y]),Q=z[Z]}else if("left"===l){t=[],D=a.length;for(var tt=0;tt<D;tt++)t.push(a[tt])}else if("justify"===l&&"Identity-H"===W.encoding){t=[],D=a.length,u=0!==u?u:H;for(var nt=0,rt=0;rt<D;rt++)if(Y=0===rt?qe(n):-q,X=0===rt?ze(e):nt,rt<D-1){var st=C((u-z[rt])/(a[rt].split(" ").length-1)),at=a[rt].split(" ");t.push([at[0]+" ",X,Y]),nt=0;for(var ot=1;ot<at.length;ot++){var lt=(K(at[ot-1]+" "+at[ot])-K(at[ot]))*S+st;ot==at.length-1?t.push([at[ot],lt,0]):t.push([at[ot]+" ",lt,0]),nt-=lt}}else t.push([a[rt],X,Y]);t.push(["",nt,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],D=a.length,u=0!==u?u:H,rt=0;rt<D;rt++)Y=0===rt?qe(n):-q,X=0===rt?ze(e):0,rt<D-1?G.push(_(C((u-z[rt])/(a[rt].split(" ").length-1)))):G.push(0),t.push([a[rt],X,Y])}}!0===("boolean"==typeof r.R2L?r.R2L:it)&&(t=E(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),s={text:t,x:e,y:n,options:r,mutex:{pdfEscape:ne,activeFontKey:ht,fonts:gt,activeFontSize:et}},At.publish("postProcessText",s),t=s.text,v=s.mutex.isHex||!1;var ct=gt[ht].encoding;"WinAnsiEncoding"!==ct&&"StandardEncoding"!==ct||(t=E(t,function(t,e,n){return[N(t),e,n]})),a=A(t),t=[];for(var ut,dt,ft,pt=Array.isArray(a[0])?1:0,mt="",vt=function(t,e,n){var i="";return n instanceof Lt?(n="number"==typeof r.angle?Pt(n,new Lt(1,0,0,1,t,e)):Pt(new Lt(1,0,0,1,t,e),n),w===b&&(n=Pt(new Lt(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=_(t)+" "+_(e)+" Td\n",i},yt=0;yt<a.length;yt++){switch(mt="",pt){case 1:ft=(v?"<":"(")+a[yt][0]+(v?">":")"),ut=parseFloat(a[yt][1]),dt=parseFloat(a[yt][2]);break;case 0:ft=(v?"<":"(")+a[yt]+(v?">":")"),ut=ze(e),dt=qe(n)}void 0!==G&&void 0!==G[yt]&&(mt=G[yt]+" Tw\n"),0===yt?t.push(mt+vt(ut,dt,p)+ft):0===pt?t.push(mt+ft):1===pt&&t.push(mt+vt(ut,dt,p)+ft)}t=0===pt?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var bt="BT\n/";return bt+=ht+" "+et+" Tf\n",bt+=_(et*x)+" TL\n",bt+=Ye+"\n",bt+=y,bt+=t,J(bt+="ET"),d[ht]=!0,m};var Se=f.__private__.clip=f.clip=function(t){return J("evenodd"===t?"W*":"W"),this};f.clipEvenOdd=function(){return Se("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Ne=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(t){return Ne(t)&&(c=t),this};var _e=f.__private__.getStyle=f.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},ke=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(t){return Ae("f",t),this},f.fillEvenOdd=function(t){return Ae("f*",t),this},f.fillStroke=function(t){return Ae("B",t),this},f.fillStrokeEvenOdd=function(t){return Ae("B*",t),this};var Ae=function(t,e){"object"===(0,SA.A)(e)?Ce(e,t):J(t)},Ee=function(t){null===t||w===b&&void 0===t||(t=_e(t),J(t))};function Te(t,e,n,r,i){var s=new HC(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);s.stream=this.stream;var a=t+"$$"+this.cloneIndex+++"$$";return Ot(a,s),s}var Ce=function(t,e){var n=wt[t.key],r=bt[n];if(r instanceof qC)J("q"),J(Ie(e)),r.gState&&f.setGState(r.gState),J(t.matrix.toString()+" cm"),J("/"+n+" sh"),J("Q");else if(r instanceof HC){var i=new Lt(1,0,0,-1,0,cn());t.matrix&&(i=i.multiply(t.matrix||Dt),n=Te.call(r,t.key,t.boundingBox,t.xStep,t.yStep,i).id),J("q"),J("/Pattern cs"),J("/"+n+" scn"),r.gState&&f.setGState(r.gState),J(e),J("Q")}},Ie=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Le=f.moveTo=function(t,e){return J(_(C(t))+" "+_(I(e))+" m"),this},Pe=f.lineTo=function(t,e){return J(_(C(t))+" "+_(I(e))+" l"),this},De=f.curveTo=function(t,e,n,r,i,s){return J([_(C(t)),_(I(e)),_(C(n)),_(I(r)),_(C(i)),_(I(s)),"c"].join(" ")),this};f.__private__.line=f.line=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ne(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-t,r-e]],t,e,[1,1],i||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},f.__private__.lines=f.lines=function(t,e,n,r,i,s){var a,o,l,c,u,h,d,f,p,m,g,v;if("number"==typeof t&&(v=n,n=e,e=t,t=v),r=r||[1,1],s=s||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ne(i)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Le(e,n),a=r[0],o=r[1],c=t.length,m=e,g=n,l=0;l<c;l++)2===(u=t[l]).length?(m=u[0]*a+m,g=u[1]*o+g,Pe(m,g)):(h=u[0]*a+m,d=u[1]*o+g,f=u[2]*a+m,p=u[3]*o+g,m=u[4]*a+m,g=u[5]*o+g,De(h,d,f,p,m,g));return s&&ke(),Ee(i),this},f.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":Le(r[0],r[1]);break;case"l":Pe(r[0],r[1]);break;case"c":De.apply(this,r);break;case"h":ke()}}return this},f.__private__.rect=f.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ne(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(r=-r),J([_(C(t)),_(I(e)),_(C(n)),_(C(r)),"re"].join(" ")),Ee(i),this},f.__private__.triangle=f.triangle=function(t,e,n,r,i,s,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ne(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,s-r],[t-i,e-s]],t,e,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,n,r,i,s,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ne(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*i,0],[i*o,0,i,s-s*o,i,s],[0,r-2*s],[0,s*o,-i*o,s,-i,s],[2*i-n,0],[-i*o,0,-i,-s*o,-i,-s],[0,2*s-r],[0,-s*o,i*o,-s,i,-s]],t+i,e,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ne(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Le(t+n,e),De(t+n,e-a,t+s,e-r,t,e-r),De(t-s,e-r,t-n,e-a,t-n,e),De(t-n,e+a,t-s,e+r,t,e+r),De(t+s,e+r,t+n,e+a,t+n,e),Ee(i),this},f.__private__.circle=f.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ne(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},f.setFont=function(t,e,n){return n&&(e=N(e,n)),ht=le(t,e,{disableWarning:!1}),this};var Oe=f.__private__.getFont=f.getFont=function(){return gt[le.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var t,e,n={};for(t in vt)if(vt.hasOwnProperty(t))for(e in n[t]=[],vt[t])vt[t].hasOwnProperty(e)&&n[t].push(e);return n},f.addFont=function(t,e,n,r,i){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=N(n,r)),ee.call(this,t,e,n,i=i||"Identity-H")};var Re,Me=t.lineWidth||.200025,je=f.__private__.getLineWidth=f.getLineWidth=function(){return Me},Fe=f.__private__.setLineWidth=f.setLineWidth=function(t){return Me=t,J(_(C(t))+" w"),this};f.__private__.setLineDash=WC.API.setLineDash=WC.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return _(C(t))}).join(" "),e=_(C(e)),J("["+t+"] "+e+" d"),this};var Ue=f.__private__.getLineHeight=f.getLineHeight=function(){return et*Re};f.__private__.getLineHeight=f.getLineHeight=function(){return et*Re};var Be=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Re=t),this},Ve=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Re};Be(t.lineHeight);var ze=f.__private__.getHorizontalCoordinate=function(t){return C(t)},qe=f.__private__.getVerticalCoordinate=function(t){return w===b?t:kt[U].mediaBox.topRightY-kt[U].mediaBox.bottomLeftY-C(t)},He=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(t){return _(ze(t))},We=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(t){return _(qe(t))},Ge=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Vt(Ge)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,n,r){return Ge=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),J(Ge),this};var Ke=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Vt(Ke)},f.__private__.setFillColor=f.setFillColor=function(t,e,n,r){return Ke=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),J(Ke),this};var Ye=t.textColor||"0 g",Xe=f.__private__.getTextColor=f.getTextColor=function(){return Vt(Ye)};f.__private__.setTextColor=f.setTextColor=function(t,e,n,r){return Ye=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Qe=t.charSpace,Je=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Qe||0)};f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qe=t,this};var $e=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $e=e,J(e+" J"),this};var Ze=0;f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ze=e,J(e+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(_(C(t))+" M"),this},f.GState=VC,f.setGState=function(t){(t="string"==typeof t?xt[St[t]]:tn(null,t)).equals(Nt)||(J("/"+t.id+" gs"),Nt=t)};var tn=function(t,e){if(!t||!St[t]){var n=!1;for(var r in xt)if(xt.hasOwnProperty(r)&&xt[r].equals(e)){n=!0;break}if(n)e=xt[r];else{var i="GS"+(Object.keys(xt).length+1).toString(10);xt[i]=e,e.id=i}return t&&(St[t]=e.id),At.publish("addGState",e),e}};f.addGState=function(t,e){return tn(t,e),this},f.saveGraphicsState=function(){return J("q"),yt.push({key:ht,size:et,color:Ye}),this},f.restoreGraphicsState=function(){J("Q");var t=yt.pop();return ht=t.key,et=t.size,Ye=t.color,Nt=null,this},f.setCurrentTransformationMatrix=function(t){return J(t.toString()+" cm"),this},f.comment=function(t){return J("#"+t),this};var en=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},nn=function(t,e,n,r){en.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(t){isNaN(t)||(s=parseFloat(t))}}),this},rn=function(){this.page=_t,this.currentPage=U,this.pages=K.slice(0),this.pagesContext=kt.slice(0),this.x=ft,this.y=pt,this.matrix=mt,this.width=on(U),this.height=cn(U),this.outputDestination=X,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){_t=this.page,U=this.currentPage,kt=this.pagesContext,K=this.pages,ft=this.x,pt=this.y,mt=this.matrix,ln(U,this.width),un(U,this.height),X=this.outputDestination};var sn=function(t,e,n,r,i){It.push(new rn),_t=U=0,K=[],ft=t,pt=e,mt=i,re([n,r])};for(var an in f.beginFormObject=function(t,e,n,r,i){return sn(t,e,n,r,i),this},f.endFormObject=function(t){return function(t){if(Ct[t])It.pop().restore();else{var e=new rn,n="Xo"+(Object.keys(Tt).length+1).toString(10);e.id=n,Ct[t]=n,Tt[n]=e,At.publish("addFormObject",e),It.pop().restore()}}(t),this},f.doFormObject=function(t,e){var n=Tt[Ct[t]];return J("q"),J(e.toString()+" cm"),J("/"+n.id+" Do"),J("Q"),this},f.getFormObject=function(t){var e=Tt[Ct[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},f.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(wC(me(pe()),t),"function"==typeof wC.unload&&dC.setTimeout&&setTimeout(wC.unload,911),this):new Promise(function(e,n){try{var r=wC(me(pe()),t);"function"==typeof wC.unload&&dC.setTimeout&&setTimeout(wC.unload,911),e(r)}catch(t){n(t.message)}})},WC.API)WC.API.hasOwnProperty(an)&&("events"===an&&WC.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(At,WC.API.events):f[an]=WC.API[an]);var on=f.getPageWidth=function(t){return(kt[t=t||U].mediaBox.topRightX-kt[t].mediaBox.bottomLeftX)/dt},ln=f.setPageWidth=function(t,e){kt[t].mediaBox.topRightX=e*dt+kt[t].mediaBox.bottomLeftX},cn=f.getPageHeight=function(t){return(kt[t=t||U].mediaBox.topRightY-kt[t].mediaBox.bottomLeftY)/dt},un=f.setPageHeight=function(t,e){kt[t].mediaBox.topRightY=e*dt+kt[t].mediaBox.bottomLeftY};return f.internal={pdfEscape:ne,getStyle:_e,getFont:Oe,getFontSize:rt,getCharSpace:Je,getTextColor:Xe,getLineHeight:Ue,getLineHeightFactor:Ve,getLineWidth:je,write:$,getHorizontalCoordinate:ze,getVerticalCoordinate:qe,getCoordinateString:He,getVerticalCoordinateString:We,collections:{},newObject:Rt,newAdditionalObject:Ft,newObjectDeferred:Mt,newObjectDeferredBegin:jt,getFilters:qt,putStream:Ht,events:At,scaleFactor:dt,pageSize:{getWidth:function(){return on(U)},setWidth:function(t){ln(U,t)},getHeight:function(){return cn(U)},setHeight:function(t){un(U,t)}},encryptionOptions:u,encryption:ye,getEncryptor:function(t){return null!==u?ye.encryptor(t,0):function(t){return t}},output:ge,getNumberOfPages:oe,pages:K,out:J,f2:E,f3:T,getPageInfo:be,getPageInfoByObjId:we,getCurrentPageInfo:xe,getPDFVersion:m,Point:en,Rectangle:nn,Matrix:Lt,hasHotfix:ve},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return on(U)},set:function(t){ln(U,t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return cn(U)},set:function(t){un(U,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=tt.length;e<n;e++){var r=ee.call(this,t[e][0],t[e][1],t[e][2],tt[e][3],!0);!1===h&&(d[r]=!0);var i=t[e][0].split("-");te({id:r,fontName:i[0],fontStyle:i[1]||""})}At.publish("addFonts",{fonts:gt,dictionary:vt})}.call(f,tt),ht="F1",ie(i,n),At.publish("initialized"),f}FC.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},FC.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},FC.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},FC.prototype.processOwnerPassword=function(t,e){return MC(DC(e).substr(0,5),t)},FC.prototype.encryptor=function(t,e){var n=DC(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return MC(n,t)}},VC.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||(0,SA.A)(t)!==(0,SA.A)(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},WC.API={events:[]},WC.version="2.5.2";var GC=WC.API,KC=1,YC=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},XC=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},QC=function(t){return t.toFixed(2)},JC=function(t){return t.toFixed(5)};GC.__acroform__={};var $C=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ZC=function(t){return t*KC},tI=function(t){var e=new vI,n=LI.internal.getHeight(t)||0,r=LI.internal.getWidth(t)||0;return e.BBox=[0,0,Number(QC(r)),Number(QC(n))],e},eI=GC.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},nI=GC.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},rI=GC.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},iI=GC.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rI(t,e-1)},sI=GC.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eI(t,e-1)},aI=GC.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nI(t,e-1)},oI=GC.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(QC(l.lowerLeft_X)),Number(QC(l.lowerLeft_Y)),Number(QC(l.upperRight_X)),Number(QC(l.upperRight_Y))]},lI=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=cI(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+QC(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=tI(t);return s.scope=t.scope,s.stream=e.join("\n"),s}},cI=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(t){return t.split("\n")}):i.map(function(t){return[t]});var s=n,a=LI.internal.getHeight(t)||0;a=a<0?-a:a;var o=LI.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(e,n,r){if(e+1<i.length){var s=n+" "+i[e+1][0];return uI(s,t,r).width<=o-4}return!1};s++;t:for(;s>0;){e="",s--;var c,u,h=uI("3",t,s).height,d=t.multiline?a-s:(a-h)/2,f=d+=2,p=0,m=0,g=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+uI(e,t,s=12).width+", FieldWidth:"+o+"\n";break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(1!==i[b].length&&g!==i[b].length-1){if((h+2)*(y+2)+2>a)continue t;v+=i[b][g],w=!0,m=b,b--}else{v=" "==(v+=i[b][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var x=parseInt(b),S=l(x,v,s),N=b>=i.length-1;if(S&&!N){v+=" ",g=0;continue}if(S||N){if(N)m=x;else if(t.multiline&&(h+2)*(y+2)+2>a)continue t}else{if(!t.multiline)continue t;if((h+2)*(y+2)+2>a)continue t;m=x}}for(var _="",k=p;k<=m;k++){var A=i[k];if(t.multiline){if(k===m){_+=A[g]+" ",g=(g+1)%A.length;continue}if(k===p){_+=A[A.length-1]+" ";continue}}_+=A[0]+" "}switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,u=uI(_,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=QC(c)+" "+QC(f)+" Td\n",e+="("+YC(_)+") Tj\n",e+=-QC(c)+" 0 Td\n",f=-(s+2),u=0,p=w?m:m+1,y++,v=""}break}return r.text=e,r.fontSize=s,r},uI=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},hI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dI=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},fI=function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(bI.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(hI)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");KC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new yI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){!function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}(t)}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&dI(r,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var r in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var i=t[r],s=[],a=i.Rect;if(i.Rect&&(i.Rect=oI(i.Rect,e)),e.internal.newObjectDeferredBegin(i.objId,!0),i.DA=LI.createDefaultAppearanceStream(i),"object"===(0,SA.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(s=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var o=lI(i);s.push({key:"AP",value:"<</N "+o+">>"}),e.internal.acroformPlugin.xForms.push(o)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var h=u[r];"function"==typeof h&&(h=h.call(e,i)),l+="/"+r+" "+h+" ",e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(e,i)),l+="/"+r+" "+h,e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}e.internal.putStream({additionalKeyValues:s,objectId:i.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,SA.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete t[r]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}},pI=GC.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(t){return t};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(0!==s&&(i+=" "),(0,SA.A)(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":"/"!==t[s].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),i+="("+YC(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mI=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+YC(r(t))+")"},gI=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gI.prototype.toString=function(){return this.objId+" 0 R"},gI.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},gI.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:pI(i,this.objId,this.scope)}):i instanceof gI?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var vI=function(){gI.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};$C(vI,gI);var yI=function(){gI.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+YC(e(t))+")"}},set:function(e){t=e}})};$C(yI,gI);var bI=function t(){gI.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(e,3))},set:function(t){!0===Boolean(t)?this.F=sI(e,3):this.F=aI(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof EI)return;s="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+YC(e(s))+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/KC:c},set:function(t){c=t}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof EI||this instanceof CI))return mI(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof _I==0?mI(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof _I==0?"("===t.substr(0,1)?XC(t.substr(1,t.length-2)):XC(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _I==1?XC(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof _I==1?"/"+t:t}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof _I==0?mI(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof _I==0?"("===t.substr(0,1)?XC(t.substr(1,t.length-2)):XC(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _I==1?XC(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof _I==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(t){t=Boolean(t),m=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,1):this.Ff=aI(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,2):this.Ff=aI(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,3):this.Ff=aI(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');g=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(g){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};$C(bI,gI);var wI=function(){bI.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pI(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,18):this.Ff=aI(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=sI(this.Ff,19):this.Ff=aI(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=sI(this.Ff,20),e.sort()):this.Ff=aI(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,22):this.Ff=aI(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,23):this.Ff=aI(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,27):this.Ff=aI(this.Ff,27)}}),this.hasAppearanceStream=!1};$C(wI,bI);var xI=function(){wI.call(this),this.fontName="helvetica",this.combo=!1};$C(xI,wI);var SI=function(){xI.call(this),this.combo=!0};$C(SI,xI);var NI=function(){SI.call(this),this.edit=!0};$C(NI,SI);var _I=function(){bI.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,15):this.Ff=aI(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,16):this.Ff=aI(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,17):this.Ff=aI(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,26):this.Ff=aI(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+YC(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===(0,SA.A)(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};$C(_I,bI);var kI=function(){_I.call(this),this.pushButton=!0};$C(kI,_I);var AI=function(){_I.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};$C(AI,_I);var EI=function(){var t,e;bI.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),r)n.push("/"+e+" ("+YC(t(r[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===(0,SA.A)(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=LI.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$C(EI,bI),AI.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},AI.prototype.createOption=function(t){var e=new EI;return e.Parent=this,e.optionName=t,this.Kids.push(e),PI.call(this.scope,e),e};var TI=function(){_I.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=LI.CheckBox.createAppearanceStream()};$C(TI,_I);var CI=function(){bI.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,13):this.Ff=aI(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,21):this.Ff=aI(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,23):this.Ff=aI(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,24):this.Ff=aI(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,25):this.Ff=aI(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,26):this.Ff=aI(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$C(CI,bI);var II=function(){CI.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(iI(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=sI(this.Ff,14):this.Ff=aI(this.Ff,14)}}),this.password=!0};$C(II,CI);var LI={CheckBox:{createAppearanceStream:function(){return{N:{On:LI.CheckBox.YesNormal},D:{On:LI.CheckBox.YesPushDown,Off:LI.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=tI(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=cI(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+QC(LI.internal.getWidth(t))+" "+QC(LI.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+QC(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=tI(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=LI.internal.getHeight(t),a=LI.internal.getWidth(t),o=cI(t,t.caption);return i.push("1 g"),i.push("0 0 "+QC(a)+" "+QC(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+QC(a-1)+" "+QC(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+QC(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=tI(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+QC(LI.internal.getWidth(t))+" "+QC(LI.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:LI.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=LI.RadioButton.Circle.YesNormal,e.D[t]=LI.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=tI(t);e.scope=t.scope;var n=[],r=LI.internal.getWidth(t)<=LI.internal.getHeight(t)?LI.internal.getWidth(t)/4:LI.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=LI.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+JC(LI.internal.getWidth(t)/2)+" "+JC(LI.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=tI(t);e.scope=t.scope;var n=[],r=LI.internal.getWidth(t)<=LI.internal.getHeight(t)?LI.internal.getWidth(t)/4:LI.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*LI.internal.Bezier_C).toFixed(5)),a=Number((r*LI.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+JC(LI.internal.getWidth(t)/2)+" "+JC(LI.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+JC(LI.internal.getWidth(t)/2)+" "+JC(LI.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=tI(t);e.scope=t.scope;var n=[],r=LI.internal.getWidth(t)<=LI.internal.getHeight(t)?LI.internal.getWidth(t)/4:LI.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*LI.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+JC(LI.internal.getWidth(t)/2)+" "+JC(LI.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:LI.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=LI.RadioButton.Cross.YesNormal,e.D[t]=LI.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=tI(t);e.scope=t.scope;var n=[],r=LI.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+QC(LI.internal.getWidth(t)-2)+" "+QC(LI.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(QC(r.x1.x)+" "+QC(r.x1.y)+" m"),n.push(QC(r.x2.x)+" "+QC(r.x2.y)+" l"),n.push(QC(r.x4.x)+" "+QC(r.x4.y)+" m"),n.push(QC(r.x3.x)+" "+QC(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=tI(t);e.scope=t.scope;var n=LI.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+QC(LI.internal.getWidth(t))+" "+QC(LI.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+QC(LI.internal.getWidth(t)-2)+" "+QC(LI.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(QC(n.x1.x)+" "+QC(n.x1.y)+" m"),r.push(QC(n.x2.x)+" "+QC(n.x2.y)+" l"),r.push(QC(n.x4.x)+" "+QC(n.x4.y)+" m"),r.push(QC(n.x3.x)+" "+QC(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=tI(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+QC(LI.internal.getWidth(t))+" "+QC(LI.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};LI.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=LI.internal.getWidth(t),n=LI.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},LI.internal.getWidth=function(t){var e=0;return"object"===(0,SA.A)(t)&&(e=ZC(t.Rect[2])),e},LI.internal.getHeight=function(t){var e=0;return"object"===(0,SA.A)(t)&&(e=ZC(t.Rect[3])),e};var PI=GC.addField=function(t){if(fI(this,t),!(t instanceof bI))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};GC.AcroFormChoiceField=wI,GC.AcroFormListBox=xI,GC.AcroFormComboBox=SI,GC.AcroFormEditBox=NI,GC.AcroFormButton=_I,GC.AcroFormPushButton=kI,GC.AcroFormRadioButton=AI,GC.AcroFormCheckBox=TI,GC.AcroFormTextField=CI,GC.AcroFormPasswordField=II,GC.AcroFormAppearance=LI,GC.AcroForm={ChoiceField:wI,ListBox:xI,ComboBox:SI,EditBox:NI,Button:_I,PushButton:kI,RadioButton:AI,CheckBox:TI,TextField:CI,PasswordField:II,Appearance:LI},WC.AcroForm={ChoiceField:wI,ListBox:xI,ComboBox:SI,EditBox:NI,Button:_I,PushButton:kI,RadioButton:AI,CheckBox:TI,TextField:CI,PasswordField:II,Appearance:LI};WC.AcroForm;function DI(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}!function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(t,r){var i,s,a,o,l,c=e;if("RGBA"===(r=r||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(S(t))for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==t[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==t.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===e&&r!==e&&(c=r),c},i=function t(e){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:e.width}),s.push({key:"Height",value:e.height}),e.colorSpace===g.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===g.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var a="",o=0,l=e.transparency.length;o<l;o++)a+=e.transparency[o]+" "+e.transparency[o]+" ";s.push({key:"Mask",value:"["+a+"]"})}void 0!==e.sMask&&s.push({key:"SMask",value:e.objectId+1+" 0 R"});var c=void 0!==e.filter?["/"+e.filter]:void 0;if(r({data:e.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var u="/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,h={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:u,data:e.sMask};"filter"in e&&(h.filter=e.filter),t.call(this,h)}if(e.colorSpace===g.INDEXED){var d=this.internal.newObject();r({data:_(new Uint8Array(e.palette)),objectId:d}),n("endobj")}},s=function(){var t=this.internal.collections.addImage_images;for(var e in t)i.call(this,t[e])},a=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).index,t.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var t=this.internal.collections.addImage_images;return o.call(this),t},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(e){return"function"==typeof t["process"+e.toUpperCase()]},h=function(t){return"object"===(0,SA.A)(t)&&1===t.nodeType},d=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return yC(unescape(r).split("base64,").pop());var i=t.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return yC(e.toDataURL(s,1).split("base64,").pop())}},f=function(t){var e=this.internal.collections.addImage_images;if(e)for(var n in e)if(t===e[n].alias)return e[n]},p=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},m=function(t,e,n,r,i,s){var a=p.call(this,n,r,i),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=a[0],r=a[1],u[i.index]=i,s){s*=Math.PI/180;var h=Math.cos(s),d=Math.sin(s),f=function(t){return t.toFixed(4)},m=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(t),c(e+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(t),c(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(S(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},b=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},w=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},x=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return x()&&t instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(t){return x()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},_=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=S(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,n,r,i,s,a,l,c,u;if("number"==typeof arguments[1]?(n=e,r=arguments[1],i=arguments[2],s=arguments[3],a=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],a=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,SA.A)(t=arguments[0])&&!h(t)&&"imageData"in t){var d=t;t=d.imageData,n=d.format||n||e,r=d.x||r||0,i=d.y||i||0,s=d.w||d.width||s,a=d.h||d.height||a,l=d.alias||l,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var p=k.call(this,t,n,l,c);return m.call(this,r,i,s,a,p,u),this};var k=function(n,i,s,a){var o,l,p;if("string"==typeof n&&r(n)===e){n=unescape(n);var m=A(n,!1);(""!==m||void 0!==(m=t.loadFile(n,!0)))&&(n=m)}if(h(n)&&(n=d(n,i)),i=r(n,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(p=s)||0===p.length)&&(s=function(t){return"string"==typeof t||S(t)?y(t):S(t.data)?y(t.data):null}(n)),(o=f.call(this,s))||(x()&&(n instanceof Uint8Array||"RGBA"===i||(l=n,n=N(n))),o=this["process"+i.toUpperCase()](n,c.call(this),s,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:v.NONE}(a),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},A=t.__addimage__.convertBase64ToBinaryString=function(t,e){var n;e="boolean"!=typeof e||e;var r,i="";if("string"==typeof t){r=null!==(n=w(t))?n.data:t;try{i=yC(r)}catch(t){if(e)throw b(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};t.getImageProperties=function(n){var i,s,a="";if(h(n)&&(n=d(n)),"string"==typeof n&&r(n)===e&&(""===(a=A(n,!1))&&(a=t.loadFile(n)||""),n=a),s=r(n),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!x()||n instanceof Uint8Array||(n=N(n)),!(i=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=s,i}}(WC.API),function(t){var e=function(t){if(void 0!==t&&""!=t)return!0};WC.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(t){for(var n,r,i,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(t.objId),l=t.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var d=this.internal.pdfEscape,f=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+o.objId+" 0 R",i+=" /T ("+d(g(v))+") >>",p.content=i;var y=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(f(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var x=a(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+x+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},t.link=function(t,e,n,r,i){var s=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:a(t),y:o(e),w:a(t+n),h:o(e+r)},options:i,type:"link"})},t.textWithLink=function(t,e,n,r){var i,s,a=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(t,s).length;i=Math.ceil(o*l)}else s=a,i=o;return this.text(t,e,n,r),n+=.2*o,"center"===r.align&&(e-=a/2),"right"===r.align&&(e-=a),this.link(e,n-o,s,i,r),a},t.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor}}(WC.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},o=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&i.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&s(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i="",s=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(s++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i+=String.fromCharCode(r),r=n,s=0),e===t.length-1&&(r=n,i+=t.charAt(e-(s-1)),e-=s-1,s=0)):(r=n,i+=t.charAt(e-s),e-=s,s=0);return i};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var d=t.__arabicParser__.getCorrectForm=function(t,e,n){return a(t)?!1===s(t)?-1:!c(t)||!a(e)&&!a(n)||!a(n)&&o(e)||o(t)&&!a(e)||o(t)&&l(e)||o(t)&&o(e)?0:u(t)&&a(e)&&!o(e)&&a(n)&&c(n)?3:o(t)||!a(n)?1:2:-1},f=function(t){var n=0,r=0,i=0,s="",o="",l="",c=(t=t||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],a(s)?(i=d(s,o,l),u[n]+=-1!==i?String.fromCharCode(e[s.charCodeAt(0)][i]):s):u[n]+=s;u[n]=h(u[n])}return u.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([f(e[r][0]),e[r][1],e[r][2]]):n.push([f(e[r])]);t=n}else t=f(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}(WC.API),WC.API.autoPrint=function(t){var e;if("javascript"===((t=t||{}).variant=t.variant||"non-conform",t.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")});return this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(WC.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(t){s=t}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(t){a=t}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){r.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),i=e.font||this.getFont(),s=e.scaleFactor||this.internal.scaleFactor,a=0,o=0,l=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var u=e.maxWidth;u>0?"string"==typeof t?t=this.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,u))},[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)a<(l=this.getStringUnitWidth(t[h],{font:i})*n)&&(a=l);return 0!==a&&(o=t.length),{w:a/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var t;t=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===t.lineNumber?(t.x=(i.x||0)+(i.width||0),t.y=i.y||0):i.y+i.height+t.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=o.top,c&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=i.y+i.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-a,t.y+a,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+a,{align:"center",baseline:"top",maxWidth:t.width-a-a}):this.text(t.text,t.x+a,t.y+a,{align:"left",baseline:"top",maxWidth:t.width-a-a})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var h,d,f,p,m=[],g=[],v=[],y={},b={},w=[],x=[],S=(u=u||{}).autoSize||!1,N=!1!==u.printHeaders,_=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,k=u.margins||Object.assign({width:this.getPageWidth()},e),A="number"==typeof u.padding?u.padding:3,E=u.headerBackgroundColor||"#c8c8c8",T=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=T,this.setFontSize(_),null==c)g=m=Object.keys(l[0]),v=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,SA.A)(c[0]))for(m=c.map(function(t){return t.name}),g=c.map(function(t){return t.prompt||t.name||""}),v=c.map(function(t){return t.align||"left"}),h=0;h<c.length;h+=1)b[c[h].name]=c[h].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,v=m.map(function(){return"left"}));if(S||Array.isArray(c)&&"string"==typeof c[0])for(h=0;h<m.length;h+=1){for(y[p=m[h]]=l.map(function(t){return t[p]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(g[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[p],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)w.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,w)+A+A,w=[]}if(N){var C={};for(h=0;h<m.length;h+=1)C[m[h]]={},C[m[h]].text=g[h],C[m[h]].align=v[h];var I=o.call(this,C,b);x=m.map(function(e){return new s(t,n,b[e],I,C[e].text,void 0,C[e].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var L=c.reduce(function(t,e){return t[e.name]=e.align,t},{});for(h=0;h<l.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:l[h]},this);var P=o.call(this,l[h],b);for(f=0;f<m.length;f+=1){var D=l[h][m[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:D},this),a.call(this,new s(t,n,b[m[f]],P,D,h+2,L[m[f]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var o=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(t).map(function(r){var i=t[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,e[r]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*r/i+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){r.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=t;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(WC.API);var OI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],MI=DI(RI),jI=[100,200,300,400,500,600,700,800,900],FI=DI(jI);function UI(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(t){return OI[t=t||"normal"]?t:"normal"}(t.style),r=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),i=function(t){return"number"==typeof MI[t=t||"normal"]?t:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function BI(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var VI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zI={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qI(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function HI(t){return t.trimLeft()}function WI(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function GI(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var KI,YI,XI,QI=["times"];!function(t){var e,n,r,i,s,a,o,l,c,u=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new l,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new a,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new a,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(t){isNaN(t)||(s=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(t){a=t}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(t){o=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof u&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null;function p(t,e){if(null===f){var n=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var r=null;switch(t){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:t},e.push(r))})}),e}(t.getFontList());f=function(t){for(var e={},n=0;n<t.length;++n){var r=UI(t[n]),i=r.family,s=r.stretch,a=r.style,o=r.weight;e[i]=e[i]||{},e[i][s]=e[i][s]||{},e[i][s][a]=e[i][s][a]||{},e[i][s][a][o]=r}return e}(n.concat(e))}return f}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(t){f=null,m=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],s=(e[5],e[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var o=function(t){var e,n,r=[],i=t.trim();if(""===i)return QI;if(i in zI)return[zI[i]];for(;""!==i;){switch(n=null,e=(i=HI(i)).charAt(0)){case'"':case"'":n=WI(i.substring(1),e);break;default:n=GI(i)}if(null===n)return QI;if(r.push(n[0]),""!==(i=HI(n[1]))&&","!==i.charAt(0))return QI;i=i.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},VI,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=UI(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+qI(s)+"' and default family '"+r+"'.");if(a=function(t,e){if(e[t])return e[t];var n=MI[t],r=n<=MI.normal?-1:1,i=BI(e,RI,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+t);return i}(s.stretch,a),a=function(t,e){if(e[t])return e[t];for(var n=OI[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(s.style,a),!(a=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=FI[t],r=BI(e,jI,n,t<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+t);return r}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+qI(s)+"'.");return a}(p(this.pdf,this.fontFaces),o.map(function(t){return{family:t,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var u="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<o.length;d++){if(void 0!==this.pdf.internal.getFont(o[d],c,{noFallback:!0,disableWarning:!0})){u=o[d];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[d],"bold",{noFallback:!0,disableWarning:!0}))u=o[d],c="bold";else if(void 0!==this.pdf.internal.getFont(o[d],"normal",{noFallback:!0,disableWarning:!0})){u=o[d],c="normal";break}}if(""===u)for(var f=0;f<o.length;f++)if(h[o[f]]){u=h[o[f]];break}u=""===u?"Times":u,this.pdf.setFont(u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,j.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,j.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};h.prototype.setLineDash=function(t){this.lineDash=t},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw pC.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(t,e)},h.prototype.closePath=function(){var t=new a(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===(0,SA.A)(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new a(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(t.x,t.y)},h.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw pC.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw pC.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),s=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"qct",x1:s.x,y1:s.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},h.prototype.bezierCurveTo=function(t,e,n,r,i,s){if(isNaN(i)||isNaN(s)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw pC.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new a(i,s)),l=this.ctx.transform.applyToPoint(new a(t,e)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},h.prototype.arc=function(t,e,n,r,i,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw pC.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new a(t,e));t=o.x,e=o.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:s})},h.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw pC.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},h.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw pC.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw pC.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},h.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw pC.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},h.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,i=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==s)e=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=parseFloat(s[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new xC(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw pC.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=O(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;T.call(this,{text:t,x:e,y:n,scale:s,angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw pC.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=O(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;T.call(this,{text:t,x:e,y:n,scale:s,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(t){if("string"!=typeof t)throw pC.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw pC.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(t){if(isNaN(t))throw pC.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new l(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},h.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw pC.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(t,e,n,r,i,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s))throw pC.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(t,e,n,r,i,s);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(t,e,n,r,i,s){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.ctx.transform=new l(t,e,n,r,i,s)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(t,e,n,r,i,s,a,c,u){var h=this.pdf.getImageProperties(t),d=1,f=1,p=1,v=1;void 0!==r&&void 0!==c&&(p=c/r,v=u/i,d=h.width/r*c/r,f=h.height/i*u/i),void 0===s&&(s=e,a=n,e=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=h.width,u=h.height);for(var w,S=this.ctx.transform.decompose(),N=O(S.rotate.shx),_=new l,k=(_=(_=(_=_.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new o(s-e*p,a-n*v,r*d,i*f)),A=g.call(this,k),E=[],T=0;T<A.length;T+=1)-1===E.indexOf(A[T])&&E.push(A[T]);if(b(E),this.autoPaging)for(var C=E[0],I=E[E.length-1],L=C;L<I+1;L++){this.pdf.setPage(L);var P=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],D=1===L?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],j=1===L?0:R+(L-2)*M;if(0!==this.ctx.clip_path.length){var F=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(w,this.posX+this.margin[3],-j+D+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=F}var U=JSON.parse(JSON.stringify(k));U=y([U],this.posX+this.margin[3],-j+D+this.ctx.prevPageLastElemOffset)[0];var B=(L>C||L<I)&&m.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],P,M,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",U.x,U.y,U.w,U.h,null,null,N),B&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",k.x,k.y,k.w,k.h,null,null,N)};var g=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+i)/n)+1);break;case"arc":r.push(Math.floor((t.y+i-t.radius)/n)+1),r.push(Math.floor((t.y+i+t.radius)/n)+1);break;case"qct":var s=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"bct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((t.y+i)/n)+1),r.push(Math.floor((t.y+t.h+i)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)v.call(this);return r},v=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=s},y=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;default:t[r].x+=e,t[r].y+=n}return t},b=function(t){return t.sort(function(t,e){return t-e})},w=function(t,e){for(var n,r,i=this.fillStyle,s=this.strokeStyle,a=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=g.call(this,h[f]),w=0;w<p.length;w+=1)-1===d.indexOf(p[w])&&d.push(p[w]);for(var S=0;S<d.length;S++)for(;this.pdf.internal.getNumberOfPages()<d[S];)v.call(this);if(b(d),this.autoPaging)for(var N=d[0],_=d[d.length-1],k=N;k<_+1;k++){this.pdf.setPage(k),this.fillStyle=i,this.strokeStyle=s,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===k?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],I=1===k?0:T+(k-2)*C;if(0!==this.ctx.clip_path.length){var L=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-I+E+this.ctx.prevPageLastElemOffset),x.call(this,t,!0),this.path=L}if(r=JSON.parse(JSON.stringify(u)),this.path=y(r,this.posX+this.margin[3],-I+E+this.ctx.prevPageLastElemOffset),!1===e||0===k){var P=(k>N||k<_)&&m.call(this);P&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,C,null).clip().discardPath()),x.call(this,t,e),P&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,x.call(this,t,e),this.lineWidth=o;this.path=u},x=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!f.call(this))){for(var n,r,i=[],s=this.path,a=0;a<s.length;a++){var o=s[a];switch(o.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:o,deltas:[],abs:[]});break;case"lt":var l=i.length;if(s[a-1]&&!isNaN(s[a-1].x)&&(n=[o.x-s[a-1].x,o.y-s[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[a-1].x,o.y1-s[a-1].y,o.x2-s[a-1].x,o.y2-s[a-1].y,o.x-s[a-1].x,o.y-s[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=s[a-1].x+2/3*(o.x1-s[a-1].x),u=s[a-1].y+2/3*(o.y1-s[a-1].y),h=o.x+2/3*(o.x1-o.x),d=o.y+2/3*(o.y1-o.y),m=o.x,g=o.y;n=[c-s[a-1].x,u-s[a-1].y,h-s[a-1].x,d-s[a-1].y,m-s[a-1].x,g-s[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(o)}}r=e?null:"stroke"===t?"stroke":"fill";for(var v=!1,y=0;y<i.length;y++)if(i[y].arc)for(var b=i[y].abs,w=0;w<b.length;w++){var x=b[w];"arc"===x.type?_.call(this,x.x,x.y,x.radius,x.startAngle,x.endAngle,x.counterclockwise,void 0,e,!v):C.call(this,x.x,x.y),v=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==i[y].begin){var S=i[y].start.x,N=i[y].start.y;I.call(this,i[y].deltas,S,N),v=!0}r&&k.call(this,r),e&&A.call(this)}},S=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;default:return t}},N=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(t,e,n,r,i,s,a,o,l){for(var c=P.call(this,n,r,i,s),u=0;u<c.length;u++){var h=c[u];0===u&&(l?E.call(this,h.x1+t,h.y1+e):C.call(this,h.x1+t,h.y1+e)),L.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}o?A.call(this):k.call(this,a)},k=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(t,e){this.pdf.internal.out(n(t)+" "+r(e)+" m")},T=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=S.call(this,t.y),i=N.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new a(t.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new o(t.x,r,n.w,n.h)),v=u.applyToRectangle(new o(t.x,i,n.w,n.h)),w=g.call(this,v),_=[],k=0;k<w.length;k+=1)-1===_.indexOf(w[k])&&_.push(w[k]);if(b(_),this.autoPaging)for(var A=_[0],E=_[_.length-1],T=A;T<E+1;T++){this.pdf.setPage(T);var C=1===T?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[2],P=L-this.margin[0],D=this.pdf.internal.pageSize.width-this.margin[1],O=D-this.margin[3],R=1===T?0:I+(T-2)*P;if(0!==this.ctx.clip_path.length){var M=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(h,this.posX+this.margin[3],-1*R+C),x.call(this,"fill",!0),this.path=M}var j=y([JSON.parse(JSON.stringify(v))],this.posX+this.margin[3],-R+C+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),f=this.lineWidth,this.lineWidth=f*t.scale);var F="text"!==this.autoPaging;if(F||j.y+j.h<=L){if(F||j.y>=C&&j.x<=D){var U=F?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||D-j.x)[0],B=y([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-R+C+this.ctx.prevPageLastElemOffset)[0],V=F&&(T>A||T<E)&&m.call(this);V&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,P,null).clip().discardPath()),this.pdf.text(U,B.x,B.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),V&&this.pdf.restoreGraphicsState()}}else j.y<L&&(this.ctx.prevPageLastElemOffset+=L-j.y);t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),f=this.lineWidth,this.lineWidth=f*t.scale),this.pdf.text(t.text,s.x+this.posX,s.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},C=function(t,e,i,s){i=i||0,s=s||0,this.pdf.internal.out(n(t+i)+" "+r(e+s)+" l")},I=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},L=function(t,n,r,a,o,l,c,u){this.pdf.internal.out([e(i(r+t)),e(s(a+n)),e(i(o+t)),e(s(l+n)),e(i(c+t)),e(s(u+n)),"c"].join(" "))},P=function(t,e,n,r){for(var i=2*Math.PI,s=Math.PI/2;e>n;)e-=i;var a=Math.abs(n-e);a<i&&r&&(a=i-a);for(var o=[],l=r?-1:1,c=e;a>1e-5;){var u=c+l*Math.min(a,s);o.push(D.call(this,t,c,u)),a-=Math.abs(u-c),c=u}return o},D=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),s=t*Math.sin(r),a=i,o=-s,l=a*a+o*o,c=l+a*i+o*s,u=4/3*(Math.sqrt(2*l*c)-c)/(a*s-o*i),h=a-u*o,d=o+u*a,f=h,p=-d,m=r+e,g=Math.cos(m),v=Math.sin(m);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*g-d*v,y2:h*v+d*g,x3:f*g-p*v,y3:f*v+p*g,x4:t*Math.cos(n),y4:t*Math.sin(n)}},O=function(t){return 180*t/Math.PI},R=function(t,e,n,r,i,s){var a=t+.5*(n-t),l=e+.5*(r-e),c=i+.5*(n-i),u=s+.5*(r-s),h=Math.min(t,i,a,c),d=Math.max(t,i,a,c),f=Math.min(e,s,l,u),p=Math.max(e,s,l,u);return new o(h,f,d-h,p-f)},M=function(t,e,n,r,i,s,a,l){var c,u,h,d,f,p,m,g,v,y,b,w,x,S,N=n-t,_=r-e,k=i-n,A=s-r,E=a-i,T=l-s;for(u=0;u<41;u++)v=(m=(h=t+(c=u/40)*N)+c*((f=n+c*k)-h))+c*(f+c*(i+c*E-f)-m),y=(g=(d=e+c*_)+c*((p=r+c*A)-d))+c*(p+c*(s+c*T-p)-g),0==u?(b=v,w=y,x=v,S=y):(b=Math.min(b,v),w=Math.min(w,y),x=Math.max(x,v),S=Math.max(S,y));return new o(Math.round(b),Math.round(w),Math.round(x-b),Math.round(S-w))},j=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,n=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(WC.API),function(t){var e=function(t){var e,n,r,i,s,a,o,l,c,u;for(/[^\x00-\xFF]/.test(t),n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;i>r;r+=4)0!==(s=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(a=(s=((s=((s=((s=(s-(u=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(a+33,o+33,l+33,c+33,u+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,i,s,a=String,o="length",l=255,c="charCodeAt",u="slice",h="replace";for(t[u](-2),t=t[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,s=(t+=e="uuuuu"[u](t[o]%5||5))[o];s>i;i+=5)n=52200625*(t[c](i)-33)+614125*(t[c](i+1)-33)+7225*(t[c](i+2)-33)+85*(t[c](i+3)-33)+(t[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[o]),a.fromCharCode.apply(a,r)},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},i=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=cC(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,s){var a=0,o=t||"",l=[];for("string"==typeof(s=s||[])&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":o=n(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=i(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(WC.API),function(t){t.loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,i=0,s=function(t){var e=t.length,n=[],r=String.fromCharCode;for(i=0;i<e;i+=1)n.push(r(255&t.charCodeAt(i)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),e&&200===r.status)return s(r.responseText)}(t,e,n)}catch(t){}return r}(t,e,n)},t.loadImageFile=t.loadFile}(WC.API),function(t){function e(){return(dC.html2canvas?Promise.resolve(dC.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function r(){return(dC.DOMPurify?Promise.resolve(dC.DOMPurify):n.e(213).then(n.t.bind(n,6213,23))).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var i=function(t){var e=(0,SA.A)(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},s=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},a=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(t,e){return t.__proto__=e||a.prototype,t},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(i(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(r).then(function(e){return this.set({src:s("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},a.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var a=n[s],o=a.src.find(function(t){return"truetype"===t.format});o&&e.addFont(o.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,e.context2d.save(!0),t(this.prop.container,i)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},a.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},a.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},a.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(t){if("object"!==i(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in a.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},a.prototype.get=function(t,e){return this.then(function(){var n=t in a.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},a.prototype.setMargin=function(t){return this.then(function(){switch(i(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},a.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||WC.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},a.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},a.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=n.call(r,t,e);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},a.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},a.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return a.convert(e,this)},a.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},a.prototype.error=function(t){return this.then(function(){throw new Error(t)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,WC.getPageSize=function(t,e,n){if("object"===(0,SA.A)(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var i,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+e}var o,l=0,c=0;if(a.hasOwnProperty(s))l=a[s][1]/i,c=a[s][0]/i;else try{l=n[1],c=n[0]}catch(hi){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>l&&(o=c,c=l,l=o);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:e,k:i,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(UI):null;var n=new a(e);return e.worker?n:n.from(t).doCallback()}}(WC.API),WC.API.addJS=function(t){return XI=t,this.internal.events.subscribe("postPutResources",function(){KI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(KI+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+XI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==KI&&void 0!==YI&&this.internal.out("/Names <</JavaScript "+KI+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),i=0;i<r.length;i++){var s=r[i],a=n.exec(s);if(null!=a){var o=a[1];t.internal.newObjectDeferredBegin(o,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=t.internal.newObject();c.push(u);var h=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<c.length;i++)t.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var a=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<e.children.length;o++)this.renderItems(e.children[o])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(WC.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,i,s,a){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(o=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),i=t.length,s={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==e.indexOf(t.charCodeAt(a+1))){n=256*t.charCodeAt(a+5)+t.charCodeAt(a+6),s={width:256*t.charCodeAt(a+7)+t.charCodeAt(a+8),height:n,numcomponents:t.charCodeAt(a+9)};break}r=256*t.charCodeAt(a+2)+t.charCodeAt(a+3)}return s}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:t,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(WC.API);var JI,$I,ZI,tL,eL,nL=function(){var t,e,n;function r(t){var e,n,r,i,s,a,o,l,c,u,h,d,f,p;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*s/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,d=0;0<=e?d<e:d>e;0<=e?++d:--d)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((u=r-this.transparency.indexed.length)>0)for(f=0;0<=u?f<u:f>u;0<=u?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":o=(h=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,h.slice(o+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*e),r=0,i=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function s(s,a,o,l){var c,u,h,d,f,p,m,g,v,y,b,w,x,S,N,_,k,A,E,T,C,I=Math.ceil((i.width-s)/o),L=Math.ceil((i.height-a)/l),P=i.width==I&&i.height==L;for(S=e*I,w=P?n:new Uint8Array(S*L),p=t.length,x=0,u=0;x<L&&r<p;){switch(t[r++]){case 0:for(d=k=0;k<S;d=k+=1)w[u++]=t[r++];break;case 1:for(d=A=0;A<S;d=A+=1)c=t[r++],f=d<e?0:w[u-e],w[u++]=(c+f)%256;break;case 2:for(d=E=0;E<S;d=E+=1)c=t[r++],h=(d-d%e)/e,N=x&&w[(x-1)*S+h*e+d%e],w[u++]=(N+c)%256;break;case 3:for(d=T=0;T<S;d=T+=1)c=t[r++],h=(d-d%e)/e,f=d<e?0:w[u-e],N=x&&w[(x-1)*S+h*e+d%e],w[u++]=(c+Math.floor((f+N)/2))%256;break;case 4:for(d=C=0;C<S;d=C+=1)c=t[r++],h=(d-d%e)/e,f=d<e?0:w[u-e],0===x?N=_=0:(N=w[(x-1)*S+h*e+d%e],_=h&&w[(x-1)*S+(h-1)*e+d%e]),m=f+N-_,g=Math.abs(m-f),y=Math.abs(m-N),b=Math.abs(m-_),v=g<=y&&g<=b?f:y<=b?N:_,w[u++]=(c+v)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!P){var D=((a+x*l)*i.width+s)*e,O=x*S;for(d=0;d<I;d+=1){for(var R=0;R<e;R+=1)n[D++]=w[O++];D+=(o-1)*e}}x++}}return t=uC(t),1==i.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),n},r.prototype.decodePalette=function(){var t,e,n,r,i,s,a,o,l;for(n=this.palette,s=this.transparency.indexed||[],i=new Uint8Array((s.length||0)+n.length),r=0,t=0,e=a=0,o=n.length;a<o;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(l=s[t++])?l:255;return i},r.prototype.copyToImageData=function(t,e){var n,r,i,s,a,o,l,c,u,h,d;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=t.data||t).length,a=u||e,s=o=0,1===r)for(;s<c;)l=u?4*e[s/4]:o,h=a[l++],i[s++]=h,i[s++]=h,i[s++]=h,i[s++]=n?a[l++]:255,o=l;else for(;s<c;)l=u?4*e[s/4]:o,i[s++]=a[l++],i[s++]=a[l++],i[s++]=a[l++],i[s++]=n?a[l++]:255,o=l},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var i=function(){if("[object Window]"===Object.prototype.toString.call(dC)){try{e=dC.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return!1}return!0}return!1};return i(),t=function(t){var r;if(!0===i())return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(e){var n,r,i,s,a,o,l,c;if(this.animation){for(c=[],r=a=0,o=(l=this.animation.frames).length;a<o;r=++a)n=l[r],i=e.createImageData(n.width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,s),n.imageData=i,c.push(n.image=t(i));return c}},r.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,i,s,a,o=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,s=a.numPlays,(e=function(){var a,l;if(a=n++%i,l=r[a],o.renderFrame(t,a),i>1&&n/i<s)return o.animation._timeout=setTimeout(e,l.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}();function rL(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(0===E)break;e+=E}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],0==(1&m)&&(d=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(0===E)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],x=w>>6&1,S=1<<1+(7&w),N=o,_=l,k=!1;w>>7&&(k=!0,N=e,_=S,e+=3*S);var A=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(0===E)break;e+=E}u.push({x:g,y:v,width:y,height:b,has_local_palette:k,palette_offset:N,palette_size:_,data_offset:A,data_length:e-A,transparent_index:d,interlaced:!!x,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=u.length)throw new Error("Frame index out of range.");return u[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),s=i.width*i.height,a=new Uint8Array(s);iL(t,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,m=4*u;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=a.length;v<y;++v){var b=a[v];if(0===h&&(h=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=d+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var w=t[o+3*b],x=t[o+3*b+1],S=t[o+3*b+2];r[p++]=S,r[p++]=x,r[p++]=w,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),s=i.width*i.height,a=new Uint8Array(s);iL(t,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,m=4*u;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=a.length;v<y;++v){var b=a[v];if(0===h&&(h=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=d+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var w=t[o+3*b],x=t[o+3*b+1],S=t[o+3*b+2];r[p++]=w,r[p++]=x,r[p++]=S,r[p++]=255}--h}}}function iL(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==f;)h|=t[e++]<<u,u+=8,1===f?f=t[e++]:--f;if(u<l)break;var g=h&c;if(h>>=l,u-=l,g!==s){if(g===a)break;for(var v=g<o?g:m,y=0,b=v;b>s;)b=p[b]>>8,++y;var w=b;if(d+y+(v!==g?1:0)>r)return void pC.log("Warning, gif stream longer than expected.");n[d++]=w;var x=d+=y;for(v!==g&&(n[d++]=w),b=v;y--;)b=p[b],n[--x]=255&b,b>>=8;null!==m&&o<4096&&(p[o++]=m<<8|w,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=a+1,c=(1<<(l=i+1))-1,m=null}return d!==r&&pC.log("Warning, gif stream shorter than expected."),n}function sL(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),x=new Array(256),S=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(t,e){for(var n=0,r=0,i=new Array,s=1;s<=16;s++){for(var a=1;a<=t[s];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=s,r++,n++;n*=2}return i}function D(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(O(255),O(0)):O(g),v=7,g=0)}function O(t){m.push(t)}function R(t){O(t>>8&255),O(255&t)}function M(t,e,n,r,i){for(var s,a=i[0],o=i[240],l=function(t,e){var n,r,i,s,a,o,l,c,u,h,d=0;for(u=0;u<8;++u){n=t[d],r=t[d+1],i=t[d+2],s=t[d+3],a=t[d+4],o=t[d+5],l=t[d+6];var p=n+(c=t[d+7]),m=n-c,g=r+l,v=r-l,y=i+o,b=i-o,w=s+a,x=s-a,S=p+w,N=p-w,_=g+y,k=g-y;t[d]=S+_,t[d+4]=S-_;var A=.707106781*(k+N);t[d+2]=N+A,t[d+6]=N-A;var E=.382683433*((S=x+b)-(k=v+m)),T=.5411961*S+E,C=1.306562965*k+E,I=.707106781*(_=b+v),L=m+I,P=m-I;t[d+5]=P+T,t[d+3]=P-T,t[d+1]=L+C,t[d+7]=L-C,d+=8}for(d=0,u=0;u<8;++u){n=t[d],r=t[d+8],i=t[d+16],s=t[d+24],a=t[d+32],o=t[d+40],l=t[d+48];var D=n+(c=t[d+56]),O=n-c,R=r+l,M=r-l,j=i+o,F=i-o,U=s+a,B=s-a,V=D+U,z=D-U,q=R+j,H=R-j;t[d]=V+q,t[d+32]=V-q;var W=.707106781*(H+z);t[d+16]=z+W,t[d+48]=z-W;var G=.382683433*((V=B+F)-(H=M+O)),K=.5411961*V+G,Y=1.306562965*H+G,X=.707106781*(q=F+M),Q=O+X,J=O-X;t[d+40]=J+K,t[d+24]=J-K,t[d+8]=Q+Y,t[d+56]=Q-Y,d++}for(u=0;u<64;++u)h=t[u]*e[u],f[u]=h>0?h+.5|0:h-.5|0;return f}(t,e),c=0;c<64;++c)p[N[c]]=l[c];var u=p[0]-n;n=p[0],0==u?D(r[0]):(D(r[d[s=32767+u]]),D(h[s]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return D(a),n;for(var g,v=1;v<=m;){for(var y=v;0==p[v]&&v<=m;)++v;var b=v-y;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)D(o);b&=15}s=32767+p[v],D(i[(b<<4)+d[s]]),D(h[s]),v++}return 63!=m&&D(a),n}function j(t){t=Math.min(Math.max(t,1),100),s!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),o[N[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var h=a((i[s]*t+50)/100);h=Math.min(Math.max(h,1),255),l[N[s]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(o[N[f]]*d[p]*d[m]*8),u[f]=1/(l[N[f]]*d[p]*d[m]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t)}this.encode=function(t,s){s&&j(s),m=new Array,g=0,v=7,R(65496),R(65504),R(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),R(1),R(1),O(0),O(0),function(){R(65499),R(132),O(0);for(var t=0;t<64;t++)O(o[t]);O(1);for(var e=0;e<64;e++)O(l[e])}(),function(t,e){R(65472),R(17),O(8),R(e),R(t),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(t.width,t.height),function(){R(65476),R(418),O(0);for(var t=0;t<16;t++)O(_[t+1]);for(var e=0;e<=11;e++)O(k[e]);O(16);for(var n=0;n<16;n++)O(A[n+1]);for(var r=0;r<=161;r++)O(E[r]);O(1);for(var i=0;i<16;i++)O(T[i+1]);for(var s=0;s<=11;s++)O(C[s]);O(17);for(var a=0;a<16;a++)O(I[a+1]);for(var o=0;o<=161;o++)O(L[o])}(),R(65498),R(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var a=0,h=0,d=0;g=0,v=7,this.encode.displayName="_encode_";for(var f,p,x,N,P,F,U,B,V,z=t.data,q=t.width,H=t.height,W=4*q,G=0;G<H;){for(f=0;f<W;){for(P=W*G+f,U=-1,B=0,V=0;V<64;V++)F=P+(B=V>>3)*W+(U=4*(7&V)),G+B>=H&&(F-=W*(G+1+B-H)),f+U>=W&&(F-=f+U-W+4),p=z[F++],x=z[F++],N=z[F++],y[V]=(S[p]+S[x+256|0]+S[N+512|0]>>16)-128,b[V]=(S[p+768|0]+S[x+1024|0]+S[N+1280|0]>>16)-128,w[V]=(S[p+1280|0]+S[x+1536|0]+S[N+1792|0]>>16)-128;a=M(y,c,a,e,r),h=M(b,u,h,n,i),d=M(w,u,d,n,i),f+=32}G+=8}if(v>=0){var K=[];K[1]=v+1,K[0]=(1<<v+1)-1,D(K)}return R(65497),new Uint8Array(m)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),e=P(_,k),n=P(T,C),r=P(A,E),i=P(I,L),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)S[t]=19595*t,S[t+256|0]=38470*t,S[t+512|0]=7471*t+32768,S[t+768|0]=-11059*t,S[t+1024|0]=-21709*t,S[t+1280|0]=32768*t+8421375,S[t+1536|0]=-27439*t,S[t+1792|0]=-5329*t}(),j(t)}function aL(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oL(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,i){for(var s=0;s<i;s++)t[e+s]=n[r+s]}function i(t,e,n,r){for(var i=0;i<r;i++)t[e+i]=n}function s(t){return new Int32Array(t)}function a(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function o(t,e){var n=[];return function t(n,r,i){for(var s=i[r],a=0;a<s&&(n.push(i.length>r+1?[]:new e),!(i.length<r+1));a++)t(n[a],r+1,i)}(n,0,t),n}var l=function(){var t=this;function l(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,r,i,s){e(!(i%r));do{t[n+(i-=r)]=s}while(0<i)}function u(t,n,r,i,a){if(e(2328>=a),512>=a)var o=s(512);else if(null==(o=s(a)))return 0;return function(t,n,r,i,a,o){var u,d,f=n,p=1<<r,m=s(16),g=s(16);for(e(0!=a),e(null!=i),e(null!=t),e(0<r),d=0;d<a;++d){if(15<i[d])return 0;++m[i[d]]}if(m[0]==a)return 0;for(g[1]=0,u=1;15>u;++u){if(m[u]>1<<u)return 0;g[u+1]=g[u]+m[u]}for(d=0;d<a;++d)u=i[d],0<i[d]&&(o[g[u]++]=d);if(1==g[15])return(i=new h).g=0,i.value=o[0],c(t,f,1,p,i),p;var v,y=-1,b=p-1,w=0,x=1,S=1,N=1<<r;for(d=0,u=1,a=2;u<=r;++u,a<<=1){if(x+=S<<=1,0>(S-=m[u]))return 0;for(;0<m[u];--m[u])(i=new h).g=u,i.value=o[d++],c(t,f+w,a,N,i),w=l(w,u)}for(u=r+1,a=2;15>=u;++u,a<<=1){if(x+=S<<=1,0>(S-=m[u]))return 0;for(;0<m[u];--m[u]){if(i=new h,(w&b)!=y){for(f+=N,v=1<<(y=u)-r;15>y&&!(0>=(v-=m[y]));)++y,v<<=1;p+=N=1<<(v=y-r),t[n+(y=w&b)].g=v+r,t[n+y].value=f-n-y}i.g=u-r,i.value=o[d++],c(t,f+(w>>r),a,N,i),w=l(w,u)}}return x!=2*g[15]-1?0:p}(t,n,r,i,a,o)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=a(5,h),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Un,d)}function p(t,n,r,i){e(null!=t),e(null!=n),e(2147483648>i),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+i,t.Zc=4<=i?r+i-4+1:r,A(t)}function m(t,e){for(var n=0;0<e--;)n|=T(t,128)<<e;return n}function g(t,e){var n=m(t,e);return E(t)?-n:n}function v(t,n,r,i){var s,a=0;for(e(null!=t),e(null!=n),e(4294967288>i),t.Sb=i,t.Ra=0,t.u=0,t.h=0,4<i&&(i=4),s=0;s<i;++s)a+=n[r+s]<<8*s;t.Ra=a,t.bb=i,t.oa=n,t.pa=r}function y(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<zn-8>>>0,++t.bb,t.u-=8;N(t)&&(t.h=1,t.u=0)}function b(t,n){if(e(0<=n),!t.h&&n<=Vn){var r=S(t)&Bn[n];return t.u+=n,y(t),r}return t.h=1,t.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(t){return t.Ra>>>(t.u&zn-1)>>>0}function N(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>zn}function _(t,e){t.u=e,t.h=N(t)}function k(t){t.u>=qn&&(e(t.u>=qn),y(t))}function A(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function E(t){return m(t,1)}function T(t,e){var n=t.Ca;0>t.b&&A(t);var r=t.b,i=n*e>>>8,s=(t.I>>>r>i)+0;for(s?(n-=i,t.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Hn[r],t.b-=r,t.Ca=(n<<r)-1,s}function C(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function I(t,e){return t[e+0]|t[e+1]<<8}function L(t,e){return I(t,e)|t[e+2]<<16}function P(t,e){return I(t,e)|I(t,e+2)<<16}function D(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=s(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function O(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function M(t,n,r,i){e(null!=r),e(null!=i);var s=r[0],a=i[0];return 0==s&&(s=(t*a+n/2)/n),0==a&&(a=(n*s+t/2)/t),0>=s||0>=a?0:(r[0]=s,i[0]=a,1)}function j(t,e){return t+(1<<e)-1>>>e}function F(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function U(e,n){t[n]=function(n,r,i,s,a,o,l){var c;for(c=0;c<a;++c){var u=t[e](o[l+c-1],i,s+c);o[l+c]=F(n[r+c],u)}}}function B(){this.ud=this.hd=this.jd=0}function V(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function z(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function q(t,e){return z(t+(t-e+.5>>1))}function H(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function W(t,e,n,r,i,s,a){for(r=s[a-1],n=0;n<i;++n)s[a+n]=r=F(t[e+n],r)}function G(t,e,n,r,i){var s;for(s=0;s<n;++s){var a=t[e+s],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));r[i+s]=(4278255360&a)+l>>>0}}function K(t,e){e.jd=255&t,e.hd=t>>8&255,e.ud=t>>16&255}function Y(t,e,n,r,i,s){var a;for(a=0;a<r;++a){var o=e[n+a],l=o>>>8,c=o,u=255&(u=(u=o>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(u<<24>>24)>>>5)),i[s+a]=(4278255360&o)+(u<<16)+c}}function X(e,n,r,i,s){t[n]=function(t,e,n,r,a,o,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)a[o++]=s(n[i(t[e++])])},t[e]=function(e,n,a,o,l,c,u){var h=8>>e.b,d=e.Ea,f=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;n<a;++n){var m,g=0;for(m=0;m<d;++m)m&e||(g=i(o[l++])),c[u++]=s(f[g&p]),g>>=h}else t["VP8LMapColor"+r](o,l,f,p,c,u,n,a,d)}}function Q(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s}}function J(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s,r[i++]=s>>24&255}}function $(t,e,n,r,i){for(n=e+n;e<n;){var s=(a=t[e++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[i++]=s,r[i++]=a}}function Z(t,e,n,r,i){for(n=e+n;e<n;){var s=(a=t[e++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=s,r[i++]=a}}function tt(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=255&s,r[i++]=s>>8&255,r[i++]=s>>16&255}}function et(t,e,n,i,s,a){if(0==a)for(n=e+n;e<n;)C(i,((a=t[e++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else r(i,s,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==qr||t==Hr||t==Wr||t==Gr}function it(){this.eb=[],this.size=this.A=this.fb=0}function st(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new st,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ut(t,e){var n=t.T,i=e.ba.f.RGBA,s=i.eb,a=i.fb+t.ka*i.A,o=vi[e.ba.S],l=t.y,c=t.O,u=t.f,h=t.N,d=t.ea,f=t.W,p=e.cc,m=e.dc,g=e.Mc,v=e.Nc,y=t.ka,b=t.ka+t.T,w=t.U,x=w+1>>1;for(0==y?o(l,c,null,null,u,h,d,f,u,h,d,f,s,a,null,null,w):(o(e.ec,e.fc,l,c,p,m,g,v,u,h,d,f,s,a-i.A,s,a,w),++n);y+2<b;y+=2)p=u,m=h,g=d,v=f,h+=t.Rc,f+=t.Rc,a+=2*i.A,o(l,(c+=2*t.fa)-t.fa,l,c,p,m,g,v,u,h,d,f,s,a-i.A,s,a,w);return c+=t.fa,t.j+b<t.o?(r(e.ec,e.fc,l,c,w),r(e.cc,e.dc,u,h,x),r(e.Mc,e.Nc,d,f,x),n--):1&b||o(l,c,null,null,u,h,d,f,u,h,d,f,s,a+i.A,null,null,w),n}function ht(t,n,r){var i=t.F,s=[t.J];if(null!=i){var a=t.U,o=n.ba.S,l=o==Br||o==Wr;n=n.ba.f.RGBA;var c=[0],u=t.ka;c[0]=t.T,t.Kb&&(0==u?--c[0]:(--u,s[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-u));var h=n.eb;u=n.fb+u*n.A,t=kr(i,s[0],t.width,a,c,h,u+(l?0:3),n.A),e(r==c),t&&rt(o)&&Nr(h,u,l,a,c,n.A)}return 0}function dt(t){var e=t.ma,n=e.ba.S,r=11>n,i=n==jr||n==Ur||n==Br||n==Vr||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Mn(e.Oa,t,i?11:12))return 0;if(i&&rt(n)&&bn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ct,t.Kb){if(n=t.U+1>>1,e.memory=s(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=ut,bn()}}else alert("todo:EmitYUV");i&&(e.Jb=ht,r&&vn())}if(r&&!Li){for(t=0;256>t;++t)Pi[t]=89858*(t-128)+Ai>>ki,Ri[t]=-22014*(t-128)+Ai,Oi[t]=-45773*(t-128),Di[t]=113618*(t-128)+Ai>>ki;for(t=Ei;t<Ti;++t)e=76283*(t-16)+Ai>>ki,Mi[t-Ei]=Wt(e,255),ji[t-Ei]=Wt(e+8>>4,15);Li=1}return 1}function ft(t){var n=t.ma,r=t.U,i=t.T;return e(!(1&t.ka)),0>=r||0>=i?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function pt(t){t.ma.memory=null}function mt(t,e,n,r){return 47!=b(t,8)?0:(e[0]=b(t,14)+1,n[0]=b(t,14)+1,r[0]=b(t,1),0!=b(t,3)?0:!t.h)}function gt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+b(e,n)+1}function vt(t,e){return 120<e?e-120:1<=(n=((n=$r[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function yt(t,e,n){var r=S(n),i=t[e+=255&r].g-8;return 0<i&&(_(n,n.u+8),r=S(n),e+=t[e].value,e+=r&(1<<i)-1),_(n,n.u+t[e].g),t[e].value}function bt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function wt(t,n,r){var i=t.xc;return e((n=0==i?0:t.vc[t.md*(r>>i)+(n>>i)])<t.Wb),t.Ya[n]}function xt(t,n,i,s){var a=t.ab,o=t.c*n,l=t.C;n=l+n;var c=i,u=s;for(s=t.Ta,i=t.Ua;0<a--;){var h=t.gc[a],d=l,f=n,p=c,m=u,g=(u=s,c=i,h.Ea);switch(e(d<f),e(f<=h.nc),h.hc){case 2:Kn(p,m,(f-d)*g,u,c);break;case 0:var v=d,y=f,b=u,w=c,x=(A=h).Ea;0==v&&(Wn(p,m,null,null,1,b,w),W(p,m+1,0,0,x-1,b,w+1),m+=x,w+=x,++v);for(var S=1<<A.b,N=S-1,_=j(x,A.b),k=A.K,A=A.w+(v>>A.b)*_;v<y;){var E=k,T=A,C=1;for(Gn(p,m,b,w-x,1,b,w);C<x;){var I=(C&~N)+S;I>x&&(I=x),(0,$n[E[T++]>>8&15])(p,m+ +C,b,w+C-x,I-C,b,w+C),C=I}m+=x,w+=x,++v&N||(A+=_)}f!=h.nc&&r(u,c-g,u,c+(f-d-1)*g,g);break;case 1:for(g=p,y=m,x=(p=h.Ea)-(w=p&~(b=(m=1<<h.b)-1)),v=j(p,h.b),S=h.K,h=h.w+(d>>h.b)*v;d<f;){for(N=S,_=h,k=new B,A=y+w,E=y+p;y<A;)K(N[_++],k),Zn(k,g,y,m,u,c),y+=m,c+=m;y<E&&(K(N[_++],k),Zn(k,g,y,x,u,c),y+=x,c+=x),++d&b||(h+=v)}break;case 3:if(p==u&&m==c&&0<h.b){for(y=u,p=g=c+(f-d)*g-(w=(f-d)*j(h.Ea,h.b)),m=u,b=c,v=[],w=(x=w)-1;0<=w;--w)v[w]=m[b+w];for(w=x-1;0<=w;--w)y[p+w]=v[w];Yn(h,d,f,u,g,u,c)}else Yn(h,d,f,p,m,u,c)}c=s,u=i}u!=i&&r(s,i,c,u,o)}function St(t,n){var r=t.V,i=t.Ba+t.c*t.C,s=n-t.C;if(e(n<=t.l.o),e(16>=s),0<s){var a=t.l,o=t.Ta,l=t.Ua,c=a.width;if(xt(t,s,r,i),s=l=[l],e((r=t.C)<(i=n)),e(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var u=a.j-r;r=a.j,s[0]+=u*c}if(r>=i?r=0:(s[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=t.ca).S){var h=r.f.RGBA,d=(i=r.S,s=a.U,a=a.T,u=h.eb,h.A),f=a;for(h=h.fb+t.Ma*h.A;0<f--;){var p=o,m=l,g=s,v=u,y=h;switch(i){case Mr:tr(p,m,g,v,y);break;case jr:er(p,m,g,v,y);break;case qr:er(p,m,g,v,y),Nr(v,y,0,g,1,0);break;case Fr:ir(p,m,g,v,y);break;case Ur:et(p,m,g,v,y,1);break;case Hr:et(p,m,g,v,y,1),Nr(v,y,0,g,1,0);break;case Br:et(p,m,g,v,y,0);break;case Wr:et(p,m,g,v,y,0),Nr(v,y,1,g,1,0);break;case Vr:nr(p,m,g,v,y);break;case Gr:nr(p,m,g,v,y),_r(v,y,g,1,0);break;case zr:rr(p,m,g,v,y);break;default:e(0)}l+=c,h+=d}t.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function Nt(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function _t(t,n,r,i,s,a){if(0!=t.Z){var o=t.qd,l=t.rd;for(e(null!=gi[t.Z]);n<r;++n)gi[t.Z](o,l,i,s,i,s,a),o=i,l=s,s+=a;t.qd=o,t.rd=l}}function kt(t,n){var r=t.l.ma,i=0==r.Z||1==r.Z?t.l.j:t.C;if(i=t.C<i?i:t.C,e(n<=t.l.o),n>i){var s=t.l.width,a=r.ca,o=r.tb+s*i,l=t.V,c=t.Ba+t.c*i,u=t.gc;e(1==t.ab),e(3==u[0].hc),Qn(u[0],i,n,l,c,a,o),_t(r,i,n,a,o,s)}t.C=t.Ma=n}function At(t,n,r,i,s,a,o){var l=t.$/i,c=t.$%i,u=t.m,h=t.s,d=r+t.$,f=d;s=r+i*s;var p=r+i*a,m=280+h.ua,g=t.Pb?l:16777216,v=0<h.ua?h.Wa:null,y=h.wc,b=d<p?wt(h,c,l):null;e(t.C<a),e(p<=s);var w=!1;t:for(;;){for(;w||d<p;){var x=0;if(l>=g){var A=d-r;e((g=t).Pb),g.wd=g.m,g.xd=A,0<g.s.ua&&O(g.s.Wa,g.s.vb),g=l+ti}if(c&y||(b=wt(h,c,l)),e(null!=b),b.Qb&&(n[d]=b.qb,w=!0),!w)if(k(u),b.jc){x=u,A=n;var E=d,T=b.pd[S(x)&Un-1];e(b.jc),256>T.g?(_(x,x.u+T.g),A[E]=T.value,x=0):(_(x,x.u+T.g-256),e(256<=T.value),x=T.value),0==x&&(w=!0)}else x=yt(b.G[0],b.H[0],u);if(u.h)break;if(w||256>x){if(!w)if(b.nd)n[d]=(b.qb|x<<8)>>>0;else{if(k(u),w=yt(b.G[1],b.H[1],u),k(u),A=yt(b.G[2],b.H[2],u),E=yt(b.G[3],b.H[3],u),u.h)break;n[d]=(E<<24|w<<16|x<<8|A)>>>0}if(w=!1,++d,++c>=i&&(c=0,++l,null!=o&&l<=a&&!(l%16)&&o(t,l),null!=v))for(;f<d;)x=n[f++],v.X[(506832829*x&4294967295)>>>v.Mb]=x}else if(280>x){if(x=gt(x-256,u),A=yt(b.G[4],b.H[4],u),k(u),A=vt(i,A=gt(A,u)),u.h)break;if(d-r<A||s-d<x)break t;for(E=0;E<x;++E)n[d+E]=n[d+E-A];for(d+=x,c+=x;c>=i;)c-=i,++l,null!=o&&l<=a&&!(l%16)&&o(t,l);if(e(d<=s),c&y&&(b=wt(h,c,l)),null!=v)for(;f<d;)x=n[f++],v.X[(506832829*x&4294967295)>>>v.Mb]=x}else{if(!(x<m))break t;for(w=x-280,e(null!=v);f<d;)x=n[f++],v.X[(506832829*x&4294967295)>>>v.Mb]=x;x=d,e(!(w>>>(A=v).Xa)),n[x]=A.X[w],w=!0}w||e(u.h==N(u))}if(t.Pb&&u.h&&d<s)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&O(t.s.vb,t.s.Wa);else{if(u.h)break t;null!=o&&o(t,l>a?a:l),t.a=0,t.$=d-r}return 1}return t.a=3,0}function Et(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function Tt(){var e=new on;return null==e?null:(e.a=0,e.xb=mi,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Kn=G,Zn=Y,tr=Q,er=J,nr=$,rr=Z,ir=tt,t.VP8LMapColor32b=Xn,t.VP8LMapColor8b=Jn,e)}function Ct(t,n,r,o,l){var c=1,d=[t],p=[n],m=o.m,g=o.s,v=null,y=0;t:for(;;){if(r)for(;c&&b(m,1);){var w=d,x=p,N=o,A=1,E=N.m,T=N.gc[N.ab],C=b(E,2);if(N.Oc&1<<C)c=0;else{switch(N.Oc|=1<<C,T.hc=C,T.Ea=w[0],T.nc=x[0],T.K=[null],++N.ab,e(4>=N.ab),C){case 0:case 1:T.b=b(E,3)+2,A=Ct(j(T.Ea,T.b),j(T.nc,T.b),0,N,T.K),T.K=T.K[0];break;case 3:var I,L=b(E,8)+1,P=16<L?0:4<L?1:2<L?2:3;if(w[0]=j(T.Ea,P),T.b=P,I=A=Ct(L,1,0,N,T.K)){var O,R=L,M=T,U=1<<(8>>M.b),B=s(U);if(null==B)I=0;else{var V=M.K[0],z=M.w;for(B[0]=M.K[0][0],O=1;O<1*R;++O)B[O]=F(V[z+O],B[O-1]);for(;O<4*U;++O)B[O]=0;M.K[0]=null,M.K[0]=B,I=1}}A=I;break;case 2:break;default:e(0)}c=A}}if(d=d[0],p=p[0],c&&b(m,1)&&!(c=1<=(y=b(m,4))&&11>=y)){o.a=3;break t}var q;if(q=c)e:{var H,W,G,K=o,Y=d,X=p,Q=y,J=r,$=K.m,Z=K.s,tt=[null],et=1,nt=0,rt=Zr[Q];n:for(;;){if(J&&b($,1)){var it=b($,3)+2,st=j(Y,it),at=j(X,it),ot=st*at;if(!Ct(st,at,0,K,tt))break n;for(tt=tt[0],Z.xc=it,H=0;H<ot;++H){var lt=tt[H]>>8&65535;tt[H]=lt,lt>=et&&(et=lt+1)}}if($.h)break n;for(W=0;5>W;++W){var ct=Xr[W];!W&&0<Q&&(ct+=1<<Q),nt<ct&&(nt=ct)}var ut=a(et*rt,h),ht=et,dt=a(ht,f);if(null==dt)var ft=null;else e(65536>=ht),ft=dt;var pt=s(nt);if(null==ft||null==pt||null==ut){K.a=1;break n}var mt=ut;for(H=G=0;H<et;++H){var gt=ft[H],vt=gt.G,yt=gt.H,wt=0,xt=1,St=0;for(W=0;5>W;++W){ct=Xr[W],vt[W]=mt,yt[W]=G,!W&&0<Q&&(ct+=1<<Q);r:{var Nt,_t=ct,kt=K,Tt=pt,It=mt,Lt=G,Pt=0,Dt=kt.m,Ot=b(Dt,1);if(i(Tt,0,0,_t),Ot){var Rt=b(Dt,1)+1,Mt=b(Dt,1),jt=b(Dt,0==Mt?1:8);Tt[jt]=1,2==Rt&&(Tt[jt=b(Dt,8)]=1);var Ft=1}else{var Ut=s(19),Bt=b(Dt,4)+4;if(19<Bt){kt.a=3;var Vt=0;break r}for(Nt=0;Nt<Bt;++Nt)Ut[Jr[Nt]]=b(Dt,3);var zt=void 0,qt=void 0,Ht=kt,Wt=Ut,Gt=_t,Kt=Tt,Yt=0,Xt=Ht.m,Qt=8,Jt=a(128,h);i:for(;u(Jt,0,7,Wt,19);){if(b(Xt,1)){var $t=2+2*b(Xt,3);if((zt=2+b(Xt,$t))>Gt)break i}else zt=Gt;for(qt=0;qt<Gt&&zt--;){k(Xt);var Zt=Jt[0+(127&S(Xt))];_(Xt,Xt.u+Zt.g);var te=Zt.value;if(16>te)Kt[qt++]=te,0!=te&&(Qt=te);else{var ee=16==te,ne=te-16,re=Yr[ne],ie=b(Xt,Kr[ne])+re;if(qt+ie>Gt)break i;for(var se=ee?Qt:0;0<ie--;)Kt[qt++]=se}}Yt=1;break i}Yt||(Ht.a=3),Ft=Yt}(Ft=Ft&&!Dt.h)&&(Pt=u(It,Lt,8,Tt,_t)),Ft&&0!=Pt?Vt=Pt:(kt.a=3,Vt=0)}if(0==Vt)break n;if(xt&&1==Qr[W]&&(xt=0==mt[G].g),wt+=mt[G].g,G+=Vt,3>=W){var ae,oe=pt[0];for(ae=1;ae<ct;++ae)pt[ae]>oe&&(oe=pt[ae]);St+=oe}}if(gt.nd=xt,gt.Qb=0,xt&&(gt.qb=(vt[3][yt[3]+0].value<<24|vt[1][yt[1]+0].value<<16|vt[2][yt[2]+0].value)>>>0,0==wt&&256>vt[0][yt[0]+0].value&&(gt.Qb=1,gt.qb+=vt[0][yt[0]+0].value<<8)),gt.jc=!gt.Qb&&6>St,gt.jc){var le,ce=gt;for(le=0;le<Un;++le){var ue=le,he=ce.pd[ue],de=ce.G[0][ce.H[0]+ue];256<=de.value?(he.g=de.g+256,he.value=de.value):(he.g=0,he.value=0,ue>>=bt(de,8,he),ue>>=bt(ce.G[1][ce.H[1]+ue],16,he),ue>>=bt(ce.G[2][ce.H[2]+ue],0,he),bt(ce.G[3][ce.H[3]+ue],24,he))}}}Z.vc=tt,Z.Wb=et,Z.Ya=ft,Z.yc=ut,q=1;break e}q=0}if(!(c=q)){o.a=3;break t}if(0<y){if(g.ua=1<<y,!D(g.Wa,y)){o.a=1,c=0;break t}}else g.ua=0;var fe=o,pe=d,me=p,ge=fe.s,ve=ge.xc;if(fe.c=pe,fe.i=me,ge.md=j(pe,ve),ge.wc=0==ve?-1:(1<<ve)-1,r){o.xb=pi;break t}if(null==(v=s(d*p))){o.a=1,c=0;break t}c=(c=At(o,v,0,d,p,p,null))&&!m.h;break t}return c?(null!=l?l[0]=v:(e(null==v),e(r)),o.$=0,r||Et(g)):Et(g),c}function It(t,n){var r=t.c*t.i,i=r+n+16*n;return e(t.c<=n),t.V=s(i),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Lt(t,n){var r=t.C,i=n-r,s=t.V,a=t.Ba+t.c*r;for(e(n<=t.l.o);0<i;){var o=16<i?16:i,l=t.l.ma,c=t.l.width,u=c*o,h=l.ca,d=l.tb+c*r,f=t.Ta,p=t.Ua;xt(t,o,s,a),Ar(f,p,h,d,u),_t(l,r,r+o,h,d,c),i-=o,s+=o*t.c,r+=o}e(r==n),t.C=t.Ma=n}function Pt(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Rt(){this.Yb=function(){var t=[];return function t(e,n,r){for(var i=r[n],s=0;s<i&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));s++)t(e[s],n+1,r)}(t,0,[3,11]),t}()}function Mt(){this.jb=s(3),this.Wc=o([4,8],Rt),this.Xc=o([4,17],Rt)}function jt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ft(){this.ld=this.La=this.dd=this.tc=0}function Ut(){this.Na=this.la=0}function Bt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ft),this.Y=0,this.ya=Array(new Vt),this.aa=0,this.l=new Gt}function qt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ht(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Pt,this.Kc=new Dt,this.ed=new jt,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,w),this.ia=0,this.pb=a(4,Bt),this.Pa=new Mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qt),this.Hd=0,this.rb=Array(new Ut),this.sb=0,this.wa=Array(new Ft),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vt),this.L=this.aa=0,this.gd=o([4,2],Ft),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wt(t,e){return 0>t?0:t>e?e:t}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kt(){var t=new Ht;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ri||(ri=Jt)),t}function Yt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Xt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Qt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return Yt(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,a=n.ha;if(4>a)return Yt(t,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=t.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Yt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Yt(t,4,"Frame not displayable.");s+=3,a-=3;var c=t.Kc;if(l.Rb){if(7>a)return Yt(t,7,"cannot parse picture header");if(!Xt(r,s,a))return Yt(t,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,a-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((o=t.Pa).jb,0,255,o.jb.length),e(null!=(o=t.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,i(o.Zb,0,0,o.Zb.length),i(o.Lb,0,0,o.Lb)}if(l.ub>a)return Yt(t,7,"bad partition length");p(o=t.m,r,s,l.ub),s+=l.ub,a-=l.ub,l.Rb&&(c.Ld=E(o),c.Kd=E(o)),c=t.Qa;var u,h=t.Pa;if(e(null!=o),e(null!=c),c.Cb=E(o),c.Cb){if(c.Bb=E(o),E(o)){for(c.Fb=E(o),u=0;4>u;++u)c.Zb[u]=E(o)?g(o,7):0;for(u=0;4>u;++u)c.Lb[u]=E(o)?g(o,6):0}if(c.Bb)for(u=0;3>u;++u)h.jb[u]=E(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Yt(t,3,"cannot parse segment header");if((c=t.ed).zd=E(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=E(o),c.Pc&&E(o)){for(h=0;4>h;++h)E(o)&&(c.vd[h]=g(o,6));for(h=0;4>h;++h)E(o)&&(c.od[h]=g(o,6))}if(t.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Yt(t,3,"cannot parse filter header");var d=a;if(a=u=s,s=u+d,c=d,t.Xb=(1<<m(t.m,2))-1,d<3*(h=t.Xb))r=7;else{for(u+=3*h,c-=3*h,d=0;d<h;++d){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>c&&(f=c),p(t.Jc[+d],r,u,f),u+=f,c-=f,a+=3}p(t.Jc[+h],r,u,c),r=u<s?0:5}if(0!=r)return Yt(t,r,"cannot parse partitions");for(r=m(u=t.m,7),a=E(u)?g(u,4):0,s=E(u)?g(u,4):0,c=E(u)?g(u,4):0,h=E(u)?g(u,4):0,u=E(u)?g(u,4):0,d=t.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=r)}else{if(0<f){t.pb[f]=t.pb[0];continue}v=r}var y=t.pb[f];y.Sc[0]=ei[Wt(v+a,127)],y.Sc[1]=ni[Wt(v+0,127)],y.Eb[0]=2*ei[Wt(v+s,127)],y.Eb[1]=101581*ni[Wt(v+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ei[Wt(v+h,117)],y.Qc[1]=ni[Wt(v+u,127)],y.lc=v+u}if(!l.Rb)return Yt(t,4,"Not a key frame.");for(E(o),l=t.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(s=0;3>s;++s)for(c=0;11>c;++c)h=T(o,ci[r][a][s][c])?m(o,8):oi[r][a][s][c],l.Wc[r][a].Yb[s][c]=h;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][ui[a]]}return t.kc=E(o),t.kc&&(t.Bd=m(o,8)),t.cb=1}function Jt(t,e,n,r,i,s,a){var o=e[i].Yb[n];for(n=0;16>i;++i){if(!T(t,o[n+0]))return i;for(;!T(t,o[n+1]);)if(o=e[++i].Yb[0],n=0,16==i)return 16;var l=e[i+1].Yb;if(T(t,o[n+2])){var c=t,u=0;if(T(c,(d=o)[(h=n)+3]))if(T(c,d[h+6])){for(o=0,h=2*(u=T(c,d[h+8]))+(d=T(c,d[h+9+u])),u=0,d=ii[h];d[o];++o)u+=u+T(c,d[o]);u+=3+(8<<h)}else T(c,d[h+7])?(u=7+2*T(c,165),u+=T(c,145)):u=5+T(c,159);else u=T(c,d[h+4])?3+T(c,d[h+5]):2;o=l[2]}else u=1,o=l[1];l=a+si[i],0>(c=t).b&&A(c);var h,d=c.b,f=(h=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(h+1&f)<<d,s[l]=((u^f)-f)*r[(0<i)+0]}return 16}function $t(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,i(t.zc,0,0,t.zc.length),t.ja=0}function Zt(t,n){if(null==t)return 0;if(null==n)return Yt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Qt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var o=Ui[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-o>>4,t.zb=n.j-o>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+o>>4,t.Hb=n.va+15+o>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(o=0;4>o;++o){var c;if(t.Qa.Cb){var u=t.Qa.Lb[o];t.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var h=t.gd[o][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=c}}}o=0}else Yt(t,6,"Frame setup failed"),o=t.a;if(o=0==o){if(o){t.$c=0,0<t.Aa||(t.Ic=Vi);t:{o=t.Ic,l=4*(f=t.za);var p=32*f,m=f+1,g=0<t.L?f*(0<t.Aa?2:1):0,v=(2==t.Aa?2:1)*f;if((h=l+832+(c=3*(16*o+Ui[t.L])/2*p)+(u=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)o=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=s(h),t.Fc=0,null==t.Ec){o=Yt(t,1,"no memory during frame initialization.");break t}t.Vb=h}h=t.Ec,d=t.Fc,t.Ac=h,t.Bc=d,d+=l,t.Gd=a(p,qt),t.Hd=0,t.rb=a(m+1,Ut),t.sb=1,t.wa=g?a(g,Ft):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=f),e(!0),t.oc=h,t.pc=d,d+=832,t.ya=a(v,Vt),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=f),t.R=16*f,t.B=8*f,f=(p=Ui[t.L])*t.R,p=p/2*t.B,t.sa=h,t.ta=d+f,t.qa=t.sa,t.ra=t.ta+16*o*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*o*t.B+p,t.$c=0,d+=c,t.mb=u?h:null,t.nb=u?d:null,e(d+u<=t.Fc+t.Vb),$t(t),i(t.Ac,t.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Lr){for(o=-255;255>=o;++o)Er[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Tr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Cr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Ir[255+o]=0>o?0:255<o?255:o;Lr=1}sr=ce,ar=se,lr=ae,cr=oe,ur=le,or=ie,hr=Ye,dr=Xe,fr=$e,pr=Ze,mr=Qe,gr=Je,vr=tn,yr=en,br=ze,wr=qe,xr=He,Sr=We,di[0]=_e,di[1]=he,di[2]=Se,di[3]=Ne,di[4]=ke,di[5]=Ee,di[6]=Ae,di[7]=Te,di[8]=Ie,di[9]=Ce,hi[0]=ve,hi[1]=fe,hi[2]=pe,hi[3]=me,hi[4]=ye,hi[5]=be,hi[6]=we,fi[0]=Oe,fi[1]=de,fi[2]=Le,fi[3]=Pe,fi[4]=Me,fi[5]=Re,fi[6]=je,o=1}else o=0}o&&(o=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var a,o=t.Jc[t.M&t.Xb],l=t.m,c=t;for(a=0;a<c.za;++a){var u=l,h=c,d=h.Ac,f=h.Bc+4*a,p=h.zc,m=h.ya[h.aa+a];if(h.Qa.Bb?m.$b=T(u,h.Pa.jb[0])?2+T(u,h.Pa.jb[2]):T(u,h.Pa.jb[1]):m.$b=0,h.kc&&(m.Ad=T(u,h.Bd)),m.Za=!T(u,145)+0,m.Za){var g=m.Ob,v=0;for(h=0;4>h;++h){var y,b=p[0+h];for(y=0;4>y;++y){b=li[d[f+y]][b];for(var w=ai[T(u,b[0])];0<w;)w=ai[2*w+T(u,b[w])];b=-w,d[f+y]=b}r(g,v,d,f,4),v+=4,p[0+h]=b}}else b=T(u,156)?T(u,128)?1:3:T(u,163)?2:0,m.Ob[0]=b,i(d,f,b,4),i(p,0,b,4);m.Dd=T(u,142)?T(u,114)?T(u,183)?1:3:2:0}if(c.m.Ka)return Yt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=o,u=(l=t).rb[l.sb-1],d=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],f=l.kc?a.Ad:0)u.la=d.la=0,a.Za||(u.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var x,S;if(u=d,d=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],h=p.ad,g=0,v=l.rb[l.sb-1],b=y=0,i(h,g,0,384),p.Za)var N=0,_=f[3];else{w=s(16);var k=u.Na+v.Na;if(k=ri(d,f[1],k,m.Eb,0,w,0),u.Na=v.Na=(0<k)+0,1<k)sr(w,0,h,g);else{var A=w[0]+3>>3;for(w=0;256>w;w+=16)h[g+w]=A}N=1,_=f[0]}var E=15&u.la,C=15&v.la;for(w=0;4>w;++w){var I=1&C;for(A=S=0;4>A;++A)E=E>>1|(I=(k=ri(d,_,k=I+(1&E),m.Sc,N,h,g))>N)<<7,S=S<<2|(3<k?3:1<k?2:0!=h[g+0]),g+=16;E>>=4,C=C>>1|I<<7,y=(y<<8|S)>>>0}for(_=E,N=C>>4,x=0;4>x;x+=2){for(S=0,E=u.la>>4+x,C=v.la>>4+x,w=0;2>w;++w){for(I=1&C,A=0;2>A;++A)k=I+(1&E),E=E>>1|(I=0<(k=ri(d,f[2],k,m.Qc,0,h,g)))<<3,S=S<<2|(3<k?3:1<k?2:0!=h[g+0]),g+=16;E>>=2,C=C>>1|I<<5}b|=S<<4*x,_|=E<<4<<x,N|=(240&C)<<x}u.la=_,v.la=N,p.Hc=y,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(y|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Yt(t,7,"Premature end-of-file encountered.")}if($t(t),l=n,c=1,a=(o=t).D,u=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(a.M=o.M,a.uc=u,On(o,a),c=1,a=(S=o.D).Nb,u=(b=Ui[o.L])*o.R,d=b/2*o.B,w=16*a*o.R,A=8*a*o.B,f=o.sa,p=o.ta-u+w,m=o.qa,h=o.ra-d+A,g=o.Ha,v=o.Ia-d+A,C=0==(E=S.M),y=E>=o.Va-1,2==o.Aa&&On(o,S),S.uc)for(I=(k=o).D.M,e(k.D.uc),S=k.yb;S<k.Hb;++S){N=S,_=I;var L=(P=(V=k).D).Nb;x=V.R;var P=P.wa[P.Y+N],D=V.sa,O=V.ta+16*L*x+16*N,R=P.dd,M=P.tc;if(0!=M)if(e(3<=M),1==V.L)0<N&&wr(D,O,x,M+4),P.La&&Sr(D,O,x,M),0<_&&br(D,O,x,M+4),P.La&&xr(D,O,x,M);else{var j=V.B,F=V.qa,U=V.ra+8*L*j+8*N,B=V.Ha,V=V.Ia+8*L*j+8*N;L=P.ld,0<N&&(dr(D,O,x,M+4,R,L),pr(F,U,B,V,j,M+4,R,L)),P.La&&(gr(D,O,x,M,R,L),yr(F,U,B,V,j,M,R,L)),0<_&&(hr(D,O,x,M+4,R,L),fr(F,U,B,V,j,M+4,R,L)),P.La&&(mr(D,O,x,M,R,L),vr(F,U,B,V,j,M,R,L))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(S=16*E,E=16*(E+1),C?(l.y=o.sa,l.O=o.ta+w,l.f=o.qa,l.N=o.ra+A,l.ea=o.Ha,l.W=o.Ia+A):(S-=b,l.y=f,l.O=p,l.f=m,l.N=h,l.ea=g,l.W=v),y||(E-=b),E>l.o&&(E=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&S<E&&(l.J=dn(o,l,S,E-S),l.F=o.mb,null==l.F&&0==l.F.length)){c=Yt(o,3,"Could not decode alpha data.");break t}S<l.j&&(b=l.j-S,S=l.j,e(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),S<E&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=S-l.j,l.U=l.va-l.v,l.T=E-S,c=l.put(l))}a+1!=o.Ic||y||(r(o.sa,o.ta-u,f,p+16*o.R,u),r(o.qa,o.ra-d,m,h+8*o.B,d),r(o.Ha,o.Ia-d,g,v+8*o.B,d))}if(!c)return Yt(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),o&=1}return o?(t.cb=0,o):0}function te(t,e,n,r,i){i=t[e+n+32*r]+(i>>3),t[e+n+32*r]=-256&i?0>i?0:255:i}function ee(t,e,n,r,i,s){te(t,e,0,n,r+i),te(t,e,1,n,r+s),te(t,e,2,n,r-s),te(t,e,3,n,r-i)}function ne(t){return(20091*t>>16)+t}function re(t,e,n,r){var i,a=0,o=s(16);for(i=0;4>i;++i){var l=t[e+0]+t[e+8],c=t[e+0]-t[e+8],u=(35468*t[e+4]>>16)-ne(t[e+12]),h=ne(t[e+4])+(35468*t[e+12]>>16);o[a+0]=l+h,o[a+1]=c+u,o[a+2]=c-u,o[a+3]=l-h,a+=4,e++}for(i=a=0;4>i;++i)l=(t=o[a+0]+4)+o[a+8],c=t-o[a+8],u=(35468*o[a+4]>>16)-ne(o[a+12]),te(n,r,0,0,l+(h=ne(o[a+4])+(35468*o[a+12]>>16))),te(n,r,1,0,c+u),te(n,r,2,0,c-u),te(n,r,3,0,l-h),a++,r+=32}function ie(t,e,n,r){var i=t[e+0]+4,s=35468*t[e+4]>>16,a=ne(t[e+4]),o=35468*t[e+1]>>16;ee(n,r,0,i+a,t=ne(t[e+1]),o),ee(n,r,1,i+s,t,o),ee(n,r,2,i-s,t,o),ee(n,r,3,i-a,t,o)}function se(t,e,n,r,i){re(t,e,n,r),i&&re(t,e+16,n,r+4)}function ae(t,e,n,r){ar(t,e+0,n,r,1),ar(t,e+32,n,r+128,1)}function oe(t,e,n,r){var i;for(t=t[e+0]+4,i=0;4>i;++i)for(e=0;4>e;++e)te(n,r,e,i,t)}function le(t,e,n,r){t[e+0]&&cr(t,e+0,n,r),t[e+16]&&cr(t,e+16,n,r+4),t[e+32]&&cr(t,e+32,n,r+128),t[e+48]&&cr(t,e+48,n,r+128+4)}function ce(t,e,n,r){var i,a=s(16);for(i=0;4>i;++i){var o=t[e+0+i]+t[e+12+i],l=t[e+4+i]+t[e+8+i],c=t[e+4+i]-t[e+8+i],u=t[e+0+i]-t[e+12+i];a[0+i]=o+l,a[8+i]=o-l,a[4+i]=u+c,a[12+i]=u-c}for(i=0;4>i;++i)o=(t=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],u=t-a[3+4*i],n[r+0]=o+l>>3,n[r+16]=u+c>>3,n[r+32]=o-l>>3,n[r+48]=u-c>>3,r+=64}function ue(t,e,n){var r,i=e-32,s=Or,a=255-t[i-1];for(r=0;r<n;++r){var o,l=s,c=a+t[e-1];for(o=0;o<n;++o)t[e+o]=l[c+t[i+o]];e+=32}}function he(t,e){ue(t,e,4)}function de(t,e){ue(t,e,8)}function fe(t,e){ue(t,e,16)}function pe(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function me(t,e){var n;for(n=16;0<n;--n)i(t,e,t[e-1],16),e+=32}function ge(t,e,n){var r;for(r=0;16>r;++r)i(e,n+32*r,t,16)}function ve(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];ge(r>>5,t,e)}function ye(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];ge(r>>4,t,e)}function be(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];ge(r>>4,t,e)}function we(t,e){ge(128,t,e)}function xe(t,e,n){return t+2*e+n+2>>2}function Se(t,e){var n,i=e-32;for(i=new Uint8Array([xe(t[i-1],t[i+0],t[i+1]),xe(t[i+0],t[i+1],t[i+2]),xe(t[i+1],t[i+2],t[i+3]),xe(t[i+2],t[i+3],t[i+4])]),n=0;4>n;++n)r(t,e+32*n,i,0,i.length)}function Ne(t,e){var n=t[e-1],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96];C(t,e+0,16843009*xe(t[e-1-32],n,r)),C(t,e+32,16843009*xe(n,r,i)),C(t,e+64,16843009*xe(r,i,s)),C(t,e+96,16843009*xe(i,s,s))}function _e(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)i(t,e+32*n,r,4)}function ke(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1-32],a=t[e+0-32],o=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=xe(r,i,t[e-1+96]),t[e+1+96]=t[e+0+64]=xe(n,r,i),t[e+2+96]=t[e+1+64]=t[e+0+32]=xe(s,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=xe(a,s,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=xe(o,a,s),t[e+3+32]=t[e+2+0]=xe(l,o,a),t[e+3+0]=xe(c,l,o)}function Ae(t,e){var n=t[e+1-32],r=t[e+2-32],i=t[e+3-32],s=t[e+4-32],a=t[e+5-32],o=t[e+6-32],l=t[e+7-32];t[e+0+0]=xe(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=xe(n,r,i),t[e+2+0]=t[e+1+32]=t[e+0+64]=xe(r,i,s),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=xe(i,s,a),t[e+3+32]=t[e+2+64]=t[e+1+96]=xe(s,a,o),t[e+3+64]=t[e+2+96]=xe(a,o,l),t[e+3+96]=xe(o,l,l)}function Ee(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1-32],a=t[e+0-32],o=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=s+a+1>>1,t[e+1+0]=t[e+2+64]=a+o+1>>1,t[e+2+0]=t[e+3+64]=o+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=xe(i,r,n),t[e+0+64]=xe(r,n,s),t[e+0+32]=t[e+1+96]=xe(n,s,a),t[e+1+32]=t[e+2+96]=xe(s,a,o),t[e+2+32]=t[e+3+96]=xe(a,o,l),t[e+3+32]=xe(o,l,c)}function Te(t,e){var n=t[e+0-32],r=t[e+1-32],i=t[e+2-32],s=t[e+3-32],a=t[e+4-32],o=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+i+1>>1,t[e+2+0]=t[e+1+64]=i+s+1>>1,t[e+3+0]=t[e+2+64]=s+a+1>>1,t[e+0+32]=xe(n,r,i),t[e+1+32]=t[e+0+96]=xe(r,i,s),t[e+2+32]=t[e+1+96]=xe(i,s,a),t[e+3+32]=t[e+2+96]=xe(s,a,o),t[e+3+64]=xe(a,o,l),t[e+3+96]=xe(o,l,c)}function Ce(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+i+1>>1,t[e+2+32]=t[e+0+64]=i+s+1>>1,t[e+1+0]=xe(n,r,i),t[e+3+0]=t[e+1+32]=xe(r,i,s),t[e+3+32]=t[e+1+64]=xe(i,s,s),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=s}function Ie(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96],a=t[e-1-32],o=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+a+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=i+r+1>>1,t[e+0+96]=s+i+1>>1,t[e+3+0]=xe(o,l,c),t[e+2+0]=xe(a,o,l),t[e+1+0]=t[e+3+32]=xe(n,a,o),t[e+1+32]=t[e+3+64]=xe(r,n,a),t[e+1+64]=t[e+3+96]=xe(i,r,n),t[e+1+96]=xe(s,i,r)}function Le(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Pe(t,e){var n;for(n=0;8>n;++n)i(t,e,t[e-1],8),e+=32}function De(t,e,n){var r;for(r=0;8>r;++r)i(e,n+32*r,t,8)}function Oe(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];De(r>>4,t,e)}function Re(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];De(r>>3,t,e)}function Me(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];De(r>>3,t,e)}function je(t,e){De(128,t,e)}function Fe(t,e,n){var r=t[e-n],i=t[e+0],s=3*(i-r)+Pr[1020+t[e-2*n]-t[e+n]],a=Dr[112+(s+4>>3)];t[e-n]=Or[255+r+Dr[112+(s+3>>3)]],t[e+0]=Or[255+i-a]}function Ue(t,e,n,r){var i=t[e+0],s=t[e+n];return Rr[255+t[e-2*n]-t[e-n]]>r||Rr[255+s-i]>r}function Be(t,e,n,r){return 4*Rr[255+t[e-n]-t[e+0]]+Rr[255+t[e-2*n]-t[e+n]]<=r}function Ve(t,e,n,r,i){var s=t[e-3*n],a=t[e-2*n],o=t[e-n],l=t[e+0],c=t[e+n],u=t[e+2*n],h=t[e+3*n];return 4*Rr[255+o-l]+Rr[255+a-c]>r?0:Rr[255+t[e-4*n]-s]<=i&&Rr[255+s-a]<=i&&Rr[255+a-o]<=i&&Rr[255+h-u]<=i&&Rr[255+u-c]<=i&&Rr[255+c-l]<=i}function ze(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Be(t,e+r,n,i)&&Fe(t,e+r,n)}function qe(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Be(t,e+r*n,1,i)&&Fe(t,e+r*n,1)}function He(t,e,n,r){var i;for(i=3;0<i;--i)ze(t,e+=4*n,n,r)}function We(t,e,n,r){var i;for(i=3;0<i;--i)qe(t,e+=4,n,r)}function Ge(t,e,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(Ve(t,e,n,s,a))if(Ue(t,e,n,o))Fe(t,e,n);else{var l=t,c=e,u=n,h=l[c-2*u],d=l[c-u],f=l[c+0],p=l[c+u],m=l[c+2*u],g=27*(y=Pr[1020+3*(f-d)+Pr[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;l[c-3*u]=Or[255+l[c-3*u]+y],l[c-2*u]=Or[255+h+v],l[c-u]=Or[255+d+g],l[c+0]=Or[255+f-g],l[c+u]=Or[255+p-v],l[c+2*u]=Or[255+m-y]}e+=r}}function Ke(t,e,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(Ve(t,e,n,s,a))if(Ue(t,e,n,o))Fe(t,e,n);else{var l=t,c=e,u=n,h=l[c-u],d=l[c+0],f=l[c+u],p=Dr[112+(4+(m=3*(d-h))>>3)],m=Dr[112+(m+3>>3)],g=p+1>>1;l[c-2*u]=Or[255+l[c-2*u]+g],l[c-u]=Or[255+h+m],l[c+0]=Or[255+d-p],l[c+u]=Or[255+f-g]}e+=r}}function Ye(t,e,n,r,i,s){Ge(t,e,n,1,16,r,i,s)}function Xe(t,e,n,r,i,s){Ge(t,e,1,n,16,r,i,s)}function Qe(t,e,n,r,i,s){var a;for(a=3;0<a;--a)Ke(t,e+=4*n,n,1,16,r,i,s)}function Je(t,e,n,r,i,s){var a;for(a=3;0<a;--a)Ke(t,e+=4,1,n,16,r,i,s)}function $e(t,e,n,r,i,s,a,o){Ge(t,e,i,1,8,s,a,o),Ge(n,r,i,1,8,s,a,o)}function Ze(t,e,n,r,i,s,a,o){Ge(t,e,1,i,8,s,a,o),Ge(n,r,1,i,8,s,a,o)}function tn(t,e,n,r,i,s,a,o){Ke(t,e+4*i,i,1,8,s,a,o),Ke(n,r+4*i,i,1,8,s,a,o)}function en(t,e,n,r,i,s,a,o){Ke(t,e+4,1,i,8,s,a,o),Ke(n,r+4,1,i,8,s,a,o)}function nn(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function on(){this.xb=this.a=0,this.l=new Gt,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=a(4,sn),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(t,e,n,r,i,s,a){for(t=null==t?0:t[e+0],e=0;e<a;++e)i[s+e]=t+n[r+e]&255,t=i[s+e]}function un(t,e,n,r,i,s,a){var o;if(null==t)cn(null,null,n,r,i,s,a);else for(o=0;o<a;++o)i[s+o]=t[e+o]+n[r+o]&255}function hn(t,e,n,r,i,s,a){if(null==t)cn(null,null,n,r,i,s,a);else{var o,l=t[e+0],c=l,u=l;for(o=0;o<a;++o)c=u+(l=t[e+o])-c,u=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,i[s+o]=u}}function dn(t,n,i,a){var o=n.width,l=n.o;if(e(null!=t&&null!=n),0>i||0>=a||i+a>l)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new ln,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=s(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){c=t.ga;var u=t.Fa,h=t.P,d=t.qc,f=t.mb,p=t.nb,m=h+1,g=d-1,y=c.l;if(e(null!=u&&null!=f&&null!=n),gi[0]=null,gi[1]=cn,gi[2]=un,gi[3]=hn,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&u[h+0],c.Z=u[h+0]>>2&3,c.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(y.put=ft,y.ac=dt,y.bc=pt,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)t:{e(1==c.$a),n=Tt();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,u,m,g),!Ct(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&Nt(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=It(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:a=l-i}e(null!=t.ga),e(i+a<=l);t:{if(n=(u=t.ga).c,l=u.l.o,0==u.$a){if(m=t.rc,g=t.Vc,y=t.Fa,h=t.P+1+i*n,d=t.mb,f=t.nb+i*n,e(h<=t.P+t.qc),0!=u.Z)for(e(null!=gi[u.Z]),c=0;c<a;++c)gi[u.Z](m,g,y,h,d,f,n),m=d,g=f,f+=n,h+=n;else for(c=0;c<a;++c)r(d,f,y,h,n),m=d,g=f,f+=n,h+=n;t.rc=m,t.Vc=g}else{if(e(null!=u.mc),n=i+a,e(null!=(c=u.mc)),e(n<=c.i),c.C>=n)n=1;else if(u.ic||vn(),u.ic){u=c.V,m=c.Ba,g=c.c;var b=c.i,w=(y=1,h=c.$/g,d=c.$%g,f=c.m,p=c.s,c.$),x=g*b,S=g*n,_=p.wc,A=w<S?wt(p,d,h):null;e(w<=x),e(n<=b),e(Nt(p));e:for(;;){for(;!f.h&&w<S;){if(d&_||(A=wt(p,d,h)),e(null!=A),k(f),256>(b=yt(A.G[0],A.H[0],f)))u[m+w]=b,++w,++d>=g&&(d=0,++h<=n&&!(h%16)&&kt(c,h));else{if(!(280>b)){y=0;break e}b=gt(b-256,f);var E,T=yt(A.G[4],A.H[4],f);if(k(f),!(w>=(T=vt(g,T=gt(T,f)))&&x-w>=b)){y=0;break e}for(E=0;E<b;++E)u[m+w+E]=u[m+w+E-T];for(w+=b,d+=b;d>=g;)d-=g,++h<=n&&!(h%16)&&kt(c,h);w<S&&d&_&&(A=wt(p,d,h))}e(f.h==N(f))}kt(c,h>n?n:h);break e}!y||f.h&&w<x?(y=0,c.a=f.h?5:3):c.$=w,n=y}else n=At(c,c.V,c.Ba,c.c,c.i,n,Lt);if(!n){a=0;break t}}i+a>=l&&(t.Cc=1),a=1}if(!a)return null;if(t.Cc&&(null!=(a=t.ga)&&(a.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+i*o}function fn(t,e,n,r,i,s){for(;0<i--;){var a,o=t,l=e+(n?1:0),c=t,u=e+(n?0:3);for(a=0;a<r;++a){var h=c[u+4*a];255!=h&&(h*=32897,o[l+4*a+0]=o[l+4*a+0]*h>>23,o[l+4*a+1]=o[l+4*a+1]*h>>23,o[l+4*a+2]=o[l+4*a+2]*h>>23)}e+=s}}function pn(t,e,n,r,i){for(;0<r--;){var s;for(s=0;s<n;++s){var a=t[e+2*s+0],o=15&(c=t[e+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;t[e+2*s+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,t[e+2*s+1]=240&c|o}e+=i}}function mn(t,e,n,r,i,s,a,o){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var h=t[e+l];s[a+4*l]=h,u&=h}e+=n,a+=o}return 255!=u}function gn(t,e,n,r,i){var s;for(s=0;s<i;++s)n[r+s]=t[e+s]>>8}function vn(){Nr=fn,_r=pn,kr=mn,Ar=gn}function yn(n,r,i){t[n]=function(t,n,s,a,o,l,c,u,h,d,f,p,m,g,v,y,b){var w,x=b-1>>1,S=o[l+0]|c[u+0]<<16,N=h[d+0]|f[p+0]<<16;e(null!=t);var _=3*S+N+131074>>2;for(r(t[n+0],255&_,_>>16,m,g),null!=s&&(_=3*N+S+131074>>2,r(s[a+0],255&_,_>>16,v,y)),w=1;w<=x;++w){var k=o[l+w]|c[u+w]<<16,A=h[d+w]|f[p+w]<<16,E=S+k+N+A+524296,T=E+2*(k+N)>>3;_=T+S>>1,S=(E=E+2*(S+A)>>3)+k>>1,r(t[n+2*w-1],255&_,_>>16,m,g+(2*w-1)*i),r(t[n+2*w-0],255&S,S>>16,m,g+(2*w-0)*i),null!=s&&(_=E+N>>1,S=T+A>>1,r(s[a+2*w-1],255&_,_>>16,v,y+(2*w-1)*i),r(s[a+2*w+0],255&S,S>>16,v,y+(2*w+0)*i)),S=k,N=A}1&b||(_=3*S+N+131074>>2,r(t[n+b-1],255&_,_>>16,m,g+(b-1)*i),null!=s&&(_=3*N+S+131074>>2,r(s[a+b-1],255&_,_>>16,v,y+(b-1)*i)))}}function bn(){vi[Mr]=yi,vi[jr]=wi,vi[Fr]=bi,vi[Ur]=xi,vi[Br]=Si,vi[Vr]=Ni,vi[zr]=_i,vi[qr]=wi,vi[Hr]=xi,vi[Wr]=Si,vi[Gr]=Ni}function wn(t){return t&~Ii?0>t?0:255:t>>Ci}function xn(t,e){return wn((19077*t>>8)+(26149*e>>8)-14234)}function Sn(t,e,n){return wn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function Nn(t,e){return wn((19077*t>>8)+(33050*e>>8)-17685)}function _n(t,e,n,r,i){r[i+0]=xn(t,n),r[i+1]=Sn(t,e,n),r[i+2]=Nn(t,e)}function kn(t,e,n,r,i){r[i+0]=Nn(t,e),r[i+1]=Sn(t,e,n),r[i+2]=xn(t,n)}function An(t,e,n,r,i){var s=Sn(t,e,n);e=s<<3&224|Nn(t,e)>>3,r[i+0]=248&xn(t,n)|s>>5,r[i+1]=e}function En(t,e,n,r,i){var s=240&Nn(t,e)|15;r[i+0]=240&xn(t,n)|Sn(t,e,n)>>4,r[i+1]=s}function Tn(t,e,n,r,i){r[i+0]=255,_n(t,e,n,r,i+1)}function Cn(t,e,n,r,i){kn(t,e,n,r,i),r[i+3]=255}function In(t,e,n,r,i){_n(t,e,n,r,i),r[i+3]=255}function Wt(t,e){return 0>t?0:t>e?e:t}function Ln(e,n,r){t[e]=function(t,e,i,s,a,o,l,c,u){for(var h=c+(-2&u)*r;c!=h;)n(t[e+0],i[s+0],a[o+0],l,c),n(t[e+1],i[s+0],a[o+0],l,c+r),e+=2,++s,++o,c+=2*r;1&u&&n(t[e+0],i[s+0],a[o+0],l,c)}}function Pn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function Dn(t,e,n,r,i){switch(t>>>30){case 3:ar(e,n,r,i,0);break;case 2:or(e,n,r,i);break;case 1:cr(e,n,r,i)}}function On(t,e){var n,s,a=e.M,o=e.Nb,l=t.oc,c=t.pc+40,u=t.oc,h=t.pc+584,d=t.oc,f=t.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[h+32*n-1]=129,d[f+32*n-1]=129;for(0<a?l[c-1-32]=u[h-1-32]=d[f-1-32]=129:(i(l,c-32-1,127,21),i(u,h-32-1,127,9),i(d,f-32-1,127,9)),s=0;s<t.za;++s){var p=e.ya[e.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,h+32*n-4,u,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var m=t.Gd,g=t.Hd+s,v=p.ad,y=p.Hc;if(0<a&&(r(l,c-32,m[g].y,0,16),r(u,h-32,m[g].f,0,8),r(d,f-32,m[g].ea,0,8)),p.Za){var b=l,w=c-32+16;for(0<a&&(s>=t.za-1?i(b,w,m[g].y[15],4):r(b,w,m[g+1].y,0,4)),n=0;4>n;n++)b[w+128+n]=b[w+256+n]=b[w+384+n]=b[w+0+n];for(n=0;16>n;++n,y<<=2)b=l,w=c+Fi[n],di[p.Ob[n]](b,w),Dn(y,v,16*+n,b,w)}else if(b=Pn(s,a,p.Ob[0]),hi[b](l,c),0!=y)for(n=0;16>n;++n,y<<=2)Dn(y,v,16*+n,l,c+Fi[n]);for(n=p.Gc,b=Pn(s,a,p.Dd),fi[b](u,h),fi[b](d,f),y=v,b=u,w=h,255&(p=n|0)&&(170&p?lr(y,256,b,w):ur(y,256,b,w)),p=d,y=f,255&(n>>=8)&&(170&n?lr(v,320,p,y):ur(v,320,p,y)),a<t.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,u,h+224,8),r(m[g].ea,0,d,f+224,8)),n=8*o*t.B,m=t.sa,g=t.ta+16*s+16*o*t.R,v=t.qa,p=t.ra+8*s+n,y=t.Ha,b=t.Ia+8*s+n,n=0;16>n;++n)r(m,g+n*t.R,l,c+32*n,16);for(n=0;8>n;++n)r(v,p+n*t.B,u,h+32*n,8),r(y,b+n*t.B,d,f+32*n,8)}}function Rn(t,r,i,s,a,o,l,c,u){var h=[0],d=[0],f=0,p=null!=u?u.kd:0,m=null!=u?u:new rn;if(null==t||12>i)return 7;m.data=t,m.w=r,m.ha=i,r=[r],i=[i],m.gb=[m.gb];t:{var g=r,y=i,b=m.gb;if(e(null!=t),e(null!=y),e(null!=b),b[0]=0,12<=y[0]&&!n(t,g[0],"RIFF")){if(n(t,g[0]+8,"WEBP")){b=3;break t}var w=P(t,g[0]+4);if(12>w||4294967286<w){b=3;break t}if(p&&w>y[0]-8){b=7;break t}b[0]=w,g[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(w=0<m.gb[0],i=i[0];;){t:{var S=t;y=r,b=i;var N=h,_=d,k=g=[0];if((T=f=[f])[0]=0,8>b[0])b=7;else{if(!n(S,y[0],"VP8X")){if(10!=P(S,y[0]+4)){b=3;break t}if(18>b[0]){b=7;break t}var A=P(S,y[0]+8),E=1+L(S,y[0]+12);if(2147483648<=E*(S=1+L(S,y[0]+15))){b=3;break t}null!=k&&(k[0]=A),null!=N&&(N[0]=E),null!=_&&(_[0]=S),y[0]+=18,b[0]-=18,T[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(y=!!(2&g),!w&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=h[0],g=d[0],f&&y&&null==u){b=0;break}if(4>i){b=7;break}if(w&&f||!w&&!f&&!n(t,r[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];t:{A=t,b=r,w=i;var T=m.gb;N=m.na,_=m.P,k=m.Sa,E=22,e(null!=A),e(null!=w),S=b[0];var C=w[0];for(e(null!=N),e(null!=k),N[0]=null,_[0]=null,k[0]=0;;){if(b[0]=S,w[0]=C,8>C){b=7;break t}var I=P(A,S+4);if(4294967286<I){b=3;break t}var D=8+I+1&-2;if(E+=D,0<T&&E>T){b=3;break t}if(!n(A,S,"VP8 ")||!n(A,S,"VP8L")){b=0;break t}if(C[0]<D){b=7;break t}n(A,S,"ALPH")||(N[0]=A,_[0]=S+8,k[0]=I),S+=D,C-=D}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];t:if(T=t,b=r,w=i,N=m.gb[0],_=m.Ja,k=m.xa,A=b[0],S=!n(T,A,"VP8 "),E=!n(T,A,"VP8L"),e(null!=T),e(null!=w),e(null!=_),e(null!=k),8>w[0])b=7;else{if(S||E){if(T=P(T,A+4),12<=N&&T>N-12){b=3;break t}if(p&&T>w[0]-8){b=7;break t}_[0]=T,b[0]+=8,w[0]-=8,k[0]=E}else k[0]=5<=w[0]&&47==T[A+0]&&!(T[A+4]>>5),_[0]=w[0];b=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==c||y||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>i){b=7;break}c=l,p=g,y=o,null==t||5>i?t=0:5<=i&&47==t[r+0]&&!(t[r+4]>>5)?(w=[0],T=[0],N=[0],v(_=new x,t,r,i),mt(_,w,T,N)?(null!=c&&(c[0]=w[0]),null!=p&&(p[0]=T[0]),null!=y&&(y[0]=N[0]),t=1):t=0):t=0}else{if(10>i){b=7;break}c=g,null==t||10>i||!Xt(t,r+3,i-3)?t=0:(p=t[r+0]|t[r+1]<<8|t[r+2]<<16,y=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!y||!t?t=0:(l&&(l[0]=y),c&&(c[0]=t),t=1))}if(!t)return 3;if(l=l[0],g=g[0],f&&(h[0]!=l||d[0]!=g))return 3;null!=u&&(u[0]=m,u.offset=r-u.w,e(4294967286>r-u.w),e(u.offset==u.ha-i));break}return 0==b||7==b&&f&&null==u?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=s&&(s[0]=l),null!=a&&(a[0]=g),0):b}function Mn(t,e,n){var r=e.width,i=e.height,s=0,a=0,o=r,l=i;if(e.Da=null!=t&&0<t.Da,e.Da&&(o=t.cd,l=t.bd,s=t.v,a=t.j,11>n||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=l||s+o>r||a+l>i))return 0;if(e.v=s,e.j=a,e.va=s+o,e.o=a+l,e.U=o,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!M(o,l,n=[t.ib],s=[t.hb]))return 0;e.ib=n[0],e.hb=s[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*i/4,e.Kb=0),1}function jn(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function Fn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=i||0>=a||o+i>t||l+a>e)return 2;t=i,e=a}if(n.da){if(!M(t,e,i=[n.ib],a=[n.hb]))return 2;t=i[0],e=a[0]}}r.width=t,r.height=e;t:{var c=r.width,u=r.height;if(t=r.S,0>=c||0>=u||!(t>=Mr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){o=a=i=e=0;var h=(l=c*zi[t])*u;if(11>t||(a=(u+1)/2*(e=(c+1)/2),12==t&&(o=(i=c)*u)),null==(u=s(h+2*a+o))){t=1;break t}r.sd=u,11>t?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=h):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=h,c.f=u,c.N=0+h,c.Ab=e,c.Cd=a,c.ea=u,c.W=0+h+a,c.Db=e,c.Ed=a,12==t&&(c.F=u,c.J=0+h+2*a),c.Tc=o,c.lb=i)}if(e=1,i=r.S,a=r.width,o=r.height,i>=Mr&&13>i)if(11>i)t=r.f.RGBA,e&=(l=Math.abs(t.A))*(o-1)+a<=t.size,e&=l>=a*zi[i],e&=null!=t.eb;else{t=r.f.kb,l=(a+1)/2,h=(o+1)/2,c=Math.abs(t.fa),u=Math.abs(t.Ab);var d=Math.abs(t.Db),f=Math.abs(t.lb),p=f*(o-1)+a;e&=c*(o-1)+a<=t.Fd,e&=u*(h-1)+l<=t.Cd,e=(e&=d*(h-1)+l<=t.Ed)&c>=a&u>=l&d>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==i&&(e&=f>=a,e&=p<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=jn(r)),t}var Un=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vn=24,zn=32,qn=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];U("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return V(V(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return V(t,e[n-1])},t.Predictor7=function(t,e,n){return V(t,e[n+0])},t.Predictor8=function(t,e,n){return V(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return V(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return V(V(t,e[n-1]),V(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=H(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+H(r>>16&255,t>>16&255,e>>16&255)+H(r>>8&255,t>>8&255,e>>8&255)+H(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(z((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|z((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|z((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|z((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(q((t=V(t,e[n+0]))>>24&255,r>>24&255)<<24|q(t>>16&255,r>>16&255)<<16|q(t>>8&255,r>>8&255)<<8|q(255&t,255&r))>>>0};var Wn=t.PredictorAdd0;t.PredictorAdd1=W,U("Predictor2","PredictorAdd2"),U("Predictor3","PredictorAdd3"),U("Predictor4","PredictorAdd4"),U("Predictor5","PredictorAdd5"),U("Predictor6","PredictorAdd6"),U("Predictor7","PredictorAdd7"),U("Predictor8","PredictorAdd8"),U("Predictor9","PredictorAdd9"),U("Predictor10","PredictorAdd10"),U("Predictor11","PredictorAdd11"),U("Predictor12","PredictorAdd12"),U("Predictor13","PredictorAdd13");var Gn=t.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Kn,Yn=t.ColorIndexInverseTransform,Xn=t.MapARGB,Qn=t.VP8LColorIndexInverseTransformAlpha,Jn=t.MapAlpha,$n=t.VP8LPredictorsAdd=[];$n.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Zn,tr,er,nr,rr,ir,sr,ar,or,lr,cr,ur,hr,dr,fr,pr,mr,gr,vr,yr,br,wr,xr,Sr,Nr,_r,kr,Ar,Er=s(511),Tr=s(2041),Cr=s(225),Ir=s(767),Lr=0,Pr=Tr,Dr=Cr,Or=Ir,Rr=Er,Mr=0,jr=1,Fr=2,Ur=3,Br=4,Vr=5,zr=6,qr=7,Hr=8,Wr=9,Gr=10,Kr=[2,3,7],Yr=[3,3,11],Xr=[280,256,256,256,40],Qr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$r=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],si=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ai=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ui=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],di=[],fi=[],pi=1,mi=2,gi=[],vi=[];yn("UpsampleRgbLinePair",_n,3),yn("UpsampleBgrLinePair",kn,3),yn("UpsampleRgbaLinePair",In,4),yn("UpsampleBgraLinePair",Cn,4),yn("UpsampleArgbLinePair",Tn,4),yn("UpsampleRgba4444LinePair",En,2),yn("UpsampleRgb565LinePair",An,2);var yi=t.UpsampleRgbLinePair,bi=t.UpsampleBgrLinePair,wi=t.UpsampleRgbaLinePair,xi=t.UpsampleBgraLinePair,Si=t.UpsampleArgbLinePair,Ni=t.UpsampleRgba4444LinePair,_i=t.UpsampleRgb565LinePair,ki=16,Ai=1<<ki-1,Ei=-227,Ti=482,Ci=6,Ii=(256<<Ci)-1,Li=0,Pi=s(256),Di=s(256),Oi=s(256),Ri=s(256),Mi=s(Ti-Ei),ji=s(Ti-Ei);Ln("YuvToRgbRow",_n,3),Ln("YuvToBgrRow",kn,3),Ln("YuvToRgbaRow",In,4),Ln("YuvToBgraRow",Cn,4),Ln("YuvToArgbRow",Tn,4),Ln("YuvToRgba4444Row",En,2),Ln("YuvToRgb565Row",An,2);var Fi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ui=[0,2,8],Bi=[8,7,6,4,4,2,2,2,1,1,1,1],Vi=1;this.WebPDecodeRGBA=function(t,n,r,i,s){var a=jr,o=new nn,l=new at;o.ba=l,l.S=a,l.width=[l.width],l.height=[l.height];var c=l.width,u=l.height,h=new ot;if(null==h||null==t)var d=2;else e(null!=h),d=Rn(t,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=d?c=0:(null!=c&&(c[0]=h.width[0]),null!=u&&(u[0]=h.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=s&&(s[0]=l.height);t:{if(i=new Gt,(s=new rn).data=t,s.w=n,s.ha=r,s.kd=1,n=[0],e(null!=s),(0==(t=Rn(s.data,s.w,s.ha,null,null,null,n,null,s))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=o),i.data=s.data,i.w=s.w+s.offset,i.ha=s.ha-s.offset,i.put=ft,i.ac=dt,i.bc=pt,i.ma=o,s.xa){if(null==(t=Tt())){o=1;break t}if(function(t,n){var r=[0],i=[0],s=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,v(t.m,n.data,n.w,n.ha),!mt(t.m,r,i,s)){t.a=3;break e}if(t.xb=mi,n.width=r[0],n.height=i[0],!Ct(r[0],i[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,i)){if(i=0==(n=Fn(i.width,i.height,o.Oa,o.ba))){e:{i=t;n:for(;;){if(null==i){i=0;break e}if(e(null!=i.s.yc),e(null!=i.s.Ya),e(0<i.s.Wb),e(null!=(r=i.l)),e(null!=(s=r.ma)),0!=i.xb){if(i.ca=s.ba,i.tb=s.tb,e(null!=i.ca),!Mn(s.Oa,r,Ur)){i.a=2;break n}if(!It(i,r.width))break n;if(r.da)break n;if((r.da||rt(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!D(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!At(i,i.V,i.Ba,i.c,i.i,r.o,St))break n;s.Dc=i.Ma,i=1;break e}e(0!=i.a),i=0}i=!i}i&&(n=t.a)}else n=t.a}else{if(null==(t=new Kt)){o=1;break t}if(t.Fa=s.na,t.P=s.P,t.qc=s.Sa,Qt(t,i)){if(0==(n=Fn(i.width,i.height,o.Oa,o.ba))){if(t.Aa=0,r=o.Oa,e(null!=(s=t)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(u=h=0;4>u;++u)12>(d=s.pb[u]).lc&&(d.ia=c*Bi[0>d.lc?0:d.lc]>>3),h|=d.ia;h&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=r.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}Zt(t,i)||(n=t.a)}}else n=t.a}0==n&&null!=o.Oa&&o.Oa.fd&&(n=jn(o.ba))}o=n}a=0!=o?null:11>a?l.f.RGBA.eb:l.f.kb.y}else a=null;return a};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function u(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var d=[0],f=[0],p=[],m=new l,g=t,v=function(t,e){var n={},r=0,i=!1,s=0,a=0;if(n.frames=[],!function(t,e){for(var n=0;n<4;n++)if(t[e+n]!="RIFF".charCodeAt(n))return!0;return!1}(t,e)){var o,l;for(h(t,e+=4),e+=8;e<t.length;){var d=c(t,e),f=h(t,e+=4);e+=4;var p=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?a:e-8,v.src_size=s+f+8,r++,i&&(i=!1,s=0,a=0);break;case"VP8X":(v=n.header={}).feature_flags=t[e];var m=e+4;v.canvas_width=1+u(t,m),m+=3,v.canvas_height=1+u(t,m),m+=3;break;case"ALPH":i=!0,s=p+8,a=e-8;break;case"ANIM":(v=n.header).bgcolor=h(t,e),m=e+4,v.loop_count=(o=t)[(l=m)+0]|o[l+1]<<8,m+=2;break;case"ANMF":var g,v;(v=n.frames[r]={}).offset_x=2*u(t,e),e+=3,v.offset_y=2*u(t,e),e+=3,v.width=1+u(t,e),e+=3,v.height=1+u(t,e),e+=3,v.duration=u(t,e),e+=3,g=t[e++],v.dispose=1&g,v.blend=g>>1&1}"ANMF"!=d&&(e+=p)}return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var x=b[0],S=m.WebPDecodeRGBA(g,x.src_off,x.src_size,f,d);x.rgba=S,x.imgwidth=f[0],x.imgheight=d[0];for(var N=0;N<f[0]*d[0]*4;N++)p[N]=S[N];return this.width=f,this.height=d,this.data=p,this}!function(t){var e=function(e,r,l,c){var u=4,h=s;switch(c){case t.image_compression.FAST:u=1,h=i;break;case t.image_compression.MEDIUM:u=6,h=a;break;case t.image_compression.SLOW:u=9,h=o}var d=cC(e=n(e,r,l,h),{level:u});return t.__addimage__.arrayBufferToBinaryString(d)},n=function(t,e,n,r){for(var i,s,a,o=t.length/e,l=new Uint8Array(t.length+o),h=c(),d=0;d<o;d+=1){if(a=d*e,i=t.subarray(a,a+e),r)l.set(r(i,n,s),a+d);else{for(var f,p=h.length,m=[];f<p;f+=1)m[f]=h[f](i,n,s);var g=u(m.concat());l.set(m[g],a+d)}s=i}return l},r=function(t){var e=Array.apply([],t);return e.unshift(0),e},i=function(t,e){var n,r=[],i=t.length;r[0]=1;for(var s=0;s<i;s+=1)n=t[s-e]||0,r[s+1]=t[s]-n+256&255;return r},s=function(t,e,n){var r,i=[],s=t.length;i[0]=2;for(var a=0;a<s;a+=1)r=n&&n[a]||0,i[a+1]=t[a]-r+256&255;return i},a=function(t,e,n){var r,i,s=[],a=t.length;s[0]=3;for(var o=0;o<a;o+=1)r=t[o-e]||0,i=n&&n[o]||0,s[o+1]=t[o]+256-(r+i>>>1)&255;return s},o=function(t,e,n){var r,i,s,a,o=[],c=t.length;o[0]=4;for(var u=0;u<c;u+=1)r=t[u-e]||0,i=n&&n[u]||0,s=n&&n[u-e]||0,a=l(r,i,s),o[u+1]=t[u]-a+256&255;return o},l=function(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n},c=function(){return[r,i,s,a,o]},u=function(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(n,r,i,s){var a,o,l,c,u,h,d,f,p,m,g,v,y,b,w,x=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new nL(n)).imgData,o=l.bits,a=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*l.colors),m=new Uint8Array(p);var N,_=l.pixelBitlength-l.bits;for(b=0,w=0;b<p;b++){for(y=f[b],N=0;N<_;)g[w++]=y>>>N&255,N+=l.bits;m[b]=y>>>N&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(p*(32/l.pixelBitlength)),v=l.colors>1,b=0,w=0;for(var k=0;b<p;)y=f[b++],g[w++]=y>>>0&255,v&&(g[w++]=y>>>16&255,y=f[b++],g[w++]=y>>>0&255),m[k++]=y>>>16&255;o=8}s!==t.image_compression.NONE?(n=e(g,l.width*l.colors,l.colors,s),d=e(m,l.width,1,s)):(n=g,d=m,x=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var A=l.transparency.indexed,E=0;for(b=0,p=A.length;b<p;++b)E+=A[b];if((E/=255)===p-1&&-1!==A.indexOf(0))c=[A.indexOf(0)];else if(E!==p){for(f=l.decodePixels(),m=new Uint8Array(f.length),b=0,p=f.length;b<p;b++)m[b]=A[f[b]];d=e(m,l.width,1)}}var T=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return x===this.decode.FLATE_DECODE&&(S="/Predictor "+T+" "),S+="/Colors "+u+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:i,data:n,index:r,filter:x,decodeParameters:S,transparency:c,palette:h,sMask:d,predictor:T,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:a}}}}(WC.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new rL(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new sL(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(WC.API),aL.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},aL.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){pC.log("bit decode error:"+t)}},aL.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==n&&(this.pos+=4-n)}},aL.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==e&&(this.pos+=4-e)}},aL.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==t&&(this.pos+=4-t)}},aL.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},aL.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},aL.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},aL.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},aL.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new aL(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new sL(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(WC.API),oL.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new oL(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new sL(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(WC.API),WC.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],d=r[c+2],f=r[c+3];s[o++]=u,s[o++]=h,s[o++]=d,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},WC.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},JI=WC.API,$I=JI.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=t.length,p=0,m=o[0]||l,g=[];for(n=0;n<f;n++)r=t.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(d=h&&"object"===(0,SA.A)(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,g.push((o[r]||m)/l+d)),p=r;return g},ZI=JI.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return JI.processArabic&&(t=JI.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:$I.apply(this,arguments).reduce(function(t,e){return t+e},0)},tL=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},eL=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],h=[u],d=n.textIndent||0,f=0,p=0,m=t.split(" "),g=$I.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),y=[];m.map(function(t){(t=t.split(/\s*\n/)).length>1?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),m=y,l=ZI.apply(this,[v,n])}for(s=0,a=m.length;s<a;s++){var b=0;if(r=m[s],l&&"\n"==r[0]&&(r=r.substr(1),b=1),d+f+(p=(i=$I.apply(this,[r,n])).reduce(function(t,e){return t+e},0))>e||b){if(p>e){for(o=tL.apply(this,[r,i,e-(d+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(t,e){return t+e},0)}else u=[r];h.push(u),d=p+l,f=g}else u.push(r),d+=f+p,f=g}return c=l?function(t,e){return(e?v:"")+t.join(" ")}:function(t){return t.join(" ")},h.map(c)},JI.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(eL.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<16;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(t){return"0x"+parseInt(t,10).toString(16)},a=t.__fontmetrics__.compress=function(t){var e,n,i,o,l=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof e)e<0?(i=s(e).slice(3),o="-"):(i=s(e).slice(2),o=""),i=o+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==(0,SA.A)(e))throw new Error("Don't know what to do with value type "+(0,SA.A)(e)+".");i=a(e)}l.push(n+i)}return l.push("}"),l.join("")},o=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,r,i,s,a={},o=1,l=a,c=[],u="",h="",d=t.length-1,f=1;f<d;f+=1)"'"==(s=t[f])?e?(i=e.join(""),e=void 0):e=[]:e?e.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==s?o=-1:void 0===i?n.hasOwnProperty(s)?(u+=n[s],i=parseInt(u,16)*o,o=1,u=""):u+=s:n.hasOwnProperty(s)?(h+=n[s],l[i]=parseInt(h,16)*o,o=1,i=void 0,h=""):h+=s;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=u.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}(WC.API),function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?e(r):e(yC(r)),n.metadata=t.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(WC),WC.API.addSvgAsImage=function(t,e,r,i,s,a,o,l){if(isNaN(e)||isNaN(r))throw pC.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw pC.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(dC.canvg?Promise.resolve(dC.canvg):n.e(455).then(n.bind(n,8455))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t}).then(function(e){return e.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),e,r,i,s,o,l)})},WC.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},WC.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,h=0;function d(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var f=o.length;for(h=0;h<f;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if("object"===(0,SA.A)(t))for(i in t)if(s=t[i],d(o,i)&&void 0!==s){if("boolean"===n[i].type&&"boolean"==typeof s)n[i].value=s;else if("name"===n[i].type&&d(n[i].valueSet,s))n[i].value=s;else if("integer"===n[i].type&&Number.isInteger(s))n[i].value=s;else if("array"===n[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+e.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(WC.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],s=[""],a=0,o=t.length;a<o;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(i[4-n.length],n)}return s.join("")},r=function(t){var e,n,r,i,s,a,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,o=(n=Object.keys(t).sort(function(t,e){return t-e})).length;a<o;a++)e=n[a],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,s=e.newObject,a=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var h=s();a({data:c,addLength1:!0,objectId:h}),i("endobj");var d=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=s();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+UC(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=s();i("<<"),i("/Type /Font"),i("/BaseFont /"+UC(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+t.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=s(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+UC(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,s=e.newObject,a=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var u=s();a({data:l,addLength1:!0,objectId:u}),i("endobj");var h=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=s();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+UC(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+UC(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]);var i=function(t){var e,r=t.text||"",i=t.x,s=t.y,a=t.options||{},o=t.mutex||{},l=o.pdfEscape,c=o.activeFontKey,u=o.fonts,h=c,d="",f=0,p="",m=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:r,x:i,y:s,options:a,mutex:o};for(p=r,h=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[h].metadata.hasOwnProperty("cmap")&&(e=u[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e||p[f].charCodeAt(0)<256&&u[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var g="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===m?g=l(d,h).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=n(d,u[h])),o.isHex=!0,{text:g,x:i,y:s,options:a,mutex:o}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var s=0;for(s=0;s<e.length;s+=1)Array.isArray(e[s])&&3===e[s].length?n.push([i(Object.assign({},r,{text:e[s][0]})).text,e[s][1],e[s][2]]):n.push(i(Object.assign({},r,{text:e[s]})).text);t.text=n}else t.text=i(Object.assign({},r,{text:e})).text}])}(WC),function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(WC.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,s,a,o,l,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),n=e>>8,r=f[n];return void 0!==r?c[256*r+(255&e)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=y(t.charAt(n))))return!1;if("R"===e)return!0}return!1},w=function(t,e,a,o){var l,c,u,h,d=e[o];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":o<1||o+1>=e.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(c=e[o+1])&&"AN"!==c?d="N":g&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=o>0?a[o-1]:"B")&&o+1<e.length&&"EN"===e[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){d="EN";break}if(g){d="N";break}for(u=o+1,h=e.length;u<h&&"ET"===e[u];)u++;d=u<h&&"EN"===e[u]?"EN":"N";break;case"NSM":if(i&&!s){for(h=e.length,u=o+1;u<h&&"NSM"===e[u];)u++;if(u<h){var f=t[o],p=f>=1425&&f<=2303||64286===f;if(l=e[u],p&&("R"===l||"AL"===l)){d="R";break}}}d=o<1||"B"===(l=e[o-1])?"N":a[o-1];break;case"B":g=!1,n=!0,d=v;break;case"S":r=!0,d="N"}return d},x=function(t,e,n){var r=t.split("");return n&&S(r,n,{hiLevel:v}),r.reverse(),e&&e.reverse(),r.join("")},S=function(t,e,i){var s,a,o,l,c,f=-1,p=t.length,m=0,b=[],x=v?h:u,S=[];for(g=!1,n=!1,r=!1,a=0;a<p;a++)S[a]=y(t[a]);for(o=0;o<p;o++){if(c=m,b[o]=w(t,S,b,o),s=240&(m=x[c][d[b[o]]]),m&=15,e[o]=l=x[m][5],s>0)if(16===s){for(a=f;a<o;a++)e[a]=1;f=-1}else f=-1;if(x[m][6])-1===f&&(f=o);else if(f>-1){for(a=f;a<o;a++)e[a]=l;f=-1}"B"===S[o]&&(e[o]=0),i.hiLevel|=l}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=v;for(var i=r-1;i>=0&&"WS"===t[i];i--)e[i]=v}}(S,e,p)},N=function(t,e,r,i,s){if(!(s.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(r&&r.reverse());for(var a,o,l,c,u=e.length,h=0;h<u;){if(i[h]>=t){for(l=h+1;l<u&&i[l]>=t;)l++;for(c=h,o=l-1;c<o;c++,o--)a=e[c],e[c]=e[o],e[o]=a,r&&(a=r[c],r[c]=r[o],r[o]=a);h=l}h++}}},_=function(t,e,n){var r=t.split(""),i={hiLevel:v};return n||(n=[]),S(r,n,i),function(t,e,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<t.length;i++)1===e[i]&&(r=p.indexOf(t[i]))>=0&&(t[i]=p[r+1])}(r,n,i),N(2,r,e,n,i),N(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===s&&(s=b(t)),void 0===o&&(o=b(t))}(t,e),i||!a||o)if(i&&a&&s^o)v=s?1:0,t=x(t,e,n);else if(!i&&a&&o)v=s?1:0,t=_(t,e,n),t=x(t,e);else if(!i||s||a||o){if(i&&!a&&s^o)t=x(t,e),s?(v=0,t=_(t,e,n)):(v=1,t=_(t,e,n),t=x(t,e));else if(i&&s&&!a&&o)v=1,t=_(t,e,n),t=x(t,e);else if(!i&&!a&&s^o){var r=l;s?(v=1,t=_(t,e,n),v=0,l=!1,t=_(t,e,n),l=r):(v=0,t=_(t,e,n),t=x(t,e),v=1,l=!1,t=_(t,e,n),l=r,t=x(t,e))}}else v=0,t=_(t,e,n);else v=s?1:0,t=_(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,a=t.isOutputVisual,s=t.isInputRtl,o=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),i=(t.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var s=0;for(i=[],s=0;s<e.length;s+=1)"[object Array]"===Object.prototype.toString.call(e[s])?i.push([n.doBidiReorder(e[s][0]),e[s][1],e[s][2]]):i.push([n.doBidiReorder(e[s])]);t.text=i}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(WC),WC.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new cL(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new TL(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uL(this.contents),this.head=new fL(this),this.name=new wL(this),this.cmap=new mL(this),this.toUnicode={},this.hhea=new gL(this),this.maxp=new xL(this),this.hmtx=new SL(this),this.post=new yL(this),this.os2=new vL(this),this.loca=new EL(this),this.glyf=new _L(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],i.push(Math.round(t*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,s,a;for(s=0,i=0,a=(t=""+t).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var lL,cL=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,s,a,o;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^s)+256*(255^a)+(255^o)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*s+256*a+o},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),uL=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,s,a,o,l,c,u,h,d,f,p;for(p in d=Object.keys(e).length,o=Math.log(2),u=16*Math.floor(Math.log(d)/o),s=Math.floor(u/o),c=16*d-u,(r=new cL).writeInt(this.scalarType),r.writeShort(d),r.writeShort(u),r.writeShort(s),r.writeShort(c),i=16*d,l=r.pos+i,a=null,f=[],e)for(h=e[p],r.writeString(p),r.writeInt(t(h)),r.writeInt(l),r.writeInt(h.length),f=f.concat(h),"head"===p&&(a=l),l+=h.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=NL.call(t);t.length%4;)t.push(0);for(r=new cL(t),n=0,e=0,i=t.length;e<i;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),hL={}.hasOwnProperty,dL=function(t,e){for(var n in e)hL.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};lL=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var fL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="head",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},t.prototype.encode=function(t){var e;return(e=new cL).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},t}(),pL=function(){function t(t,e){var n,r,i,s,a,o,l,c,u,h,d,f,p,m,g,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,p=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,a=function(){var e,n;for(n=[],o=e=0;0<=r?e<r:e>r;o=0<=r?++e:--e)n.push(t.readUInt16());return n}(),o=g=0,y=i.length;g<y;o=++g)for(m=i[o],n=v=f=p[o];f<=m?v<=m:v>=m;n=f<=m?++v:--v)0===c[o]?s=n+l[o]:0!==(s=a[c[o]/2+(n-f)-(h-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}t.pos=u}return t.encode=function(t,e){var n,r,i,s,a,o,l,c,u,h,d,f,p,m,g,v,y,b,w,x,S,N,_,k,A,E,T,C,I,L,P,D,O,R,M,j,F,U,B,V,z,q,H,W,G,K;switch(C=new cL,s=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(p=0,m=function(){var t=[];for(f=0;f<256;++f)t.push(0);return t}(),v={0:0},i={},I=0,O=s.length;I<O;I++)null==v[H=t[r=s[I]]]&&(v[H]=++p),i[r]={old:t[r],new:v[t[r]]},m[r]=v[t[r]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(m),{charMap:i,subtable:C.data,maxGlyphID:p+1};case"unicode":for(E=[],u=[],y=0,v={},n={},g=l=null,L=0,R=s.length;L<R;L++)null==v[w=t[r=s[L]]]&&(v[w]=++y),n[r]={old:w,new:v[w]},a=v[w]-r,null!=g&&a===l||(g&&u.push(g),E.push(r),l=a),g=r;for(g&&u.push(g),u.push(65535),E.push(65535),k=2*(_=E.length),N=2*Math.pow(Math.log(_)/Math.LN2,2),h=Math.log(N/2)/Math.LN2,S=2*_-N,o=[],x=[],d=[],f=P=0,M=E.length;P<M;f=++P){if(A=E[f],c=u[f],65535===A){o.push(0),x.push(0);break}if(A-(T=n[A].new)>=32768)for(o.push(0),x.push(2*(d.length+_-f)),r=D=A;A<=c?D<=c:D>=c;r=A<=c?++D:--D)d.push(n[r].new);else o.push(T-A),x.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*_+2*d.length),C.writeUInt16(0),C.writeUInt16(k),C.writeUInt16(N),C.writeUInt16(h),C.writeUInt16(S),z=0,j=u.length;z<j;z++)r=u[z],C.writeUInt16(r);for(C.writeUInt16(0),q=0,F=E.length;q<F;q++)r=E[q],C.writeUInt16(r);for(W=0,U=o.length;W<U;W++)a=o[W],C.writeUInt16(a);for(G=0,B=x.length;G<B;G++)b=x[G],C.writeUInt16(b);for(K=0,V=d.length;K<V;K++)p=d[K],C.writeUInt16(p);return{charMap:n,subtable:C.data,maxGlyphID:y+1}}},t}(),mL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="cmap",t.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new pL(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},t.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=pL.encode(t,e),(r=new cL).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),gL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="hhea",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},t}(),vL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="OS/2",t.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},t}(),yL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="post",t.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var e,n,r;for(r=[],i=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;i=0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},t}(),bL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="name",t.prototype.parse=function(t){var e,n,r,i,s,a,o,l,c,u,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(o={},i=c=0,u=n.length;c<u;i=++c)r=n[i],t.pos=r.offset,l=t.readString(r.length),s=new bL(l,r),null==o[h=r.nameID]&&(o[h]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),xL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="maxp",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},t}(),SL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="hmtx",t.prototype.parse=function(t){var e,n,r,i,s,a,o;for(t.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)i.push(t.readInt16());return i}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)i=n[t],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],e=s=0;0<=r?s<r:s>r;e=0<=r?++s:--s)o.push(this.widths.push(n));return o},t.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},t}(),NL=[].slice,_L=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(t){var e,n,r,i,s,a,o,l,c,u;return t in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,s=(a=new cL(e.read(r))).readShort(),l=a.readShort(),u=a.readShort(),o=a.readShort(),c=a.readShort(),this.cache[t]=-1===s?new AL(a,l,u,o,c):new kL(a,s,l,u,o,c),this.cache[t]))},t.prototype.encode=function(t,e,n){var r,i,s,a,o;for(s=[],i=[],a=0,o=e.length;a<o;a++)r=t[e[a]],i.push(s.length),r&&(s=s.concat(r.encode(n)));return i.push(s.length),{table:s,offsets:i}},t}(),kL=function(){function t(t,e,n,r,i,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),AL=function(){function t(t,e,n,r,i){var s,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new cL(NL.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),EL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dL(t,lL),t.prototype.tag="loca",t.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=4)r.push(t.readUInt32());return r}.call(this)},t.prototype.indexOf=function(t){return this.offsets[t]},t.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},t.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,s=0;s<n.length;++s)if(n[s]=r,i<e.length&&e[i]==s){++i,n[s]=r;var a=this.offsets[s],o=this.offsets[s+1]-a;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),TL=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,s,a,o;for(r={},s=0,a=t.length;s<a;s++)r[i=t[s]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in o=this.glyphsFor(e))n=o[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,s,a,o,l,c,u,h,d,f,p,m,g;for(r in n=mL.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},g=n.charMap)d[(o=g[r]).old]=o.new;for(f in h=n.maxGlyphID,s)f in d||(d[f]=h++);return c=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(d),u=Object.keys(c).sort(function(t,e){return t-e}),p=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)a=u[t],n.push(c[a]);return n}(),i=this.font.glyf.encode(s,p,d),l=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},t}();WC.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var t,i,s;for(s=[],t=0,i=n.length;t<i;t++)r=n[t],s.push(e.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join("\n")}return""+n},e}();const CL=WC,IL=t=>{let{user:e}=t;const[n,i]=(0,r.useState)(new Date),[s,a]=(0,r.useState)(null),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),{firebase:h}=Ty();(0,r.useEffect)(()=>{d()},[n,e,h]);const d=async()=>{if(null!==h&&void 0!==h&&h.db)try{u(!0);const t=n.getFullYear(),r=n.getMonth()+1;console.log("Generating report for:",{userId:e.uid,year:t,month:r});const i=await GE(e.uid,t,r,h.db);console.log("Report records:",i);const s=VE(i);l(i),a(s)}catch(t){console.error("Error generating report:",t),_s.error("Failed to generate report: ".concat(t.message))}finally{u(!1)}else console.log("Firebase DB not available yet for reports")},f=t=>{i("prev"===t?hT(n,1):new Date(n.getFullYear(),n.getMonth()+1))};return c?(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Generating report..."})]})}):(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,Ay.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,Ay.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Monthly Reports"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"View and export your attendance reports"})]}),(0,Ay.jsx)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card mb-8",children:(0,Ay.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ay.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ay.jsx)(mA,{className:"text-primary-600",size:24}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:yE(n,"MMMM yyyy")}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Select month to view report"})]})]}),(0,Ay.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ay.jsx)("button",{onClick:()=>f("prev"),className:"btn-secondary",children:"Previous"}),(0,Ay.jsx)("button",{onClick:()=>f("next"),disabled:n>=zE(new Date),className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}),s&&(0,Ay.jsxs)(Ay.Fragment,{children:[(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Ay.jsx)(sT,{title:"Total Days",value:s.totalDays,icon:mA,color:"primary",bgColor:"bg-primary-50",textColor:"text-primary-600"}),(0,Ay.jsx)(sT,{title:"Full Days",value:s.fullDays,icon:wA,color:"success",bgColor:"bg-success-50",textColor:"text-success-600"}),(0,Ay.jsx)(sT,{title:"Total Hours",value:UE(s.totalWorkedHours),icon:sA,color:"primary",bgColor:"bg-primary-50",textColor:"text-primary-600"}),(0,Ay.jsx)(sT,{title:"Late Days",value:s.lateDays,icon:xA,color:"warning",bgColor:"bg-warning-50",textColor:"text-warning-600"})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,Ay.jsxs)(tA.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"card",children:[(0,Ay.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attendance Breakdown"}),(0,Ay.jsxs)("div",{className:"space-y-4",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Full Days"}),(0,Ay.jsx)("span",{className:"font-semibold text-success-600",children:s.fullDays})]}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Half Days"}),(0,Ay.jsx)("span",{className:"font-semibold text-warning-600",children:s.halfDays})]}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Short Days"}),(0,Ay.jsx)("span",{className:"font-semibold text-danger-600",children:s.shortDays})]}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Absent Days"}),(0,Ay.jsx)("span",{className:"font-semibold text-danger-600",children:s.absentDays})]}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Incomplete Days"}),(0,Ay.jsx)("span",{className:"font-semibold text-warning-600",children:s.incompleteDays})]})]})]}),(0,Ay.jsxs)(tA.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card",children:[(0,Ay.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,Ay.jsxs)("div",{className:"space-y-4",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Attendance Rate"}),(0,Ay.jsxs)("span",{className:"font-semibold text-primary-600",children:[s.totalDays>0?Math.round((s.fullDays+s.halfDays)/s.totalDays*100):0,"%"]})]}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Punctuality Rate"}),(0,Ay.jsxs)("span",{className:"font-semibold text-primary-600",children:[s.totalDays>0?Math.round((s.totalDays-s.lateDays)/s.totalDays*100):0,"%"]})]}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ay.jsx)("span",{className:"text-gray-600",children:"Avg Hours/Day"}),(0,Ay.jsx)("span",{className:"font-semibold text-primary-600",children:s.totalDays>0?UE(s.totalWorkedHours/s.totalDays):"0h"})]})]})]})]}),(0,Ay.jsx)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:(0,Ay.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ay.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ay.jsx)(gA,{className:"text-primary-600",size:24}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Export Report"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Download your attendance report"})]})]}),(0,Ay.jsxs)("div",{className:"flex space-x-3",children:[(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(!o.length)return;const t=[["Date","In Time","Out Time","Hours Worked","Status"]];o.forEach(e=>{const n=e.inTime&&e.outTime?(new Date(e.outTime)-new Date(e.inTime))/36e5:0;t.push([e.date,e.inTime?yE(new Date(e.inTime),"HH:mm:ss"):"--:--:--",e.outTime?yE(new Date(e.outTime),"HH:mm:ss"):"--:--:--",UE(n),"Present"])});const e=t.map(t=>t.join(",")).join("\n"),r=new Blob([e],{type:"text/csv"}),i=window.URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download="attendance-report-".concat(yE(n,"yyyy-MM"),".csv"),s.click(),window.URL.revokeObjectURL(i),_s.success("CSV exported successfully!")},className:"flex items-center px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors",children:[(0,Ay.jsx)(mT,{className:"mr-2",size:16}),"Export CSV"]}),(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{if(!s)return;const t=new CL,r=yE(n,"MMMM yyyy");t.setFontSize(20),t.text("Attendance Report",20,30),t.setFontSize(14),t.text("Employee: ".concat(e.displayName||e.email),20,45),t.text("Period: ".concat(r),20,55),t.text("Generated: ".concat(yE(new Date,"PPP")),20,65),t.setFontSize(16),t.text("Summary",20,85),t.setFontSize(12);let i=100;[["Total Working Days",s.totalDays],["Full Days",s.fullDays],["Half Days",s.halfDays],["Short Days",s.shortDays],["Late Days",s.lateDays],["Absent Days",s.absentDays],["Incomplete Days",s.incompleteDays],["Total Hours Worked",UE(s.totalWorkedHours)]].forEach(e=>{let[n,r]=e;t.text("".concat(n,": ").concat(r),20,i),i+=10}),o.length>0&&(i+=10,t.setFontSize(16),t.text("Detailed Records",20,i),i+=15,t.setFontSize(10),t.text("Date",20,i),t.text("In Time",60,i),t.text("Out Time",100,i),t.text("Hours",140,i),t.text("Status",170,i),i+=10,o.forEach(e=>{i>270&&(t.addPage(),i=20),t.text(e.date,20,i),t.text(e.inTime?yE(new Date(e.inTime),"HH:mm"):"--:--",60,i),t.text(e.outTime?yE(new Date(e.outTime),"HH:mm"):"--:--",100,i);const n=e.inTime&&e.outTime?(new Date(e.outTime)-new Date(e.inTime))/36e5:0;t.text(UE(n),140,i),t.text("Present",170,i),i+=8})),t.save("attendance-report-".concat(yE(n,"yyyy-MM"),".pdf")),_s.success("Report exported successfully!")},className:"flex items-center px-4 py-2 bg-danger-600 text-white rounded-lg hover:bg-danger-700 transition-colors",children:[(0,Ay.jsx)(mT,{className:"mr-2",size:16}),"Export PDF"]})]})]})})]})]})})},LL=rA("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),PL=t=>{let{user:e}=t;const[n,i]=(0,r.useState)({officeTimings:{officialInTime:"09:00",officialOutTime:"18:00",halfDayHours:4,lateMarkMinutes:15,shortDayHours:6},officeLocation:{latitude:40.7128,longitude:-74.006,radius:200,address:"Office Location"}}),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),{firebase:c}=Ty(),{latitude:u,longitude:h,getCurrentLocation:d}=bE();(0,r.useEffect)(()=>{f()},[e,c]);const f=async()=>{if(null!==c&&void 0!==c&&c.db)try{a(!0);const t=await KE(e.uid,c.db);i(t)}catch(t){console.error("Error loading settings:",t),_s.error("Failed to load settings")}finally{a(!1)}},p=(t,e)=>{i(n=>H(H({},n),{},{officeTimings:H(H({},n.officeTimings),{},{[t]:e})}))},m=(t,e)=>{i(n=>H(H({},n),{},{officeLocation:H(H({},n.officeLocation),{},{[t]:e})}))};return s?(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Loading settings..."})]})}):(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,Ay.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,Ay.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Configure your office attendance system"})]}),(0,Ay.jsxs)("div",{className:"space-y-8",children:[(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[(0,Ay.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ay.jsx)(sA,{className:"text-primary-600 mr-3",size:24}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Office Timings"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Set your official working hours and policies"})]})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Official In Time"}),(0,Ay.jsx)("input",{type:"time",value:n.officeTimings.officialInTime,onChange:t=>p("officialInTime",t.target.value),className:"input-field"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Official Out Time"}),(0,Ay.jsx)("input",{type:"time",value:n.officeTimings.officialOutTime,onChange:t=>p("officialOutTime",t.target.value),className:"input-field"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Half Day Hours"}),(0,Ay.jsx)("input",{type:"number",min:"1",max:"12",value:n.officeTimings.halfDayHours,onChange:t=>p("halfDayHours",parseInt(t.target.value)),className:"input-field"}),(0,Ay.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum hours for half day"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Late Mark Minutes"}),(0,Ay.jsx)("input",{type:"number",min:"0",max:"60",value:n.officeTimings.lateMarkMinutes,onChange:t=>p("lateMarkMinutes",parseInt(t.target.value)),className:"input-field"}),(0,Ay.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Grace period before marking late"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Day Hours"}),(0,Ay.jsx)("input",{type:"number",min:"1",max:"12",value:n.officeTimings.shortDayHours,onChange:t=>p("shortDayHours",parseInt(t.target.value)),className:"input-field"}),(0,Ay.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum hours to avoid short day"})]})]})]}),(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[(0,Ay.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ay.jsx)(aA,{className:"text-primary-600 mr-3",size:24}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Office Location"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Set the GPS coordinates for attendance validation"})]})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),(0,Ay.jsx)("input",{type:"number",step:"any",value:n.officeLocation.latitude,onChange:t=>m("latitude",parseFloat(t.target.value)),className:"input-field"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),(0,Ay.jsx)("input",{type:"number",step:"any",value:n.officeLocation.longitude,onChange:t=>m("longitude",parseFloat(t.target.value)),className:"input-field"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Radius (meters)"}),(0,Ay.jsx)("input",{type:"number",min:"50",max:"1000",value:n.officeLocation.radius,onChange:t=>m("radius",parseInt(t.target.value)),className:"input-field"}),(0,Ay.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Allowed distance from office"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,Ay.jsx)("input",{type:"text",value:n.officeLocation.address,onChange:t=>m("address",t.target.value),className:"input-field",placeholder:"Office address"})]})]}),(0,Ay.jsx)("div",{className:"mt-4",children:(0,Ay.jsxs)("button",{onClick:()=>{u&&h?(i(t=>H(H({},t),{},{officeLocation:H(H({},t.officeLocation),{},{latitude:u,longitude:h,address:"Current Location"})})),_s.success("Current location set as office location")):(d(),_s.error("Unable to get current location"))},className:"flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-lg hover:bg-primary-200 transition-colors",children:[(0,Ay.jsx)(aA,{className:"mr-2",size:16}),"Use Current Location"]})})]}),(0,Ay.jsxs)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[(0,Ay.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ay.jsx)(iA,{className:"text-primary-600 mr-3",size:24}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Company Information"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Basic company details for reports"})]})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),(0,Ay.jsx)("input",{type:"text",value:n.companyName||"AttendanceHub",onChange:t=>i(e=>H(H({},e),{},{companyName:t.target.value})),className:"input-field",placeholder:"Your Company Name"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),(0,Ay.jsx)("input",{type:"text",value:n.department||"",onChange:t=>i(e=>H(H({},e),{},{department:t.target.value})),className:"input-field",placeholder:"Your Department"})]})]})]}),(0,Ay.jsx)(tA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex justify-end",children:(0,Ay.jsxs)(tA.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(null!==c&&void 0!==c&&c.db)try{l(!0),await(async(t,e,n)=>{try{const r=Qg(n,"settings",t),i=H(H({},e),{},{updatedAt:(new Date).toISOString()});return await Qv(r,i),i}catch(r){throw console.error("Error updating settings:",r),r}})(e.uid,n,c.db),_s.success("Settings saved successfully!")}catch(t){console.error("Error saving settings:",t),_s.error("Failed to save settings")}finally{l(!1)}else _s.error("Database not available. Please try again.")},disabled:o,className:"flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o?(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):(0,Ay.jsx)(LL,{className:"mr-2",size:20}),o?"Saving...":"Save Settings"]})})]})]})})},DL=()=>{const[t,e]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)("dashboard"),{firebase:c,loading:u,error:h}=Ty();(0,r.useEffect)(()=>{if(null===c||void 0===c||!c.auth||u)return;const t=(n=c.auth,r=t=>{e(t),i(!1)},I(n).onAuthStateChanged(r,s,a));var n,r,s,a;return()=>t()},[c,u]);const d=()=>{a(!1)};return s?(0,Ay.jsx)(oA,{onComplete:d}):h?(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("div",{className:"text-red-600 mb-4",children:"Firebase Error"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Please check your Firebase configuration"}),(0,Ay.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:h.message})]})}):u||n?(0,Ay.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ay.jsxs)("div",{className:"text-center",children:[(0,Ay.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Ay.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):t?(0,Ay.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ay.jsx)(bA,{activeTab:o,setActiveTab:l,user:t}),(()=>{switch(o){case"dashboard":default:return(0,Ay.jsx)(aT,{user:t});case"calendar":return(0,Ay.jsx)(pT,{user:t});case"reports":return(0,Ay.jsx)(IL,{user:t});case"settings":return(0,Ay.jsx)(PL,{user:t})}})(),(0,Ay.jsx)(Ns,{position:"top-right"})]}):(0,Ay.jsxs)(Ay.Fragment,{children:[(0,Ay.jsx)(fA,{}),(0,Ay.jsx)(Ns,{position:"top-right"})]})};const OL=function(){return(0,Ay.jsx)(Ly,{children:(0,Ay.jsx)(DL,{})})};i.createRoot(document.getElementById("root")).render((0,Ay.jsx)(r.StrictMode,{children:(0,Ay.jsx)(OL,{})}))})();
//# sourceMappingURL=main.86421eb4.js.map